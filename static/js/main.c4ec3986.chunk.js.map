{"version":3,"sources":["img/loading.png","img/404-illustration.svg","img/covid2.png","img/app.png","components/BottomNav.js","firebase.js","utils/Constants.js","components/LinkCards.js","components/Snackbar.js","components/AddFormDialog.js","components/EditFormDialog.js","pages/Folder.js","utils/LinkLibraryServices.js","pages/Home.js","pages/Collection.js","utils/Themes.js","components/DiscoverProvider.js","pages/Discover.js","components/Settings.js","components/Header.js","App.js","index.js"],"names":["module","exports","useStyles","makeStyles","theme","bottomBar","position","bottom","background","palette","primary","main","margin","padding","width","zIndex","BottomNav","props","classes","history","useHistory","useState","value","setValue","listen","location","action","pathname","replace","BottomNavigation","onChange","event","tab","push","className","BottomNavigationAction","label","icon","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","LinkActions","SnackbarActions","FormActions","PageActions","CardType","DiscoverActions","CollectionActions","AppActions","cardContainer","paper","height","borderColor","light","borderRadius","spacing","cardContent","lineHeight","textOverflow","getHostName","url","matches","match","LinkCard","dispatch","data","type","hostName","link_url","linkDetails","link_title","folder_id","link_img","date_added","is_archived","Card","variant","CardActionArea","mediaHeight","CardMedia","component","alt","image","title","getCardMedia","CardContent","Typography","gutterBottom","noWrap","flag","stats","countryCode","undefined","style","display","justify","CircularProgress","color","JSON","parse","localStorage","getItem","size","thickness","alignItems","marginRight","src","rank","activeCases","toLocaleString","totalConfirmed","totalDeaths","totalRecovered","lastUpdated","substring","getCardContent","archiveButton","IconButton","aria-label","onClick","payload","id","link_id","unarchiveButton","editButton","docId","deleteButton","addToLibraryButton","defaultButtons","text","onCopy","message","e","preventDefault","window","open","CardActions","disableSpacing","getCardMenuItems","snackBar","breakpoints","up","Notifier","openSnackbar","setOpenSnackbar","snackbarMessage","setSnackbarMessage","undoButton","snackbarUndoButton","setSnackbarUndoButton","useEffect","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","Button","fontSize","fabAdd","right","fabCancel","formInput","root","bottomAppBar","top","Transition","React","forwardRef","ref","Slide","direction","formReducer","state","initialState","AddFormDialog","folders","folderDetails","setFolderDetails","unsubscribe","firestore","collection","onSnapshot","snapshot","newDetails","docs","map","doc","useDetails","useTheme","fullScreenDialog","useMediaQuery","setOpen","setSnackbarOpen","collectionName","setCollectionName","collectionDesc","setCollectionDesc","defaultFolder","linkInFolder","setLinkInFolder","linkTitle","setLinkTitle","linkUrl","setLinkUrl","linkImg","setLinkImg","useReducer","formDispatch","resetFields","handleGetDetails","axios","get","then","res","$","cheerio","load","attr","img","test","attribs","catch","err","console","log","Fab","Dialog","fullScreen","TransitionComponent","aria-labelledby","onSubmit","mode","add","folder_name","folder_desc","error","Date","DialogTitle","DialogContent","TextField","required","multiline","autoFocus","target","select","filter","option","MenuItem","key","EditFormDialog","from","linkId","setLinkId","collection_id","collectionId","setCollectionId","edit","update","children","each","i","link","folderNameHeader","linkCardsReducer","showForm","clickedLinkData","delete","isPageLoading","Folder","name","linkData","setLinkDetails","linkRef","orderBy","useLinks","cardView","Grid","item","links","fetchAll","windowSize","setWindowSize","handleResize","innerWidth","innerHeight","addEventListener","removeEventListener","useWindowSize","showHeader","Container","container","xs","align","paddingTop","loadingBg","length","monitorImagesLoaded","columnWidth","gutterWidth","gutterHeight","Fade","in","errorBg","Home","avatar","backgroundColor","secondary","folderIcon","swipeRightContainer","justifyContent","swipeRightAction","alignContent","swipeIcon","swipeLeftContainer","swipeLeftAction","listItem","collectionHolder","marginBottom","collectionDispatch","folderData","openFolder","set","Collection","useCollection","dC","folder","is_editable","uC","listView","swipeLeft","content","actionAnimation","ActionAnimations","RETURN","swipeRight","REMOVE","blockSwipe","ListItem","ListItemAvatar","Avatar","ListItemText","defaultCollections","userCollections","md","List","lightTheme","createMuiTheme","values","sm","lg","xl","default","dark","contrastText","typography","subtitle1","fontWeight","h5","letterSpacing","h6","textTransform","overrides","MuiBottomNavigationAction","MuiCssBaseline","darkTheme","subtitle2","overline","caption","h4","MuiIconButton","colorPrimary","MuiListItemText","MuiOutlinedInput","borderWidth","MuiFormLabel","MuiMenuItem","gridListHolder","flexWrap","overflow","gridList","discoverHeader","containerWrapper","covidGridListWrapper","discoverDispatch","DiscoverProvider","query","articleCards","news","setNews","apiCall","useNews","article","GridListTile","photoCards","pexels","createClient","photos","setPhotos","curated","per_page","usePhotos","photo","photographer","portrait","covidCards","setData","covidData","useCovidUpdate","info","index","country","GridList","cols","useGridSize","cellHeight","getCards","chipContainer","chip","covidInfo","covidImg","backgroundSize","backgroundRepeat","backgroundPosition","Discover","chipData","newsFeedQuery","setNewsFeedQuery","activeNewsFeed","setActiveNewsFeed","chips","Chip","getNewsFeed","photoFeed","covidUpdate","body","header","paddingBottom","Settings","aboutBg","Paper","menuButton","flexGrow","flexDirection","appBar","left","Header","appDispatch","anchorEl","setAnchorEl","handleClose","AppBar","Toolbar","currentTarget","Menu","Boolean","show","setItem","stringify","showMenu","App","setTab","ThemeProvider","CssBaseline","basename","exact","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c4ec3986.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/loading.bb195f62.png\";","module.exports = __webpack_public_path__ + \"static/media/404-illustration.447af8f1.svg\";","module.exports = __webpack_public_path__ + \"static/media/covid2.4b4b29dc.png\";","module.exports = __webpack_public_path__ + \"static/media/app.8ef1895c.png\";","import React, { useState } from \"react\"\r\nimport { BottomNavigation, BottomNavigationAction } from '@material-ui/core'\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\nimport FolderIcon from '@material-ui/icons/Folder'\r\nimport PagesIcon from '@material-ui/icons/Pages'\r\nimport HomeIcon from '@material-ui/icons/Home'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tbottomBar: {\r\n\t\tposition: \"fixed\",\r\n\t\tbottom: 0,\r\n\t\tbackground: theme.palette.primary.main,\r\n\t\tmargin: 0,\r\n\t\tpadding: 0,\r\n\t\twidth: \"100vw\",\r\n\t\tzIndex: 100,\r\n\t}\r\n}))\r\n\r\nfunction BottomNav(props) {\r\n\r\n\tconst classes = useStyles()\r\n\tconst history = useHistory()\r\n\tconst [value, setValue] = useState(props.value)\r\n\tconst handleChange = (event, tab) => { \r\n\t\thistory.push(`/${tab}`)\r\n\t\tsetValue(tab)\r\n\t\tprops.onChange(tab)\r\n\t}\r\n\t\r\n\thistory.listen((location, action) => {\r\n\t\tif (action === \"POP\") setValue(location.pathname.replace(\"/\", \"\"))\r\n\t})\r\n\r\n\treturn (\r\n\t\t<BottomNavigation \r\n\t\t\tvalue={value} \r\n\t\t\tonChange={handleChange} \r\n\t\t\tclassName={classes.bottomBar}\r\n\t\t>\r\n\t\t\t<BottomNavigationAction label=\"Home\" value=\"\" icon={<HomeIcon />} />\r\n\t\t\t<BottomNavigationAction label=\"Collection\" value=\"collection\" icon={<FolderIcon />} />\r\n\t\t\t<BottomNavigationAction label=\"Discover\" value=\"discover\" icon={<PagesIcon />} />\r\n\t\t\t{/* <BottomNavigationAction label=\"Settings\" value=\"settings\" icon={<SettingsIcon />} /> */}\r\n\t\t</BottomNavigation>\r\n\t);\r\n}\r\n\r\nexport default BottomNav","import firebase from \"firebase/app\"\r\nimport \"firebase/firestore\"\r\n\r\n// Your web app's Firebase configuration\r\nvar firebaseConfig = {\r\n  apiKey: \"AIzaSyBaF7HPX0cehZsg5R1uaPwn-g-c8lO35Tk\",\r\n  authDomain: \"link-library-5cfc6.firebaseapp.com\",\r\n  databaseURL: \"https://link-library-5cfc6.firebaseio.com\",\r\n  projectId: \"link-library-5cfc6\",\r\n  storageBucket: \"link-library-5cfc6.appspot.com\",\r\n  messagingSenderId: \"405205691939\",\r\n  appId: \"1:405205691939:web:a040686ea827173f210b96\",\r\n  measurementId: \"G-3J7Y752GEE\"\r\n};\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport default firebase","\r\n\r\nexport const LinkActions = {\r\n  ADD: \"add-link\",\r\n  COPY: \"copy-link\",\r\n  EDIT: \"edit-link\",\r\n  DELETE: \"delete-link\",\r\n  ARCHIVE: \"archive-link\",\r\n  UNARCHIVE: \"unarchive-link\",\r\n  UNDO_DELETE: \"undo-delete-link\",\r\n}\r\n\r\nexport const SnackbarActions = {\r\n  SHOW: \"show-snackbar\",\r\n  CLOSE: \"close-snackbar\",\r\n}\r\n\r\nexport const FormActions = {\r\n  CLOSE: \"close-edit-form\",\r\n}\r\n\r\nexport const PageActions = {\r\n  LOAD: \"page-loading\"\r\n}\r\n\r\nexport const CardType = {\r\n  REGULAR: \"regular-link-card\",\r\n  DISCOVER_NEWS: \"discover-link-card-news\",\r\n  DISCOVER_PHOTOS: \"discover-link-card-photos\",\r\n  COVID_UPDATE: \"discover-covid-update\"\r\n}\r\n\r\nexport const DiscoverActions = {\r\n  ADD: \"add-to-library\",\r\n  SAVE: \"save-to-library\"\r\n}\r\n\r\nexport const CollectionActions = {\r\n  EDIT: \"edit-folder\",\r\n  OPEN: \"open-folder\",\r\n  DELETE: \"delete-folder\",\r\n  ADD: \"add-folder\",\r\n  CLOSE: \"close-folder\",\r\n  SAVE_UPDATED: \"save-updated-folder\"\r\n}\r\n\r\nexport const AppActions = {\r\n\tTOGGLE_THEME: \"toggle-theme\",\r\n\tOPEN_MENU: \"open-menu\",\r\n\tCLOSE_MENU: \"close-menu\"\r\n}","import React from \"react\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\nimport { Card,\r\n\tCardActionArea,\r\n\tCardActions,\r\n\tCardContent,\r\n\tCardMedia,\r\n\tTypography,\r\n\tCircularProgress,\r\n} from \"@material-ui/core\"\r\nimport DeleteIcon from \"@material-ui/icons/Delete\"\r\nimport EditIcon from \"@material-ui/icons/Edit\"\r\nimport LinkIcon from '@material-ui/icons/Link'\r\nimport LaunchIcon from '@material-ui/icons/Launch'\r\nimport IconButton from \"@material-ui/core/IconButton\"\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport ArchiveIcon from '@material-ui/icons/Archive'\r\nimport UnarchiveIcon from '@material-ui/icons/Unarchive'\r\n\r\nimport { CopyToClipboard } from 'react-copy-to-clipboard'\r\nimport { LinkActions, CardType, DiscoverActions } from \"../utils/Constants\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tcardContainer: {\r\n\t\tbackground: theme.palette.background.paper,\r\n\t\twidth: \"100%\",\r\n\t\theight: \"100%\",\r\n\t\tborderColor: theme.palette.primary.light,\r\n\t\tborderRadius: theme.spacing(1),\r\n\t},\r\n\tcardContent: {\r\n\t\tlineHeight: 1.25,\r\n\t\ttextOverflow: \"ellipsis\",\r\n\t}\r\n}))\r\n\r\nconst LinkCard = ({ dispatch, data, type,...props }) => {\r\n\r\n\tconst classes = useStyles()\r\n\tlet hostName = type !== CardType.COVID_UPDATE ? getHostName(data.link_url) : \"\"\r\n\tconst linkDetails = {\r\n\t\tlink_title: data.link_title,\r\n\t\tlink_url: data.link_url,\r\n\t\tfolder_id: data.folder_id,\r\n\t\tlink_img: data.link_img,\r\n\t\tdate_added: data.date_added,\r\n\t\tis_archived: data.is_archived\r\n\t}\r\n\r\n\r\n\tconst getCardMenuItems = () => {\r\n\r\n\t\tconst archiveButton \r\n\t\t\t= <>\r\n\t\t\t\t<IconButton size=\"small\" color=\"primary\" aria-label=\"archive-link\"\r\n\t\t\t\t\tonClick={() => dispatch({\r\n\t\t\t\t\t\ttype: LinkActions.ARCHIVE,\r\n\t\t\t\t\t\tpayload: { id: data.link_id, data: { is_archived: true } }\r\n\t\t\t\t\t})}>\r\n\t\t\t\t\t<ArchiveIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</>\r\n\r\n\t\tconst unarchiveButton\r\n\t\t\t= <>\r\n\t\t\t\t<IconButton size=\"small\" color=\"primary\" aria-label=\"unarchive-link\"\r\n\t\t\t\t\tonClick={() => dispatch({\r\n\t\t\t\t\t\ttype: LinkActions.UNARCHIVE,\r\n\t\t\t\t\t\tpayload: { id: data.link_id, data: { is_archived: false } }\r\n\t\t\t\t\t})}>\r\n\t\t\t\t\t<UnarchiveIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</>\r\n\r\n\t\tconst editButton\r\n\t\t\t= <>\r\n\t\t\t\t<IconButton size=\"small\" color=\"primary\" aria-label=\"edit-link-details\"\r\n\t\t\t\t\tonClick={() => dispatch({ \r\n\t\t\t\t\t\ttype: LinkActions.EDIT,\r\n\t\t\t\t\t\tpayload: { data: { docId: data.link_id, ...linkDetails } }\r\n\t\t\t\t\t})}\r\n\t\t\t\t>\r\n\t\t\t\t\t<EditIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</>\r\n\r\n\t\tconst deleteButton\r\n\t\t\t= <>\r\n\t\t\t\t<IconButton size=\"small\" color=\"primary\" aria-label=\"delete-link\"\r\n\t\t\t\t\tonClick={() => dispatch({\r\n\t\t\t\t\t\ttype: LinkActions.DELETE,\r\n\t\t\t\t\t\tpayload: { id: data.link_id, data: linkDetails }\r\n\t\t\t\t\t})}\r\n\t\t\t\t>\r\n\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</>\r\n\r\n\t\tconst addToLibraryButton\r\n\t\t\t= <>\r\n\t\t\t\t<IconButton size=\"small\" color=\"primary\" aria-label=\"add-link-to-library\"\r\n\t\t\t\t\tonClick={() => dispatch({ \r\n\t\t\t\t\t\ttype: DiscoverActions.ADD,\r\n\t\t\t\t\t\tpayload: { data: { ...data, folder_id: \"3ppmoaOw6ANJk10oWmhh\" } }\r\n\t\t\t\t\t})}\r\n\t\t\t\t>\r\n\t\t\t\t\t<AddIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</>\r\n\t\t\r\n\t\tconst defaultButtons\r\n\t\t\t= <>\r\n\t\t\t\t<CopyToClipboard text={data.link_url} \r\n\t\t\t\t\tonCopy={() => dispatch({ \r\n\t\t\t\t\t\ttype: LinkActions.COPY, \r\n\t\t\t\t\t\tpayload: { message: \"Link URL copied to clipboard\" } \r\n\t\t\t\t\t})}\r\n\t\t\t\t>\r\n\t\t\t\t\t<IconButton size=\"small\" color=\"primary\" aria-label=\"copy-link-url\">\r\n\t\t\t\t\t\t<LinkIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</CopyToClipboard>\r\n\t\t\t\t<IconButton size=\"small\" color=\"primary\" aria-label=\"open-link\"\r\n\t\t\t\t\tonClick={e => {\r\n\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\twindow.open(data.link_url, \"_blank\")\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<LaunchIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</>\r\n\r\n\t\treturn (\r\n\t\t\ttype === CardType.COVID_UPDATE\r\n\t\t\t\t? <></>\r\n\t\t\t\t: (\r\n\t\t\t\t\t<CardActions disableSpacing>\r\n\t\t\t\t\t\t{type === CardType.COVID_UPDATE\r\n\t\t\t\t\t\t\t? <></>\r\n\t\t\t\t\t\t\t: type === CardType.REGULAR\r\n\t\t\t\t\t\t\t\t? ( <>\r\n\t\t\t\t\t\t\t\t\t{data.is_archived === true\r\n\t\t\t\t\t\t\t\t\t\t? unarchiveButton\r\n\t\t\t\t\t\t\t\t\t\t: archiveButton\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t{editButton}\r\n\t\t\t\t\t\t\t\t\t{deleteButton}\r\n\t\t\t\t\t\t\t\t\t{defaultButtons}\r\n\t\t\t\t\t\t\t\t</> ) : ( <>\r\n\t\t\t\t\t\t\t\t\t{addToLibraryButton}\r\n\t\t\t\t\t\t\t\t\t{defaultButtons}\r\n\t\t\t\t\t\t\t\t</>)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</CardActions>\r\n\t\t\t\t)\r\n\t\t)\r\n\t}\r\n\r\n\tconst getCardMedia = () => {\r\n\r\n\t\tconst mediaHeight = type === CardType.DISCOVER_NEWS ? 120 : \"auto\"\r\n\r\n\t\tif (data.link_img !== \"None\") {\r\n\t\t\treturn (\r\n\t\t\t\t<CardMedia\r\n\t\t\t\t\tcomponent=\"img\"\r\n\t\t\t\t\talt={data.link_img}\r\n\t\t\t\t\timage={data.link_img}\r\n\t\t\t\t\ttitle={data.link_title}\r\n\t\t\t\t\theight={mediaHeight}\r\n\t\t\t\t/> \r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tconst getCardContent = () => {\r\n\r\n\t\tswitch (type) {\r\n\t\t\tcase CardType.REGULAR:\r\n\t\t\tcase CardType.DISCOVER_NEWS: {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<CardContent>\r\n\t\t\t\t\t\t<Typography className={classes.cardContent} variant=\"overline\">\r\n\t\t\t\t\t\t\t{hostName}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography className={classes.cardContent} variant=\"subtitle1\" gutterBottom>\r\n\t\t\t\t\t\t\t{data.link_title}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t<Typography noWrap className={classes.cardContent} variant=\"caption\" gutterBottom>\r\n\t\t\t\t\t\t\t{data.link_url}\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</CardContent>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\tcase CardType.COVID_UPDATE: {\r\n\r\n\t\t\t\tconst flag = `https://www.countryflags.io/${data.stats.countryCode}/flat/32.png`\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<CardContent>\r\n\t\t\t\t\t\t{data.stats === undefined\r\n\t\t\t\t\t\t\t? ( \r\n\t\t\t\t\t\t\t\t<div style={{display: \"flex\", justify: \"center\"}}>\r\n\t\t\t\t\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\t\t\t\t\tcolor={JSON.parse(localStorage.getItem(\"theme\")).value === false ? \"primary\" : \"secondary\"} \r\n\t\t\t\t\t\t\t\t\t\tsize={80} thickness={4.5}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (<>\r\n\t\t\t\t\t\t\t\t<div style={{display:\"flex\", alignItems:\"center\"}}>\r\n\t\t\t\t\t\t\t\t\t<img alt=\"\" style={{marginRight:8}}\r\n\t\t\t\t\t\t\t\t\t\tsrc={flag !== undefined ? flag : \"\" }\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<Typography className={classes.cardContent} variant=\"subtitle1\">\r\n\t\t\t\t\t\t\t\t\t\t{data.rank+1}: {data.link_title}\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<Typography className={classes.cardContent} variant=\"subtitle2\">\r\n\t\t\t\t\t\t\t\t\tActive cases\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Typography className={classes.cardContent} variant=\"subtitle1\" gutterBottom>\r\n\t\t\t\t\t\t\t\t\t{data.stats.activeCases.toLocaleString()}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Typography className={classes.cardContent} variant=\"subtitle2\">\r\n\t\t\t\t\t\t\t\t\tTotal Confirmed\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Typography className={classes.cardContent} variant=\"subtitle1\" gutterBottom>\r\n\t\t\t\t\t\t\t\t\t{data.stats.totalConfirmed.toLocaleString()}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Typography className={classes.cardContent} variant=\"subtitle2\">\r\n\t\t\t\t\t\t\t\t\tTotal Deaths\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Typography className={classes.cardContent} variant=\"subtitle1\" gutterBottom>\r\n\t\t\t\t\t\t\t\t\t{data.stats.totalDeaths.toLocaleString()}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Typography className={classes.cardContent} variant=\"subtitle2\">\r\n\t\t\t\t\t\t\t\t\tTotal recovered\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Typography className={classes.cardContent} variant=\"subtitle1\" gutterBottom>\r\n\t\t\t\t\t\t\t\t\t{data.stats.totalRecovered.toLocaleString()}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Typography  className={classes.cardContent} variant=\"overline\" gutterBottom>\r\n\t\t\t\t\t\t\t\t\tAs of {data.stats.lastUpdated.substring(0,10)}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t</>)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</CardContent>\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\tdefault: return\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Card variant=\"outlined\" className={classes.cardContainer} >\r\n\t\t\t<CardActionArea>\r\n\t\t\t\t{getCardMedia()}\r\n\t\t\t\t{getCardContent()}\r\n\t\t\t</CardActionArea>\r\n\t\t\t{getCardMenuItems()}\r\n\t\t</Card>\r\n\t)\r\n}\r\n\r\nconst getHostName = url => {\r\n\tconst matches = url.match(/^https?:\\/\\/(www.)?([^/?#]+)(?:[/?#]|$)/i)\r\n\treturn matches && matches[2]\r\n}\r\n\r\nexport default LinkCard","import React, { useEffect, useState } from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport Snackbar from '@material-ui/core/Snackbar'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport { makeStyles } from '@material-ui/core'\r\nimport { LinkActions, SnackbarActions } from '../utils/Constants'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  snackBar: {\r\n\t\tposition: \"fixed\",\r\n    bottom: theme.spacing(18),\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      bottom: theme.spacing(9),\r\n    }\r\n\t}\r\n}))\r\n\r\nconst Notifier = ({ dispatch, ...props }) => {\r\n\r\n  const classes = useStyles()\r\n\r\n  const [openSnackbar, setOpenSnackbar] = useState(props.open) \r\n  const [snackbarMessage, setSnackbarMessage] = useState(props.message)\r\n  const [snackbarUndoButton, setSnackbarUndoButton] = useState(props.undoButton)\r\n\r\n  useEffect(() => {\r\n    setOpenSnackbar(props.open)\r\n    setSnackbarMessage(props.message)\r\n    setSnackbarUndoButton(props.undoButton)\r\n  }, [props.open, props.message, props.undoButton])\r\n\r\n  return (\r\n    <Snackbar\r\n      className={classes.snackBar}\r\n      anchorOrigin={{\r\n        vertical: 'bottom',\r\n        horizontal: 'left',\r\n      }}\r\n      open={openSnackbar}\r\n      autoHideDuration={5000}\r\n      onClose={() => dispatch({ type: SnackbarActions.CLOSE })}\r\n      message={snackbarMessage}\r\n      action={\r\n        <>\r\n          {snackbarUndoButton ? (\r\n            <Button \r\n              color=\"inherit\" \r\n              aria-label=\"undo-delete-link\" \r\n              onClick={() => dispatch({ type: LinkActions.UNDO_DELETE })}\r\n            >\r\n              Undo\r\n            </Button>\r\n          ) : ( \"\" )}\r\n          <IconButton size=\"small\" aria-label=\"close-snackbar\" color=\"inherit\" \r\n            onClick={() => dispatch({ type: SnackbarActions.CLOSE })}\r\n          >\r\n            <CloseIcon fontSize=\"small\" />\r\n          </IconButton>\r\n        </>\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\nexport default Notifier","import React, { useState, useEffect, useReducer } from 'react'\r\nimport { makeStyles, Slide, TextField,\r\n  Dialog, DialogTitle, DialogContent, Fab, useMediaQuery, useTheme } from '@material-ui/core'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport SaveIcon from '@material-ui/icons/Save'\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack'\r\nimport firebase from \"../firebase\"\r\nimport axios from \"axios\"\r\nimport cheerio from \"cheerio\"\r\n\r\nimport { LinkActions, CollectionActions, SnackbarActions } from '../utils/Constants'\r\nimport Notifier from './Snackbar'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  fabAdd: {\r\n\t\tposition: \"fixed\",\r\n\t\tbottom: theme.spacing(9),\r\n\t\tright: theme.spacing(2),\r\n\t\tzIndex: 1000\r\n  },\r\n  fabCancel: {\r\n    position: \"fixed\",\r\n    bottom: theme.spacing(2),\r\n    right: theme.spacing(2),\r\n    zIndex: 1000\r\n  },\r\n  formInput: {\r\n    width: \"100%\",\r\n    margin: theme.spacing(1,0)\r\n  },\r\n  root: {\r\n    padding: theme.spacing(8, 0, 18, 0),\r\n  },\r\n  icon: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  bottomAppBar: {\r\n    top: \"auto\",\r\n    bottom: 0\r\n  },\r\n  snackBar: {\r\n\t\tposition: \"fixed\",\r\n\t\tbottom: theme.spacing(18)\r\n\t}\r\n}))\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"left\" ref={ref} {...props} />\r\n})\r\n\r\nconst formReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case SnackbarActions.CLOSE: {\r\n      return {\r\n        ...state,\r\n        openSnackbar: false\r\n      }\r\n    }\r\n    case SnackbarActions.SHOW: {\r\n      return {\r\n        ...state,\r\n        openSnackbar: true,\r\n        snackbarMessage: action.payload.message\r\n      }\r\n    }\r\n    default: return state\r\n  }\r\n}\r\n\r\nconst initialState = {\r\n  openSnackbar: false,\r\n  snackbarMessage: \"\",\r\n  snackbarUndoButton: false\r\n}\r\n\r\nconst AddFormDialog = ({ dispatch, ...props }) => {\r\n\r\n  const classes = useStyles()\r\n  const folders = useDetails()\r\n\r\n  const theme = useTheme()\r\n  const fullScreenDialog = useMediaQuery(theme.breakpoints.up(\"md\"))\r\n\r\n  const [open, setOpen] = useState(false)\r\n  const [snackbarOpen, setSnackbarOpen] = useState(false)\r\n  const [collectionName, setCollectionName] = useState(\"\")\r\n  const [collectionDesc, setCollectionDesc] = useState(\"\")\r\n  const [linkInFolder, setLinkInFolder] = useState(props.defaultFolder)\r\n  const [linkTitle, setLinkTitle] = useState(\"\")\r\n  const [linkUrl, setLinkUrl] = useState(\"\")\r\n  const [linkImg, setLinkImg] = useState(\"\")\r\n\r\n  const [state, formDispatch] = useReducer(formReducer, initialState)\r\n  const handleClickOpen = () => setOpen(true)\r\n\r\n  const handleClose = () => {\r\n    resetFields()\r\n    setSnackbarOpen(false)\r\n    setOpen(false)\r\n  }\r\n\r\n  const handleUrlInput = e => {\r\n    setLinkUrl(e.target.value)\r\n    setSnackbarOpen(true)\r\n    formDispatch({\r\n      type: SnackbarActions.SHOW,\r\n      payload: { message: \"Getting link details...\"} \r\n    })\r\n    handleGetDetails(e.target.value !== undefined ? e.target.value : \"\")\r\n  }\r\n\r\n  const handleFormSubmit = e => {\r\n    e.preventDefault()\r\n    switch(props.mode) {\r\n      case \"collection\": {\r\n        firebase.firestore()\r\n        .collection(\"collections\")\r\n        .add({\r\n          folder_name: collectionName,\r\n          folder_desc: collectionDesc\r\n        }).then(() => {\r\n          dispatch({\r\n            type: CollectionActions.ADD,\r\n            payload: { message: \"Collection successfully created\" }\r\n          })\r\n          console.log(\"Collection successfully added\")\r\n        }).catch(err => {\r\n          dispatch({\r\n            type: CollectionActions.ADD,\r\n            payload: { message: \"Error creating collection\" }\r\n          })\r\n          console.error(\"Error adding collection: \", err)\r\n        })\r\n        break\r\n      }\r\n      default: \r\n        firebase.firestore()\r\n        .collection(\"links\")\r\n        .add({\r\n          link_title: linkTitle,\r\n          link_url: linkUrl,\r\n          folder_id: linkInFolder,\r\n          link_img: linkImg,\r\n          date_added: new Date(),\r\n          is_archived: false\r\n        }).then(() => {\r\n          dispatch({ \r\n            type: LinkActions.ADD,\r\n            payload: { message: \"Link successfully added\" }\r\n          })\r\n          console.log(\"Link successfully added\")\r\n        }).catch(err => {\r\n          dispatch({ \r\n            type: LinkActions.ADD,\r\n            payload: { message: \"Error adding link\" }\r\n          })\r\n          console.error(\"Error adding to database: \", err)\r\n        })\r\n    }\r\n    resetFields()\r\n    setOpen(false)\r\n    \r\n  }\r\n\r\n  function resetFields() {\r\n    setLinkInFolder(props.defaultFolder)\r\n    setLinkTitle(\"\")\r\n    setLinkUrl(\"\")\r\n    setCollectionName(\"\")\r\n    setCollectionDesc(\"\")\r\n  }\r\n\r\n  const handleGetDetails = url => {\r\n\r\n    axios.get(\"https://cors-anywhere.herokuapp.com/\" + url)\r\n      .then(\r\n        res => {\r\n          /* console.log(res.data) */\r\n          const $ = cheerio.load(res.data)\r\n          let title = $(\"meta[property='og:title']\").attr(\"content\")\r\n          if(title === undefined) title = $('title').text()\r\n          if(title === undefined) title = \"\"\r\n          let img = $(\"meta[property='og:image']\").attr(\"content\")\r\n          if(img === undefined) img = $(\"meta[property='twitter:image']\").attr(\"content\")\r\n          if(img === undefined) {\r\n            if(/^https:\\/\\//.test($(\"img\")[1].attribs.src)) {\r\n              img = $(\"img\")[1].attribs.src\r\n            }\r\n          }\r\n          if(img === undefined) img = \"\"\r\n          \r\n          setLinkImg(img)\r\n          setLinkTitle(title)\r\n          setSnackbarOpen(false)\r\n      }).catch(err => {\r\n        console.log(\"THIS IS ERROR: \", err)\r\n        formDispatch({\r\n          type: SnackbarActions.SHOW,\r\n          payload: { message: \"Snap! Failed to get link details\" }\r\n        })\r\n      })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Fab color=\"secondary\" aria-label=\"add\"\r\n        className={classes.fabAdd}\r\n        onClick={handleClickOpen}\r\n      >\r\n        <AddIcon />\r\n      </Fab>\r\n      <Dialog fullScreen={!fullScreenDialog} open={open}\r\n        TransitionComponent={Transition} \r\n        aria-labelledby=\"form-dialog-title\"\r\n      >\r\n        <form onSubmit={handleFormSubmit} >\r\n        <div className={classes.root}>\r\n          <DialogTitle id=\"form-dialog-title\">\r\n            Add new {props.mode === \"collection\" ? props.mode : \"link\"}\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            {props.mode === \"collection\"\r\n              ? <>\r\n                <TextField required multiline autoFocus\r\n                  variant=\"outlined\" size=\"small\" className={classes.formInput}\r\n                  id=\"collection-name\" label=\"Collection name\"\r\n                  value={collectionName}\r\n                  onChange={e => setCollectionName(e.target.value)}\r\n                />\r\n                <TextField multiline\r\n                  variant=\"outlined\" size=\"small\" className={classes.formInput}\r\n                  id=\"collection-desc\" label=\"Collection description\"\r\n                  value={collectionDesc}\r\n                  onChange={e => setCollectionDesc(e.target.value)}\r\n                />\r\n              </> : <>\r\n                <TextField multiline\r\n                  variant=\"outlined\" size=\"small\" className={classes.formInput}\r\n                  id={\"link-title\"} label=\"Link title\"\r\n                  value={linkTitle}\r\n                  onChange={e => setLinkTitle(e.target.value)}\r\n                />\r\n                <TextField type=\"url\" required multiline autoFocus\r\n                  variant=\"outlined\" size=\"small\" className={classes.formInput}\r\n                  id=\"link-url\" label=\"Link URL\"\r\n                  value={linkUrl}\r\n                  onChange={handleUrlInput}\r\n                />\r\n                <TextField select\r\n                  variant=\"outlined\" size=\"small\" className={classes.formInput}\r\n                  id=\"link-in-folder-id\" label=\"Collection\"\r\n                  value={linkInFolder}\r\n                  onChange={e => setLinkInFolder(e.target.value)}\r\n                >\r\n                  {folders.filter(option => option.folder_name !== \"Archive\").map(option => (\r\n                    <MenuItem \r\n                      key={option.folder_id} \r\n                      value={option.folder_id}\r\n                    >\r\n                      {option.folder_name}\r\n                    </MenuItem>\r\n                  ))}\r\n                </TextField>\r\n              </>\r\n            }\r\n          </DialogContent>\r\n          </div>\r\n          <Fab color=\"secondary\" aria-label=\"add-new-link\"\r\n            className={classes.fabAdd}\r\n            type=\"submit\"\r\n          >\r\n            <SaveIcon />\r\n          </Fab>\r\n        </form>\r\n        <Notifier\r\n          open={state.openSnackbar}\r\n          message={state.snackbarMessage}\r\n          undoButton={state.snackbarUndoButton}\r\n          dispatch={formDispatch}\r\n        />\r\n        <Fab color=\"secondary\" aria-label=\"cancel\" \r\n          size=\"small\" className={classes.fabCancel}\r\n          onClick={handleClose}\r\n        >\r\n          <ArrowBackIcon />\r\n        </Fab>\r\n      </Dialog>\r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\nfunction useDetails() {\r\n\tconst [folderDetails, setFolderDetails] = useState([])\r\n\r\n\tuseEffect(() => {\r\n    const unsubscribe = firebase\r\n\t\t\t.firestore()\r\n\t\t\t.collection(\"collections\")\r\n\t\t\t.onSnapshot((snapshot) => {\r\n\t\t\t\tconst newDetails = snapshot.docs.map((doc) => ({\r\n\t\t\t\t\tfolder_id: doc.id,\r\n\t\t\t\t\t...doc.data()\r\n\t\t\t\t}))\r\n\t\t\t\tsetFolderDetails(newDetails)\r\n\t\t\t})\r\n        \r\n      return () => unsubscribe()\r\n    }, [])\r\n    \r\n    return folderDetails\r\n}\r\n\r\nexport default AddFormDialog","import React, { useReducer } from 'react';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport { makeStyles, useMediaQuery, useTheme } from '@material-ui/core';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport { useState, useEffect } from \"react\"\r\nimport { Slide } from \"@material-ui/core\"\r\n\r\nimport firebase from \"../firebase\"\r\nimport axios from \"axios\"\r\nimport cheerio from \"cheerio\"\r\n\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack'\r\nimport { LinkActions, CollectionActions, SnackbarActions, FormActions } from '../utils/Constants'\r\nimport Notifier from './Snackbar'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  fabAdd: {\r\n\t\tposition: \"fixed\",\r\n\t\tbottom: theme.spacing(9),\r\n\t\tright: theme.spacing(2),\r\n\t\tzIndex: 1000\r\n  },\r\n  fabCancel: {\r\n    position: \"fixed\",\r\n    bottom: theme.spacing(2),\r\n    right: theme.spacing(2),\r\n    zIndex: 1000\r\n  },\r\n  formInput: {\r\n    width: \"100%\",\r\n    margin: theme.spacing(1,0)\r\n  },\r\n  root: {\r\n    padding: theme.spacing(8, 0, 18, 0)\r\n  },\r\n  icon: {\r\n    marginRight: theme.spacing(1)\r\n  },\r\n  bottomAppBar: {\r\n    top: \"auto\",\r\n    bottom: 0\r\n  },\r\n  snackBar: {\r\n\t\tposition: \"fixed\",\r\n\t\tbottom: theme.spacing(18)\r\n\t}\r\n}))\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"left\" ref={ref} {...props} />\r\n})\r\n\r\nconst formReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case SnackbarActions.CLOSE: {\r\n      return {\r\n        ...state,\r\n        openSnackbar: false\r\n      }\r\n    }\r\n    case SnackbarActions.SHOW: {\r\n      return {\r\n        ...state,\r\n        openSnackbar: true,\r\n        snackbarMessage: action.payload.message\r\n      }\r\n    }\r\n    default: return state\r\n  }\r\n}\r\n\r\nconst EditFormDialog = ({ dispatch, from,...props }) => {\r\n\r\n  const classes = useStyles()\r\n  const folders = useDetails()\r\n  const theme = useTheme()\r\n  const fullScreenDialog = useMediaQuery(theme.breakpoints.up(\"md\"))\r\n  \r\n  const initialState = {\r\n    openSnackbar: false,\r\n    snackbarUndoButton: false,\r\n    snackbarMessage: \"\",\r\n  }\r\n\r\n  const handleClose = () => {\r\n    resetFields()\r\n    setOpen(false)\r\n    dispatch({\r\n      type: FormActions.CLOSE\r\n    })\r\n  }\r\n\r\n  const [linkInFolder, setLinkInFolder] = useState(props.folder_id)\r\n  const [linkTitle, setLinkTitle] = useState(props.link_title)\r\n  const [linkUrl, setLinkUrl] = useState(props.link_url)\r\n  const [linkImg, setLinkImg] = useState(props.link_img)\r\n  const [linkId, setLinkId] = useState(props.docId)\r\n  const [collectionId, setCollectionId] = useState(props.collection_id)\r\n  const [collectionName, setCollectionName] = useState(props.folder_name)\r\n  const [collectionDesc, setCollectionDesc] = useState(props.folder_desc)\r\n  const [open, setOpen] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setLinkInFolder(props.folder_id)\r\n    setLinkTitle(props.link_title)\r\n    setLinkUrl(props.link_url)\r\n    setLinkImg(props.link_img)\r\n    setLinkId(props.docId)\r\n    setOpen(props.edit)\r\n    setCollectionId(props.collection_id)\r\n    setCollectionName(props.folder_name)\r\n    setCollectionDesc(props.folder_desc)\r\n  }, [\r\n    props.folder_id,\r\n    props.link_title,\r\n    props.link_url,\r\n    props.link_img,\r\n    props.edit,\r\n    props.docId,\r\n    props.collection_id,\r\n    props.folder_name,\r\n    props.folder_desc\r\n  ])\r\n\r\n  const [state, formDispatch] = useReducer(formReducer, initialState)\r\n\r\n  const handleFormSubmit = e => {\r\n\r\n    e.preventDefault()\r\n    switch(props.mode) {\r\n      case \"collection\": {\r\n        firebase.firestore()\r\n        .collection(\"collections\")\r\n        .doc(collectionId)\r\n        .update({\r\n          folder_name: collectionName,\r\n          folder_desc: collectionDesc\r\n        }).then(() => {\r\n          dispatch({\r\n            type: CollectionActions.SAVE_UPDATED,\r\n            payload: { message: \"Collection successfully updated\" }\r\n          })\r\n          console.log(\"Collection successfully updated\")\r\n        }).catch(err => {\r\n          dispatch({\r\n            type: CollectionActions.SAVE_UPDATED,\r\n            payload: { message: \"Error updating collection\" }\r\n          })\r\n          console.error(\"Error adding collection: \", err)\r\n        })\r\n        break\r\n      }\r\n      default: {\r\n        if (from === \"folder\") {\r\n          firebase.firestore()\r\n          .collection(\"links\")\r\n          .doc(linkId)\r\n          .update({\r\n            link_title: linkTitle,\r\n            link_url: linkUrl,\r\n            folder_id: linkInFolder,\r\n            link_img: linkImg,\r\n            date_added: new Date(),\r\n            is_archived: false\r\n          }).then(() => {\r\n            dispatch({\r\n              type: LinkActions.ADD,\r\n              payload: { message: \"Link successfully updated\" }\r\n            })\r\n            console.log(\"Link successfully updated\")\r\n          }).catch(err => {\r\n            dispatch({\r\n              type: LinkActions.ADD,\r\n              payload: { message: \"Error updating link\" }\r\n            })\r\n            console.error(\"Error updating link on database: \", err)\r\n          })\r\n        } else {\r\n          firebase.firestore()\r\n          .collection(\"links\")\r\n          .add({\r\n            link_title: linkTitle,\r\n            link_url: linkUrl,\r\n            folder_id: linkInFolder,\r\n            link_img: linkImg,\r\n            date_added: new Date(),\r\n            is_archived: false\r\n          }).then(() => {\r\n            dispatch({\r\n              type: LinkActions.ADD,\r\n              payload: { message: \"Link added to your library\" }\r\n            })\r\n            console.log(\"Link added to library\")\r\n          }).catch(err => {\r\n            dispatch({\r\n              type: LinkActions.ADD,\r\n              payload: { message: \"Error adding link to library\" }\r\n            })\r\n            console.error(\"Error adding link to library: \", err)\r\n          })\r\n        }\r\n      }\r\n    }\r\n    resetFields()\r\n    setOpen(false)\r\n    \r\n  }\r\n\r\n  function resetFields() {\r\n    setLinkInFolder(linkInFolder)\r\n    setLinkTitle(\"\")\r\n    setLinkUrl(\"\")\r\n    setCollectionName(\"\")\r\n    setCollectionDesc(\"\")\r\n  }\r\n\r\n  const handleGetDetails = (url) => {\r\n    axios.get(\"https://cors-anywhere.herokuapp.com/\" + url)\r\n      .then(\r\n        res => {\r\n          console.log(res.data)\r\n          const $ = cheerio.load(res.data)\r\n          let title = $(\"meta[property='og:title']\").attr(\"content\")\r\n          if(title === undefined) title = $('title')[0].children[0].data\r\n          if(title === undefined) title = \"\"\r\n          let img = $(\"meta[property='og:image']\").attr(\"content\")\r\n          if(img === undefined) img = $(\"meta[property='twitter:image']\").attr(\"content\")\r\n          if(img === undefined) {\r\n            $(\"img\").each((i, link) => {\r\n              if(/^https:\\/\\//.test(link.attribs.src)) {\r\n                img = link.attribs.src\r\n              }\r\n            })\r\n          }\r\n          if(img === undefined) img = \"\"\r\n          \r\n          setLinkImg(img)\r\n          setLinkTitle(title)\r\n          formDispatch({\r\n            type: SnackbarActions.CLOSE\r\n          })\r\n      }).catch(err => {\r\n        console.log(\"THIS IS ERROR: \", err)\r\n        formDispatch({\r\n          type: SnackbarActions.SHOW,\r\n          payload: { message: \"Snap! Failed to get link details\" }\r\n        })\r\n      })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Dialog fullScreen={!fullScreenDialog} open={open}\r\n        TransitionComponent={Transition} \r\n        aria-labelledby=\"form-dialog-title\"\r\n      >\r\n        <form onSubmit={handleFormSubmit} >\r\n        <div className={classes.root}>\r\n          <DialogTitle id=\"form-dialog-title\">\r\n            Edit {props.mode === \"collection\" ? props.mode : \"link\"}\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            {props.mode === \"collection\"\r\n              ? <>\r\n                <TextField required multiline\r\n                  className={classes.formInput} size=\"small\" variant=\"outlined\"\r\n                  id=\"collection-name\" label=\"Collection name\"\r\n                  value={collectionName}\r\n                  onChange={e => setCollectionName(e.target.value)}\r\n                />\r\n                <TextField multiline\r\n                  className={classes.formInput} size=\"small\" variant=\"outlined\"\r\n                  id=\"collection-desc\" label=\"Collection description\"\r\n                  value={collectionDesc}\r\n                  onChange={e => setCollectionDesc(e.target.value)}\r\n                />\r\n              </> : <>\r\n                <TextField multiline\r\n                  className={classes.formInput} size=\"small\" variant=\"outlined\" \r\n                  id={\"link-title\"} label=\"Link title\"\r\n                  value={linkTitle}\r\n                  onChange={e => setLinkTitle(e.target.value)}\r\n                />\r\n                <TextField required multiline type=\"url\" \r\n                  className={classes.formInput} variant=\"outlined\" size=\"small\"\r\n                  id=\"link-url\" label=\"Link URL\"\r\n                  value={linkUrl}\r\n                  onChange={e => {\r\n                    setLinkUrl(e.target.value)\r\n                    formDispatch({\r\n                      type: SnackbarActions.SHOW,\r\n                      payload: { message: \"Getting link details...\" }\r\n                    })\r\n                    handleGetDetails(e.target.value !== undefined ? e.target.value : \"\")\r\n                  }}\r\n                />\r\n                <TextField select \r\n                  className={classes.formInput} size=\"small\" variant=\"outlined\"\r\n                  id=\"link-in-folder-id\" label=\"Collection\"\r\n                  value={linkInFolder}\r\n                  onChange={e => setLinkInFolder(e.target.value)}\r\n                >\r\n                  {folders.filter(option => option.folder_name !== \"Archive\").map(option => (\r\n                    <MenuItem \r\n                      key={option.folder_id} \r\n                      value={option.folder_id}\r\n                    >\r\n                      {option.folder_name}\r\n                    </MenuItem>\r\n                  ))}\r\n                </TextField>\r\n              </>\r\n            }\r\n          </DialogContent>\r\n          </div>\r\n          <Fab color=\"secondary\" aria-label=\"add\"\r\n            className={classes.fabAdd} type=\"submit\"\r\n          >\r\n            <SaveIcon />\r\n          </Fab>\r\n        </form>\r\n        <Notifier\r\n          dispatch={formDispatch}\r\n          open={state.openSnackbar}\r\n          message={state.snackbarMessage}\r\n          undoButton={state.snackbarUndoButton}\r\n        />\r\n        <Fab color=\"secondary\" aria-label=\"cancel\" \r\n          size=\"small\" className={classes.fabCancel}\r\n          onClick={handleClose}\r\n        >\r\n          <ArrowBackIcon />\r\n        </Fab>\r\n      </Dialog>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction useDetails() {\r\n\tconst [folderDetails, setFolderDetails] = useState([])\r\n\r\n\tuseEffect(() => {\r\n    const unsubscribe = firebase\r\n\t\t\t.firestore()\r\n\t\t\t.collection(\"collections\")\r\n\t\t\t.onSnapshot((snapshot) => {\r\n\t\t\t\tconst newDetails = snapshot.docs.map((doc) => ({\r\n\t\t\t\t\tfolder_id: doc.id,\r\n\t\t\t\t\t...doc.data()\r\n\t\t\t\t}))\r\n\t\t\t\tsetFolderDetails(newDetails)\r\n\t\t\t})\r\n        \r\n      return () => unsubscribe()\r\n    }, [])\r\n    \r\n    return folderDetails\r\n}\r\n\r\nexport default EditFormDialog","import React, { useReducer } from \"react\"\r\nimport firebase from \"../firebase\"\r\nimport { Grid, makeStyles, Typography, Container, CircularProgress, Fade } from \"@material-ui/core\"\r\nimport StackGrid from \"react-stack-grid\"\r\nimport LinkCard from \"../components/LinkCards\"\r\n\r\nimport FormDialog from \"../components/AddFormDialog\"\r\nimport EditFormDialog from \"../components/EditFormDialog\"\r\nimport Notifier from \"../components/Snackbar\"\r\n\r\nimport errorBg from \"../img/404-illustration.svg\"\r\nimport loadingBg from \"../img/loading.png\"\r\n\r\nimport { useLinks, useWindowSize } from \"../utils/LinkLibraryServices\"\r\nimport { LinkActions, SnackbarActions, FormActions, PageActions, CardType } from \"../utils/Constants\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: `calc(100vw - ${theme.spacing(2)}px)`,\r\n    margin: theme.spacing(10,1,18,1),\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      width: `calc(100vw - ${theme.spacing(22)}px)`,\r\n      margin: theme.spacing(12,11,10,11),\r\n    }\r\n  },\r\n  folderNameHeader: {\r\n    background: theme.palette.background.paper,\r\n    zIndex: 5,\r\n    padding: theme.spacing(1,2),\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      margin: 0\r\n    }\r\n  }\r\n}))\r\n\r\nconst linkCardsReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case LinkActions.ADD: {\r\n      return {\r\n        ...state,\r\n        snackbarUndoButton: false,\r\n        openSnackbar: true,\r\n        snackbarMessage: action.payload.message,\r\n        showForm: false\r\n      }\r\n    }\r\n    case LinkActions.COPY: {\r\n      return {\r\n        ...state,\r\n        snackbarUndoButton: false,\r\n        openSnackbar: true,\r\n        snackbarMessage: action.payload.message\r\n      }\r\n    }\r\n    case LinkActions.EDIT: {\r\n      return {\r\n        ...state,\r\n        showForm: true,\r\n        clickedLinkData: action.payload.data\r\n      }\r\n    }\r\n    case LinkActions.DELETE: {\r\n      firebase.firestore()\r\n        .collection(\"links\")\r\n        .doc(action.payload.id)\r\n        .delete()\r\n        .then(() => {\r\n          console.log(\"Success\")\r\n        }).catch((err) => {\r\n          console.error(\"Error removing document: \", err)\r\n        })\r\n      \r\n      return {\r\n        snackbarMessage: \"Link successfully deleted\",\r\n        openSnackbar: true,\r\n        showForm: false,\r\n        clickedLinkData: action.payload.data,\r\n        snackbarUndoButton: true\r\n      }\r\n    }\r\n    case LinkActions.ARCHIVE: {\r\n      firebase.firestore()\r\n        .collection(\"links\")\r\n        .doc(action.payload.id)\r\n        .update(action.payload.data)\r\n        .then(() => {\r\n          console.log(\"Archived\")\r\n        }).catch((err) => {\r\n          console.error(\"Error archiving: \", err)\r\n        })\r\n\r\n      return {\r\n        ...state,\r\n        openSnackbar: true,\r\n        snackbarMessage: \"Link archived\",\r\n        snackbarUndoButton: false\r\n      }\r\n    }\r\n    case LinkActions.UNARCHIVE: {\r\n      firebase.firestore()\r\n        .collection(\"links\")\r\n        .doc(action.payload.id)\r\n        .update(action.payload.data)\r\n        .then(() => {\r\n          console.log(\"Removed from archive\")\r\n        }).catch((err) => {\r\n          console.error(\"Error removing from archive: \", err)\r\n        })\r\n\r\n      return {\r\n        ...state,\r\n        openSnackbar: true,\r\n        snackbarMessage: \"Link removed from archive\",\r\n        snackbarUndoButton: false\r\n      }\r\n    }\r\n    case LinkActions.UNDO_DELETE: {\r\n      firebase.firestore()\r\n        .collection(\"links\")\r\n        .add(state.clickedLinkData)\r\n        .then(() => console.log(\"Link delete undone\"))\r\n        .catch(err => console.error(\"Error encountered: \", err))\r\n      \r\n      return {\r\n        ...state,\r\n        openSnackbar: true,\r\n        snackbarUndoButton: false,\r\n        snackbarMessage: \"Link restored\"\r\n      }\r\n    }\r\n    case SnackbarActions.CLOSE: {\r\n      return {\r\n        ...state,\r\n        openSnackbar: false\r\n      }\r\n    }\r\n    case FormActions.CLOSE: {\r\n      return {\r\n        ...state,\r\n        showForm: false\r\n      }\r\n    }\r\n    case PageActions.LOAD: {\r\n      return {\r\n        ...state,\r\n        isPageLoading: false\r\n      }\r\n    }\r\n    default: return state\r\n  }\r\n}\r\n\r\nconst initialState = {\r\n  openSnackbar: false,\r\n  showForm: false,\r\n  snackbarMessage: \"\",\r\n  snackbarUndoButton: false,\r\n  clickedLinkData: {},\r\n  isPageLoading: true\r\n}\r\n\r\nconst Folder = ({ id, name, ...props}) => {\r\n\r\n  const classes = useStyles()\r\n  const [state, dispatch] = useReducer(linkCardsReducer, initialState)\r\n\r\n  const linkData = useLinks(dispatch)\r\n\r\n  const filterLinks = () => {\r\n    if (props.fetchAll) {\r\n      return linkData.filter(link => link.is_archived === false).map(link => cardView(link))\r\n    } else {\r\n      if (name === \"Archive\") {\r\n        return linkData.filter(link => link.is_archived === true).map(link => cardView(link))\r\n      } else return linkData.filter(link => link.folder_id === id).filter(link => link.is_archived === false).map(link => cardView(link))\r\n    }\r\n  }\r\n\r\n  const cardView = link => {\r\n    return (\r\n      <Grid item key={link.link_id}>\r\n        <LinkCard\r\n          data={link}\r\n          type={CardType.REGULAR}\r\n          dispatch={dispatch}\r\n        />\r\n      </Grid>\r\n    )\r\n  }\r\n\r\n  const links = filterLinks()\r\n  const size = useWindowSize()\r\n    \r\n  return (\r\n    <>\r\n      <div className={classes.root} >\r\n        {props.showHeader === undefined ? (\r\n            <Container className={classes.folderNameHeader}>\r\n              <Typography variant=\"h6\" gutterBottom>{name}</Typography>\r\n            </Container>\r\n          ) : ( \"\" )\r\n        }\r\n        {state.isPageLoading ? (\r\n          <Grid container spacing={0} direction=\"column\"\r\n            alignItems=\"center\" justify=\"center\" style={{ height: \"100%\" }}\r\n          >\r\n            <Grid item xs={10} align=\"center\" style={{paddingTop: 16}}>\r\n              <CircularProgress \r\n                /* color={JSON.parse(localStorage.getItem(\"theme\")).value === false ? \"primary\" : \"secondary\"} */ \r\n                size={80} thickness={4.5} />\r\n              <Typography variant=\"subtitle1\" gutterBottom>\r\n                Loading your links\r\n              </Typography>\r\n              <Typography variant=\"subtitle2\" gutterBottom>\r\n                Just sit back and relax\r\n              </Typography>\r\n              <img src={loadingBg} alt=\"\" style={{width: \"100%\", paddingTop: 8}}></img>\r\n            </Grid>   \r\n          </Grid> \r\n        ) : (<>\r\n          {links.length ? (\r\n            <StackGrid monitorImagesLoaded={true}\r\n              columnWidth={size.width <= 320 ? size.width-16 : 165}\r\n              gutterWidth={8} gutterHeight={8}\r\n            >\r\n              {links}\r\n            </StackGrid>\r\n          ) : ( <>\r\n            <Fade in={!state.isPageLoading} >\r\n              <Grid container spacing={0} direction=\"column\"\r\n                alignItems=\"center\" justify=\"center\" style={{ height: \"100%\" }}\r\n              >\r\n                <Grid item xs={10} align=\"center\">\r\n                  <Typography variant=\"subtitle1\" gutterBottom>\r\n                    Nothing to see here\r\n                  </Typography>\r\n                  <Typography variant=\"subtitle2\" gutterBottom>\r\n                    Click the + button to add to this collection\r\n                  </Typography>\r\n                  <img src={errorBg} alt=\"\" style={{width: \"100%\", paddingTop: 8}}></img>\r\n                </Grid>   \r\n              </Grid>\r\n            </Fade>\r\n          </>)}\r\n        </>)}\r\n        <Notifier \r\n          dispatch={dispatch}\r\n          open={state.openSnackbar}\r\n          message={state.snackbarMessage}\r\n          undoButton={state.snackbarUndoButton}\r\n        />\r\n      </div>\r\n      <FormDialog mode={\"link\"} dispatch={dispatch} defaultFolder={id}/>\r\n      <EditFormDialog mode={\"link\"} from={\"folder\"} dispatch={dispatch}\r\n        edit={state.showForm} {...state.clickedLinkData} />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Folder","import { useState, useEffect } from \"react\"\r\nimport firebase from \"../firebase\"\r\nimport { PageActions } from \"../utils/Constants\"\r\nimport axios from \"axios\"\r\nimport { createClient } from 'pexels'\r\n\r\nexport const useLinks = dispatch => {\r\n\r\n  const [linkDetails, setLinkDetails] = useState([])\r\n  const linkRef = firebase.firestore().collection(\"links\")\r\n\r\n\tuseEffect(() => {\r\n    const unsubscribe = \r\n      linkRef.orderBy(\"date_added\", \"desc\")\r\n      .onSnapshot((snapshot) => {\r\n        const newDetails = snapshot.docs.map((doc) => ({\r\n          link_id: doc.id,\r\n          ...doc.data()\r\n        }))\r\n        setLinkDetails(newDetails)\r\n        dispatch({ type: PageActions.LOAD })\r\n    })\r\n    return () => unsubscribe()\r\n  }, [])\r\n\r\n  // TO-DO: CLEANUP FUNCTION\r\n  \r\n  /* console.log(\"Function useDetails() in Folder.js called\")\r\n  console.log({linkDetails}) */\r\n\t\r\n\treturn linkDetails\r\n}\r\n\r\nexport const useWindowSize = () => {\r\n  // Learn more here: https://joshwcomeau.com/react/the-perils-of-rehydration/\r\n  const [windowSize, setWindowSize] = useState({\r\n    width: undefined,\r\n    height: undefined,\r\n  })\r\n\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWindowSize({\r\n        width: window.innerWidth,\r\n        height: window.innerHeight,\r\n      })\r\n    }\r\n    window.addEventListener(\"resize\", handleResize)\r\n    handleResize()\r\n    \r\n    return () => window.removeEventListener(\"resize\", handleResize)\r\n  }, [])\r\n\r\n  return windowSize\r\n}\r\n\r\nexport const useCollection = dispatch => {\r\n  \r\n  const [folderDetails, setFolderDetails] = useState([])\r\n\r\n\tuseEffect(() => {\r\n\t\tconst unsubscribe = firebase\r\n\t\t\t.firestore()\r\n\t\t\t.collection(\"collections\")\r\n\t\t\t.onSnapshot((snapshot) => {\r\n\t\t\t\tconst newDetails = snapshot.docs.map((doc) => ({\r\n\t\t\t\t\tfolder_id: doc.id,\r\n\t\t\t\t\t...doc.data()\r\n\t\t\t\t}))\r\n        setFolderDetails(newDetails)\r\n        dispatch({ type: PageActions.LOAD })\r\n\t\t\t})\r\n        \r\n      return () => unsubscribe()\r\n    }, [])\r\n    \r\n    return folderDetails\r\n}\r\n\r\nexport const useNews = query => {\r\n\r\n  /* const newsProviderApi = \"https://newsapi.org/v2/\" */\r\n  const newsProviderApi = \"https://api.currentsapi.services/v1/\"\r\n  /* const apiKey = \"&apiKey=28bc2e36c58a4e4cbe1cc35c93fd54fa\" */\r\n  const apiKey = \"apiKey=-V2Sp7WAWXtgTlbqlnRQiPwCaBnSviDzx2nzkIOmxAs1QHEl\"\r\n\r\n  const [news, setNews] = useState([])\r\n  useEffect(() => {\r\n    const apiCall = newsProviderApi + query + apiKey\r\n    const unsubscribe = axios.get(apiCall)\r\n      .then(res => {\r\n        /* console.log({res}) */\r\n        setNews(res.data.news)\r\n      }).catch(err => {\r\n        /* console.log({err}) */\r\n      })\r\n    return () => unsubscribe\r\n    // TO-DO: PROPER CLEANUP\r\n  }, [query])\r\n\r\n  return news\r\n}\r\n\r\nexport const usePhotos = () => {\r\n\r\n  const pexels = createClient('563492ad6f917000010000011c9f5ddae4e3422397657061ef0721e8')\r\n  const [photos, setPhotos] = useState([])\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = pexels.photos.curated({ per_page: 30 })\r\n    .then(data => {\r\n      /* console.log(data.photos) */\r\n      setPhotos(data.photos)\r\n    }).catch(err => {\r\n      console.log(err)\r\n    })\r\n\r\n    return () => unsubscribe\r\n  }, [])\r\n\r\n  return photos\r\n}\r\n\r\nexport const useVideos = () => {\r\n\r\n  const pexels = createClient('563492ad6f917000010000011c9f5ddae4e3422397657061ef0721e8')\r\n  const [videos, setVideos] = useState([])\r\n\r\n  useEffect(() => {\r\n    pexels.videos.popular({ per_page: 5 })\r\n    .then(data => {\r\n      /* console.log(data.videos) */\r\n      setVideos(data.videos)\r\n    }).catch(err => {\r\n      console.log(err)\r\n    })\r\n  }, [])\r\n\r\n  return videos\r\n}\r\n\r\n/* export const useWeather = () => {\r\n\r\n  const weatherApiKey = \"48fd6e9319b02c6ae76481afb2a1e896\"\r\n\r\n  return\r\n} */\r\n\r\nexport const useCovidUpdate = () => {\r\n\r\n  /* const covidApi1 = \"https://api.covid19api.com/summary\"\r\n  const covidApi2 = \"https://covid-19.dataflowkit.com/v1\" */\r\n  const covidApi3 = \"https://api.coronatracker.com/v3/stats/worldometer/country\"\r\n  const [data, setData] = useState([])\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = axios.get(covidApi3)\r\n      .then(covidData => {\r\n        /* console.log(covidData.data) */\r\n        setData(covidData.data)\r\n      }).catch(err => {\r\n        console.log(err)\r\n      })\r\n\r\n    return () => unsubscribe\r\n  }, [])\r\n\r\n  return data\r\n}","import React from \"react\"\r\nimport Folder from \"./Folder\"\r\n\r\nconst Home = props => {\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Folder id={\"3ppmoaOw6ANJk10oWmhh\"} fetchAll={true} showHeader={false} />\r\n\t\t</>\r\n\t)\r\n\t// TO-DO: REMOVE HARDCODED DEFAULT ID\r\n}\r\n\r\nexport default Home","import React, { useReducer } from 'react'\r\nimport { \r\n  makeStyles,\r\n  List, \r\n  ListItem,\r\n  ListItemAvatar,\r\n  ListItemText,\r\n  Avatar,\r\n  Grid,\r\n  Dialog,\r\n  Slide,\r\n  Typography,\r\n  Fab,\r\n  CircularProgress, useTheme, useMediaQuery\r\n} from \"@material-ui/core\"\r\n\r\nimport FolderIcon from '@material-ui/icons/Folder'\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack'\r\n\r\nimport StackGrid from \"react-stack-grid\"\r\nimport firebase from \"../firebase\"\r\nimport Folder from './Folder'\r\nimport { LinkActions, CollectionActions, SnackbarActions, FormActions, PageActions } from \"../utils/Constants\"\r\nimport FormDialog from '../components/AddFormDialog'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\n\r\nimport { SwipeableListItem, ActionAnimations } from '@sandstreamdev/react-swipeable-list'\r\nimport '@sandstreamdev/react-swipeable-list/dist/styles.css'\r\nimport EditFormDialog from '../components/EditFormDialog'\r\nimport Notifier from '../components/Snackbar'\r\nimport { useCollection } from \"../utils/LinkLibraryServices\"\r\nimport loadingBg from \"../img/loading.png\"\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n\t\twidth: `calc(100vw - ${theme.spacing(4)}px)`,\r\n    margin: theme.spacing(10, 2, 18, 2),\r\n    zIndex: 0,\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      width: `calc(100vw - ${theme.spacing(24)}px)`,\r\n      margin: theme.spacing(12,12,18,12),\r\n    },\r\n    [theme.breakpoints.up(\"lg\")]: {\r\n      width: `calc(100vw - ${theme.spacing(30)}px)`,\r\n      margin: theme.spacing(12,15,18,15),\r\n    }\r\n  },\r\n  title: {\r\n    margin: theme.spacing(4, 0, 2),\r\n  },\r\n  bottomAppBar: {\r\n    top: \"auto\",\r\n    bottom: 0\r\n  },\r\n  avatar: {\r\n    backgroundColor: theme.palette.secondary.main\r\n  },\r\n  folderIcon: {\r\n    color: theme.palette.primary.main\r\n  },\r\n  swipeRightContainer: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n    background: \"#ef5350\",\r\n    justifyContent: \"flex-start\",\r\n  },\r\n  swipeRightAction: {\r\n    display:\"flex\",\r\n    alignItems: \"center\",\r\n    color: \"#fff\",\r\n    alignContent: \"flex-start\"\r\n  },\r\n  swipeIcon: {\r\n    margin: theme.spacing(0, 1)\r\n  },\r\n  swipeLeftContainer: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n    background: \"#1976d2\",\r\n    justifyContent: \"flex-end\",\r\n  },\r\n  swipeLeftAction: {\r\n    display:\"flex\",\r\n    alignItems: \"center\",\r\n    color: \"#fff\",\r\n    alignContent: \"flex-end\",\r\n  },\r\n  snackBar: {\r\n\t\tposition: \"fixed\",\r\n\t\tbottom: theme.spacing(18)\r\n  },\r\n  listItem: {\r\n    background: theme.palette.background.paper\r\n  },\r\n  collectionHolder: {\r\n    borderRadius: theme.spacing(1),\r\n    marginBottom: theme.spacing(1),\r\n    background: theme.palette.background.paper\r\n  },\r\n  fabCancel: {\r\n    position: \"fixed\",\r\n    bottom: theme.spacing(2),\r\n    right: theme.spacing(2),\r\n    zIndex: 1000\r\n  },\r\n}))\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"left\" ref={ref} {...props} />\r\n})\r\n\r\nconst collectionDispatch = (state, action) => {\r\n  switch (action.type) {\r\n    case CollectionActions.EDIT: {\r\n      return {\r\n        ...state,\r\n        showForm: true,\r\n        folderData: action.payload.data\r\n      }\r\n    }\r\n    case CollectionActions.OPEN: {\r\n      return {\r\n        ...state,\r\n        folderData: action.payload.data,\r\n        openFolder: true\r\n      }\r\n    }\r\n    case CollectionActions.SAVE_UPDATED: {\r\n      return {\r\n        ...state,\r\n        openSnackbar: true,\r\n        snackbarMessage: action.payload.message,\r\n        snackbarUndoButton: false\r\n      }\r\n    }\r\n    case CollectionActions.DELETE: {\r\n      firebase.firestore()\r\n        .collection(\"collections\")\r\n        .doc(action.payload.data.folder_id)\r\n        .delete()\r\n        .then(() =>\r\n          console.log(\"Collection successfully deleted\")\r\n        ).catch((err) =>\r\n          console.error(\"Error removing document: \", err)\r\n        )\r\n      return {\r\n        ...state,\r\n        folderData: action.payload.data,\r\n        openSnackbar: true,\r\n        snackbarMessage: \"Collection successfully deleted\",\r\n        snackbarUndoButton: true,\r\n      }\r\n    }\r\n    case CollectionActions.ADD: {\r\n      return {\r\n        ...state,\r\n        openSnackbar: true,\r\n        snackbarUndoButton: false,\r\n        snackbarMessage: action.payload.message\r\n      }\r\n    }\r\n    case CollectionActions.CLOSE: {\r\n      return {\r\n        ...state,\r\n        openFolder: false\r\n      }\r\n    }\r\n    case LinkActions.UNDO_DELETE: {\r\n      firebase.firestore()\r\n        .collection(\"collections\")\r\n        .doc(state.folderData.folder_id)\r\n        .set({\r\n          folder_name: state.folderData.folder_name,\r\n          folder_desc: state.folderData.folder_desc\r\n        }).then(() => {\r\n          console.log(\"Collection restored\")\r\n        }).catch(err => {\r\n          console.error(\"Error restoring collection: \", err)\r\n        })\r\n\r\n      return {\r\n        ...state,\r\n        openSnackbar: true,\r\n        snackbarUndoButton: false,\r\n        snackbarMessage: \"Collection restored\"\r\n      }\r\n    }\r\n    case SnackbarActions.CLOSE: {\r\n      return {\r\n        ...state,\r\n        openFolder: false,\r\n        openSnackbar: false\r\n      }\r\n    }\r\n    case FormActions.CLOSE: {\r\n      return {\r\n        ...state,\r\n        showForm: false\r\n      }\r\n    }\r\n    case PageActions.LOAD: {\r\n      return {\r\n        ...state,\r\n        isPageLoading: false\r\n      }\r\n    }\r\n    default: return state\r\n  }\r\n}\r\n\r\nconst initialState = {\r\n  openFolder: false,\r\n  openSnackbar: false,\r\n  snackbarUndoButton: false,\r\n  snackbarMessage: \"\",\r\n  showForm: false,\r\n  folderData: {},\r\n  isPageLoading: true\r\n}\r\n\r\nconst Collection = props => {\r\n\r\n  const [state, dispatch] = useReducer(collectionDispatch, initialState)\r\n  const classes = useStyles()\r\n  const folderData = useCollection(dispatch)\r\n\r\n  const dC = folderData.filter(folder => folder.is_editable === false)\r\n  const uC = folderData.filter(folder => folder.is_editable === undefined)\r\n\r\n  const listView = folder => {\r\n    return (\r\n      <Grid item key={folder.folder_id}>\r\n      <SwipeableListItem\r\n        swipeLeft={{\r\n          content:\r\n            <div className={classes.swipeLeftContainer}>\r\n              <div className={classes.swipeLeftAction}>\r\n                <Typography variant=\"subtitle2\">Edit</Typography>\r\n                <EditIcon fontSize=\"large\" className={classes.swipeIcon}/>                \r\n              </div>\r\n            </div>,\r\n          action: () => dispatch({ \r\n            type: CollectionActions.EDIT,\r\n            payload: { data: folder }\r\n          }),\r\n          actionAnimation: ActionAnimations.RETURN\r\n        }}\r\n        swipeRight={{\r\n          content: \r\n            <div className={classes.swipeRightContainer}>\r\n              <div className={classes.swipeRightAction}>\r\n                <DeleteIcon fontSize=\"large\" className={classes.swipeIcon}/>\r\n                <Typography variant=\"subtitle2\">Delete</Typography>\r\n                \r\n              </div>\r\n            </div>,\r\n          action: () => dispatch({\r\n            type: CollectionActions.DELETE,\r\n            payload: { data: folder }\r\n          }),\r\n          \r\n          actionAnimation: ActionAnimations.REMOVE\r\n        }}\r\n        blockSwipe={folder.is_editable !== undefined ? true : false}\r\n      >\r\n        <ListItem className={classes.listItem} \r\n          onClick={() => dispatch({\r\n            type: CollectionActions.OPEN,\r\n            payload: { data: folder }\r\n          })}\r\n        >\r\n          <ListItemAvatar>\r\n            <Avatar className={classes.avatar}>\r\n              <FolderIcon className={classes.folderIcon} />\r\n            </Avatar>\r\n          </ListItemAvatar>\r\n          <ListItemText\r\n            primary={<Typography variant=\"subtitle1\">{folder.folder_name}</Typography>}\r\n            secondary={folder.folder_desc}\r\n          />\r\n        </ListItem>\r\n      </SwipeableListItem>\r\n    </Grid>\r\n    )\r\n  }\r\n  const defaultCollections = dC.map(folder => listView(folder))\r\n  const userCollections = uC.map(folder => listView(folder))\r\n\r\n  const theme = useTheme()\r\n  const md = useMediaQuery(theme.breakpoints.up(\"md\"))\r\n\r\n  return (\r\n    <>\r\n      {/* <Header title={\"Collection\"} appDispatch={props.dispatch} /> */}\r\n      <div className={classes.root}>\r\n        {state.isPageLoading ? (\r\n          <Grid container spacing={0} direction=\"column\"\r\n            alignItems=\"center\" justify=\"center\" style={{ height: \"100%\" }}\r\n          >\r\n            <Grid item xs={10} align=\"center\" style={{paddingTop: 16}}>\r\n              <CircularProgress\r\n                color={JSON.parse(localStorage.getItem(\"theme\")).value === false ? \"primary\" : \"secondary\"} \r\n                size={80} thickness={4.5} />\r\n              <Typography variant=\"subtitle1\" gutterBottom>\r\n                Loading your collection\r\n              </Typography>\r\n              <Typography variant=\"subtitle2\" gutterBottom>\r\n                Just sit back and relax\r\n              </Typography>\r\n              <img src={loadingBg} alt=\"\" style={{width: \"100%\", paddingTop: 8}}></img>\r\n            </Grid>   \r\n          </Grid>\r\n        ) : (<>\r\n          <StackGrid columnWidth={md ? 400 : \"100%\"} gutterWidth={8} gutterHeight={8} >\r\n            <Grid item>\r\n              <List className={classes.collectionHolder}>\r\n                {defaultCollections}\r\n              </List>\r\n            </Grid>\r\n            <Grid item>\r\n              <List className={classes.collectionHolder}>\r\n                {userCollections}\r\n              </List>\r\n            </Grid>\r\n          </StackGrid>\r\n        </>)}\r\n        <Dialog fullScreen open={state.openFolder} \r\n          TransitionComponent={Transition} aria-labelledby=\"folder-dialog\">\r\n          <Folder \r\n            id={state.folderData.folder_id}\r\n            name={state.folderData.folder_name}\r\n          />\r\n          <Fab color=\"secondary\" aria-label=\"cancel\" \r\n            size=\"small\" className={classes.fabCancel}\r\n            onClick={() => dispatch({\r\n              type: CollectionActions.CLOSE\r\n            })}\r\n          >\r\n            <ArrowBackIcon />\r\n          </Fab>\r\n        </Dialog>\r\n      </div>\r\n      <Notifier\r\n        dispatch={dispatch}\r\n        open={state.openSnackbar}\r\n        message={state.snackbarMessage}\r\n        undoButton={state.snackbarUndoButton}\r\n      />\r\n      <FormDialog mode={\"collection\"} dispatch={dispatch} />\r\n      <EditFormDialog mode={\"collection\"} dispatch={dispatch} \r\n        edit={state.showForm}\r\n        collection_id={state.folderData.folder_id} \r\n        folder_name={state.folderData.folder_name} \r\n        folder_desc={state.folderData.folder_desc}\r\n      />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Collection","import { createMuiTheme } from '@material-ui/core/styles'\r\n\r\nexport const lightTheme = createMuiTheme({\r\n  breakpoints: {\r\n    values: {\r\n      xs: 0,\r\n      sm: 450,\r\n      md: 768,\r\n      lg: 1280,\r\n      xl: 1920\r\n    }\r\n  },\r\n  palette: {\r\n\t\tbackground: {\r\n\t\t\tdefault: \"#dadada\"\r\n\t\t},\r\n    primary: {\r\n      light: '#e0e0e0',\r\n      main: '#37474f',\r\n      dark: '#102027',\r\n      contrastText: '#fff',\r\n    },\r\n    secondary: {\r\n      light: '#ffffa6',\r\n      main: '#dce775',\r\n      dark: '#a8b545',\r\n      contrastText: '#000',\r\n    },\r\n\t},\r\n\ttypography: {\r\n\t\tfontSize: 12,\r\n\t\tsubtitle1: {\r\n\t\t\tfontWeight: 700,\r\n\t\t\tcolor: \"#37474f\"\r\n\t\t},\r\n\t\th5: {\r\n\t\t\tfontWeight: 900,\r\n\t\t\tletterSpacing: \"0.04rem\"\r\n\t\t},\r\n\t\th6: {\r\n\t\t\tfontWeight: 900,\r\n\t\t\tcolor: '#37474f',\r\n\t\t\tletterSpacing: \"0.03rem\",\r\n\t\t\ttextTransform: \"uppercase\"\r\n\t\t}\r\n\t},\r\n\toverrides: {\r\n\t\tMuiBottomNavigationAction: {\r\n\t\t\troot: {\r\n\t\t\t\tcolor: \"#62727b\",\r\n\t\t\t\t\"&$selected\": {\r\n\t\t\t\t\tcolor: \"#dce775\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n    },\r\n    MuiCssBaseline: {\r\n      '@global': {\r\n        '*': {\r\n          'scrollbar-width': 'thin',\r\n        },\r\n        '*::-webkit-scrollbar': {\r\n          display: \"none\"\r\n        },\r\n      }\r\n    }\r\n\t}\r\n})\r\n\r\nexport const darkTheme = createMuiTheme({\r\n  breakpoints: {\r\n    values: {\r\n      xs: 0,\r\n      sm: 450,\r\n      md: 768,\r\n      lg: 1280,\r\n      xl: 1920\r\n    }\r\n  },\r\n  palette: {\r\n\t\tbackground: {\r\n      default: \"#424242\",\r\n      paper: \"#333\"\r\n\t\t},\r\n    primary: {\r\n      light: '#484848',\r\n      main: '#212121',\r\n      dark: '#000000',\r\n      contrastText: '#fff',\r\n    },\r\n    secondary: {\r\n      light: '#ffffa6',\r\n      main: '#dce775',\r\n      dark: '#a8b545',\r\n      contrastText: '#000',\r\n    },\r\n\t},\r\n\ttypography: {\r\n    fontSize: 12,\r\n\t\tsubtitle1: {\r\n\t\t\tfontWeight: 700,\r\n\t\t\tcolor: \"#fff\"\r\n    },\r\n    subtitle2: {\r\n      color: \"#fff8\"\r\n    },\r\n    overline: {\r\n      color: \"#fff8\"\r\n    },\r\n    caption: {\r\n      color: \"#fff8\"\r\n    },\r\n    h4: {\r\n      fontWeight: 900,\r\n\t\t\tcolor: '#fff',\r\n    },\r\n\t\th5: {\r\n\t\t\tfontWeight: 900,\r\n\t\t\tletterSpacing: \"0.04rem\"\r\n\t\t},\r\n\t\th6: {\r\n\t\t\tfontWeight: 900,\r\n\t\t\tcolor: '#fff',\r\n\t\t\tletterSpacing: \"0.03rem\",\r\n\t\t\ttextTransform: \"uppercase\"\r\n\t\t}\r\n\t},\r\n\toverrides: {\r\n\t\tMuiBottomNavigationAction: {\r\n\t\t\troot: {\r\n\t\t\t\tcolor: \"#616161\",\r\n\t\t\t\t\"&$selected\": {\r\n\t\t\t\t\tcolor: \"#dce775\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n    },\r\n    MuiIconButton: {\r\n      colorPrimary: {\r\n        color: \"#fff\"\r\n      }\r\n    },\r\n    MuiListItemText: {\r\n      secondary: {\r\n        color: \"#ff8\"\r\n      }\r\n    },\r\n    MuiOutlinedInput: {\r\n      root: {\r\n        color: \"#fff\",\r\n        '& $notchedOutline': {\r\n            borderColor: '#ff8',\r\n        },\r\n        '&$focused $notchedOutline': {\r\n            borderColor: '#dce775',\r\n            borderWidth: 2,\r\n        },\r\n      },\r\n    },\r\n    MuiFormLabel: {\r\n      root: {\r\n        color: \"#fff8\",\r\n        '&$focused': {\r\n            color: '#dce775'\r\n        }\r\n      }\r\n    },\r\n    MuiMenuItem: {\r\n      root: {\r\n        color:\"#fff\"\r\n      }\r\n    },\r\n    MuiCssBaseline: {\r\n      '@global': {\r\n        '*': {\r\n          'scrollbar-width': 'thin',\r\n        },\r\n        '*::-webkit-scrollbar': {\r\n          display: \"none\"\r\n        },\r\n      }\r\n    }\r\n\t}\r\n})","import React, { useReducer } from \"react\"\r\nimport { GridList, GridListTile, makeStyles, useMediaQuery, useTheme } from \"@material-ui/core\"\r\nimport EditFormDialog from \"./EditFormDialog\"\r\nimport LinkCard from \"../components/LinkCards\"\r\nimport Notifier from \"./Snackbar\"\r\nimport { LinkActions, CardType, DiscoverActions, FormActions, SnackbarActions } from \"../utils/Constants\"\r\nimport { useNews, usePhotos, useCovidUpdate } from \"../utils/LinkLibraryServices\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  gridListHolder: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'space-around',\r\n    overflow: 'hidden',\r\n  },\r\n  gridList: {\r\n    flexWrap: \"nowrap\",\r\n    padding: theme.spacing(0,2,1,2),\r\n  },\r\n  discoverHeader: {\r\n    padding: theme.spacing(0,2)\r\n  },\r\n  containerWrapper: {\r\n    margin: theme.spacing(1,0)\r\n  },\r\n  covidGridListWrapper: {\r\n    margin: theme.spacing(0,0,0,19),\r\n    [theme.breakpoints.up(\"lg\")]: {\r\n      margin: theme.spacing(0,0,0,30),\r\n    }\r\n  }\r\n}))\r\n\r\nconst discoverDispatch = (state, action) => {\r\n  switch (action.type) {\r\n    case DiscoverActions.ADD: {\r\n      return {\r\n        ...state,\r\n        showForm: true,\r\n        clickedLinkData: action.payload.data\r\n      }\r\n    }\r\n    case LinkActions.ADD: {\r\n      return {\r\n        ...state,\r\n        showForm: false,\r\n        openSnackbar: true,\r\n        snackbarMessage: action.payload.message\r\n      }\r\n    }\r\n    case FormActions.CLOSE: {\r\n      return {\r\n        ...state,\r\n        showForm: false\r\n      }\r\n    }\r\n    case SnackbarActions.CLOSE: {\r\n      return {\r\n        ...state,\r\n        openSnackbar: false\r\n      }\r\n    }\r\n    case LinkActions.COPY: {\r\n      return {\r\n        ...state,\r\n        openSnackbar: true,\r\n        snackbarMessage: action.payload.message,\r\n      }\r\n    }\r\n    default: return state\r\n  }\r\n}\r\n\r\nconst initialState = {\r\n  showForm: false,\r\n  openSnackbar: false,\r\n  snackbarUndoButton: false,\r\n  snackbarMessage: \"\",\r\n  clickedLinkData: {}\r\n}\r\n\r\nconst DiscoverProvider = ({ type, query }) => {\r\n\r\n  const classes = useStyles()\r\n  const [state, dispatch] = useReducer(discoverDispatch, initialState)\r\n\r\n  const articles = useNews(query)\r\n  const articleCards = articles.map(article => (\r\n    <GridListTile key={article.url}>\r\n      <LinkCard\r\n        data={{\r\n          link_title: article.title,\r\n          link_url: article.url,\r\n          link_img: article.image\r\n        }}\r\n        type={CardType.DISCOVER_NEWS}\r\n        dispatch={dispatch}\r\n      />\r\n    </GridListTile>\r\n  ))\r\n\r\n  const photos = usePhotos()\r\n  const photoCards = photos.map(photo => (\r\n    <GridListTile key={photo.id}>\r\n      <LinkCard\r\n        data={{\r\n          link_title: \"Photo by \" + photo.photographer + \" (Pexels)\",\r\n          link_url: photo.url,\r\n          link_img: photo.src.portrait\r\n        }}\r\n        type={CardType.DISCOVER_PHOTOS}\r\n        dispatch={dispatch}\r\n      />\r\n    </GridListTile>\r\n  ))\r\n\r\n  const covidData = useCovidUpdate()\r\n  const covidCards = covidData.map((info, index) => (\r\n    <GridListTile key={index}>\r\n      <LinkCard\r\n        data={{\r\n          link_title: info.country,\r\n          link_img: \"None\",\r\n          stats: info,\r\n          rank: index\r\n        }}\r\n        type={CardType.COVID_UPDATE}\r\n        dispatch={dispatch}\r\n      />\r\n    </GridListTile>\r\n  ))\r\n\r\n  const useGridSize = () => {\r\n    const theme = useTheme()\r\n    const lg = useMediaQuery(theme.breakpoints.up(\"lg\"))\r\n    const md = useMediaQuery(theme.breakpoints.up(\"md\"))\r\n    const sm = useMediaQuery(theme.breakpoints.up(\"sm\"))\r\n\r\n    switch (type) {\r\n      case CardType.DISCOVER_PHOTOS: {\r\n        if (lg) return 7.1\r\n        else if (md) return 4.75\r\n        else if (sm) return 3.1\r\n        else return 2.1\r\n      }\r\n      case CardType.COVID_UPDATE: {\r\n        if (lg) return 7.5\r\n        else if (md) return 3\r\n        else if (sm) return 2\r\n        else return 1\r\n      }\r\n      default: {\r\n        if (lg) return 7.75\r\n        else if (md) return 3.75\r\n        else if (sm) return 2.75\r\n        else return 1.75\r\n      }\r\n    }\r\n  }\r\n\r\n  const getCards = () => {\r\n    switch (type) {\r\n      case CardType.DISCOVER_NEWS: return articleCards\r\n      case CardType.DISCOVER_PHOTOS: return photoCards\r\n      case CardType.COVID_UPDATE: return covidCards\r\n      default: return\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className={type === CardType.COVID_UPDATE ? classes.covidGridListWrapper : classes.containerWrapper} >\r\n        <div className={classes.gridListHolder} >\r\n          <GridList className={classes.gridList} cols={useGridSize()} cellHeight={\"auto\"} spacing={8}>\r\n            {getCards()}\r\n          </GridList>\r\n        </div>\r\n      </div>\r\n      <Notifier \r\n        dispatch={dispatch}\r\n        open={state.openSnackbar}\r\n        message={state.snackbarMessage}\r\n        undoButton={state.snackbarUndoButton}\r\n      />\r\n      <EditFormDialog mode={\"link\"} from={\"discover\"}\r\n        dispatch={dispatch} edit={state.showForm} {...state.clickedLinkData} />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default DiscoverProvider","import React, { useState } from \"react\"\r\nimport { makeStyles, Chip, Typography } from \"@material-ui/core\"\r\nimport DiscoverProvider from \"../components/DiscoverProvider\"\r\nimport covidImg from \"../img/covid2.png\"\r\n\r\nimport { CardType } from \"../utils/Constants\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: \"100%\",\r\n    margin: theme.spacing(10,0)\r\n  },\r\n  gridListHolder: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'space-around',\r\n    overflow: 'hidden',\r\n\r\n  },\r\n  gridList: {\r\n    flexWrap: \"nowrap\",\r\n    padding: theme.spacing(0,1)\r\n  },\r\n  chipContainer: {\r\n    display: \"flex\",\r\n    overflow: \"scroll\",\r\n    padding: theme.spacing(0,2,0)\r\n  },\r\n  chip: {\r\n    marginRight: theme.spacing(0.5)\r\n  },\r\n  discoverHeader: {\r\n    padding: theme.spacing(0,2)\r\n  },\r\n  covidInfo: {\r\n    background: `url(\"${covidImg}\")`, \r\n    backgroundSize: \"contain\",\r\n    backgroundRepeat: \"no-repeat\",\r\n    backgroundColor: \"rgba(237,174,95,0.75)\",\r\n    backgroundPosition: \"left bottom\",\r\n    paddingTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(2)\r\n  },\r\n}))\r\n\r\nconst Discover = ({ dispatch, ...props }) => {\r\n\r\n  const classes = useStyles()\r\n\r\n  const chipData = [\r\n    { key: 0, label: 'Philippines', query: \"latest-news?country=ph&\" },\r\n    { key: 1, label: 'World', query: \"latest-news?language=en&\"},\r\n    { key: 2, label: 'Politics', query: \"search?category=politics&\" },\r\n    { key: 3, label: 'Technology', query: \"search?category=technology&\" },\r\n    { key: 4, label: 'Science', query: \"search?category=science&\" },\r\n    { key: 5, label: 'Gadgets', query: \"search?category=gadgets&\" },\r\n    { key: 6, label: 'Culture', query: \"search?category=culture&\" },\r\n  ]\r\n\r\n  const [newsFeedQuery, setNewsFeedQuery] = useState(chipData[0].query)\r\n  const [activeNewsFeed, setActiveNewsFeed] = useState(0)\r\n\r\n  const chips = chipData.map(chip => {\r\n    return (\r\n      <Chip key={chip.key} variant={activeNewsFeed === chip.key ? \"default\" : \"outlined\"}\r\n        color={JSON.parse(localStorage.getItem(\"theme\")).value === false ? \"primary\" : \"secondary\"} \r\n        className={classes.chip} label={chip.label} \r\n        onClick={() => {\r\n          setActiveNewsFeed(chip.key)\r\n          setNewsFeedQuery(chip.query)\r\n        }}\r\n      />\r\n    )\r\n  })\r\n\r\n  const getNewsFeed = <DiscoverProvider type={CardType.DISCOVER_NEWS} query={newsFeedQuery} />\r\n  const photoFeed = <DiscoverProvider type={CardType.DISCOVER_PHOTOS} query=\"\" />\r\n  const covidUpdate = <DiscoverProvider type={CardType.COVID_UPDATE} query=\"\" />\r\n\r\n  return (\r\n    <>\r\n      <div className={classes.root} >\r\n        <div>\r\n          <div className={classes.discoverHeader} >\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              Articles\r\n            </Typography>\r\n          </div>\r\n          <div className={classes.chipContainer} >\r\n            {chips}\r\n          </div>\r\n          {getNewsFeed}\r\n        </div>\r\n        <div className={classes.covidInfo}>\r\n          <div className={classes.discoverHeader} >\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              Covid-19 Update\r\n            </Typography>\r\n          </div>\r\n          {covidUpdate}\r\n        </div>\r\n        <div>\r\n          <div className={classes.discoverHeader} >\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              Photos\r\n            </Typography>\r\n          </div>\r\n          {photoFeed}\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Discover","import React from \"react\"\r\nimport { Dialog, Slide, makeStyles, Fab, Paper, Grid, Typography, useMediaQuery, useTheme } from \"@material-ui/core\"\r\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\"\r\nimport LinkIcon from \"@material-ui/icons/Link\"\r\nimport { AppActions } from \"../utils/Constants\"\r\nimport aboutBg from \"../img/app.png\"\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"left\" ref={ref} {...props} />\r\n})\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  body: {\r\n    width: `calc(100vw - ${theme.spacing(4)}px)`,\r\n    borderRadius: theme.spacing(1),\r\n    marginBottom: theme.spacing(2),\r\n    background: theme.palette.background.paper\r\n  },\r\n  header: {\r\n    paddingTop: theme.spacing(7),\r\n    paddingBottom: theme.spacing(4),\r\n    background: \"#05307c\",\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      padding: 0\r\n    }\r\n  },\r\n  fabCancel: {\r\n    position: \"fixed\",\r\n    bottom: theme.spacing(2),\r\n    right: theme.spacing(2),\r\n    zIndex: 1000,\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      position: \"absolute\",\r\n      bottom: theme.spacing(2),\r\n      right: theme.spacing(2),\r\n    }\r\n  },\r\n}))\r\n\r\nexport const Settings = ({open, dispatch}) => {\r\n\r\n  const classes = useStyles()\r\n  const theme = useTheme()\r\n  const fullScreenDialog = useMediaQuery(theme.breakpoints.up(\"md\"))\r\n\r\n  return (\r\n    <Dialog fullScreen={!fullScreenDialog} open={open}\r\n      TransitionComponent={Transition} \r\n      aria-labelledby=\"settings-dialog\"\r\n    >\r\n      <div className={classes.header}>\r\n        <img src={aboutBg} width=\"100%\" alt=\"\"></img>\r\n      </div>\r\n      <Grid container spacing={8} style={{paddingBottom:56}}\r\n        alignItems=\"center\" justify=\"center\"\r\n      >\r\n        <Paper variant=\"outlined\" className={classes.body}>\r\n          <Grid item align=\"center\" style={{padding: 16}}>\r\n            <Typography variant=\"h4\" gutterBottom>\r\n              Link library\r\n            </Typography>\r\n            <LinkIcon fontSize=\"large\" style={{marginRight:8}} />\r\n            <Typography variant=\"subtitle1\" gutterBottom>\r\n              Save links and discover the web\r\n            </Typography>\r\n          </Grid>\r\n        </Paper>\r\n        <Paper variant=\"outlined\" className={classes.body}>\r\n          <Grid item align=\"center\" style={{padding: 16}} >\r\n            <Typography variant=\"subtitle1\" gutterBottom>\r\n              Made using <strong>React</strong> and <strong>Material UI</strong>\r\n            </Typography>\r\n            <Typography variant=\"subtitle1\" gutterBottom>\r\n              API credits\r\n            </Typography>\r\n            <Typography variant=\"subtitle2\" gutterBottom>\r\n              Discover articles powered by <strong>Currents API</strong><br/>\r\n              Discover photos powered by <strong>Pexels API</strong><br/>\r\n              Covid-19 updates powered by <strong>Coronatracker API</strong><br/>\r\n            </Typography>\r\n            <Typography variant=\"subtitle1\" gutterBottom>\r\n              Image credits\r\n            </Typography>\r\n            <Typography variant=\"subtitle2\" gutterBottom>\r\n              Flag icons from <strong>countryflags.io</strong><br/>\r\n              Vector graphics from <strong>freepik.com</strong>, <strong>pdabrowski.com</strong> and <strong>rawpixel.com</strong>\r\n            </Typography>\r\n          </Grid>   \r\n        </Paper>\r\n      </Grid>\r\n      \r\n      <Fab color=\"secondary\" aria-label=\"cancel\" \r\n        size=\"small\" className={classes.fabCancel}\r\n        onClick={() => dispatch({ type: AppActions.CLOSE_MENU })}\r\n      >\r\n        <ArrowBackIcon />\r\n      </Fab>\r\n    </Dialog>\r\n  )\r\n}","import React, { useState } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport BookmarksIcon from '@material-ui/icons/Bookmarks'\r\nimport InvertColorsIcon from '@material-ui/icons/InvertColors'\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert'\r\nimport InfoIcon from '@material-ui/icons/Info'\r\nimport { AppBar, Toolbar, Typography, IconButton, \r\n  Menu, MenuItem, Slide, useScrollTrigger } from '@material-ui/core'\r\nimport { AppActions } from \"../utils/Constants\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    display: 'flex',\r\n    flexDirection: \"column\",\r\n    alignItems: \"flex-start\",\r\n    textTransform: \"uppercase\"\r\n  },\r\n  appBar: {\r\n    position: \"fixed\",\r\n    zIndex: 8000,\r\n    top: theme.spacing(1),\r\n    width: `calc(100% - ${theme.spacing(2)}px)`,\r\n    left: theme.spacing(1),\r\n    borderRadius: theme.spacing(1)\r\n  }\r\n}));\r\n\r\nconst HideOnScroll = props => {\r\n  const { children, window } = props;\r\n  const trigger = useScrollTrigger({ target: window ? window() : undefined });\r\n\r\n  return (\r\n    <Slide appear={false} direction=\"down\" in={!trigger}>\r\n      {children}\r\n    </Slide>\r\n  )\r\n}\r\n\r\nconst Header = ({ appDispatch, ...props }) => {\r\n  const classes = useStyles()\r\n\r\n  const [anchorEl, setAnchorEl] = useState(null)\r\n  const handleClick = event => setAnchorEl(event.currentTarget)\r\n  const handleClose = () => setAnchorEl(null)\r\n\r\n  return (\r\n      <AppBar className={classes.appBar}>\r\n        <Toolbar>\r\n          <BookmarksIcon style={{marginRight: 8}}/>\r\n          <div className={classes.title}>\r\n            <Typography variant=\"h5\">\r\n              {props.title}\r\n            </Typography>\r\n          </div>\r\n          <IconButton style={{marginRight:-16}} \r\n            onClick={handleClick} aria-label=\"open-menu\">\r\n            <MoreVertIcon style={{color: \"#fff\"}}/>\r\n          </IconButton>\r\n          <Menu id=\"simple-menu\"\r\n            anchorEl={anchorEl}\r\n            open={Boolean(anchorEl)}\r\n            onClose={handleClose}\r\n            style={{zIndex:11000}}\r\n          >\r\n            <MenuItem onClick={() => {\r\n              appDispatch({\r\n                type: AppActions.TOGGLE_THEME,\r\n                payload: { value: !(JSON.parse(localStorage.getItem(\"theme\")).value) }\r\n              })\r\n              handleClose()\r\n            }}>\r\n              <InvertColorsIcon style={{marginRight:8}} /> Toggle theme\r\n            </MenuItem>\r\n            {!props.show ? (\r\n              <MenuItem onClick={() => {\r\n                appDispatch({\r\n                  type: AppActions.OPEN_MENU\r\n                })\r\n                handleClose()\r\n              }}>\r\n                <InfoIcon style={{marginRight:8}} /> About app\r\n              </MenuItem>\r\n            ) : ( \"\" )}\r\n          </Menu>\r\n        </Toolbar>\r\n      </AppBar>\r\n  )\r\n}\r\n\r\nexport default Header","import React, { useState, useReducer } from \"react\"\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\"\r\nimport BottomNav from \"./components/BottomNav\"\r\nimport Home from \"./pages/Home\"\r\nimport Collection from \"./pages/Collection\"\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\r\nimport { ThemeProvider } from '@material-ui/styles'\r\nimport { lightTheme, darkTheme } from \"./utils/Themes.js\"\r\nimport Discover from \"./pages/Discover\"\r\nimport { Settings } from \"./components/Settings\"\r\nimport Header from \"./components/Header\"\r\n\r\nimport { AppActions } from \"./utils/Constants\"\r\n\r\nconst appDispatch = (state, action) => {\r\n\r\n\tswitch (action.type) {\r\n\r\n\t\tcase AppActions.TOGGLE_THEME: {\r\n\t\t\tlocalStorage.setItem(\"theme\", JSON.stringify(action.payload))\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tdarkTheme: action.payload.value\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase AppActions.OPEN_MENU: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tshowMenu: true\r\n\t\t\t}\r\n\t\t}\r\n\t\tcase AppActions.CLOSE_MENU: {\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tshowMenu: false\r\n\t\t\t}\r\n\t\t}\r\n\t\tdefault: return state\r\n\t}\r\n}\r\n\r\nconst App = () => {\r\n\r\n\tif(!(localStorage.getItem(\"theme\")))\r\n\t\tlocalStorage.setItem(\"theme\", JSON.stringify({value: false}))\r\n\r\n\tconst initialState = {\r\n\t\tdarkTheme: JSON.parse(localStorage.getItem(\"theme\")).value,\r\n\t\tshowMenu: false\r\n\t}\r\n\r\n\tconst [tab, setTab] = useState(\"\")\r\n\tconst [state, dispatch] = useReducer(appDispatch, initialState)\r\n\r\n\treturn (\r\n\t\t<ThemeProvider theme={state.darkTheme ? darkTheme : lightTheme} >\r\n\t\t\t<CssBaseline />\r\n\t\t\t<Header title={\"Link library\"} appDispatch={dispatch} show={state.showMenu} />\r\n\t\t\t<Router basename=\"/link-library\">\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<Route exact path=\"/\">\r\n\t\t\t\t\t\t<Home />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route path=\"/discover\">\r\n\t\t\t\t\t\t<Discover />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route path=\"/collection\">\r\n\t\t\t\t\t\t<Collection />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t</Switch>\r\n\t\t\t\t<BottomNav\r\n\t\t\t\t\tvalue={tab}\r\n\t\t\t\t\tonChange={setTab}\r\n\t\t\t\t/>\r\n\t\t\t</Router>\r\n\t\t\t<Settings open={state.showMenu} dispatch={dispatch} />\r\n\t\t</ThemeProvider>\r\n\t)\r\n}\r\n\r\nexport default App","import React from \"react\";\r\nimport ReactDOM from \"react-dom\"\r\nimport App from \"./App\"\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"))"],"sourceRoot":""}