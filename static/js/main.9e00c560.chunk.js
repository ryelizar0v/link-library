(this["webpackJsonplink-library"]=this["webpackJsonplink-library"]||[]).push([[0],{291:function(e,t,a){e.exports=a(590)},407:function(e,t){},421:function(e,t){},423:function(e,t){},590:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(11),r=a.n(l),c=a(6),i=a(654),s=a(628),d=a(630),u=a(625),m=a(111),f=a.n(m),p=a(265),g=a.n(p),b=a(264),E=a.n(b),h=a(12),v=Object(u.a)((function(e){return{bottomBar:{position:"fixed",bottom:0,background:e.palette.primary.main,margin:0,padding:0,width:"100vw",zIndex:100}}}));var O=function(e){var t=v(),a=Object(h.f)(),l=Object(n.useState)(e.value),r=Object(c.a)(l,2),i=r[0],u=r[1];return a.listen((function(e,t){"POP"===t&&u(e.pathname.replace("/",""))})),o.a.createElement(s.a,{value:i,onChange:function(t,n){a.push("/".concat(n)),u(n),e.onChange(n)},className:t.bottomBar},o.a.createElement(d.a,{label:"Home",value:"",icon:o.a.createElement(E.a,null)}),o.a.createElement(d.a,{label:"Collection",value:"collection",icon:o.a.createElement(f.a,null)}),o.a.createElement(d.a,{label:"Discover",value:"discover",icon:o.a.createElement(g.a,null)}))},k=a(631),j=a(632),y=a(80),_=a(266),C=a.n(_),S=a(267),w=a.n(S),N=a(633),I=Object(u.a)((function(e){return{menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,display:"flex",flexDirection:"column",alignItems:"flex-start",textTransform:"uppercase"}}})),L=function(e){var t=I();return o.a.createElement(k.a,{position:"fixed",style:{zIndex:1e4}},o.a.createElement(j.a,null,o.a.createElement(C.a,{style:{marginRight:8}}),o.a.createElement("div",{className:t.title},o.a.createElement(y.a,{variant:"h5"},e.title)),o.a.createElement(N.a,{style:{padding:0},onClick:e.onToggleTheme},o.a.createElement(w.a,{style:{color:"#fff"}}))))},x=a(30),T=a(58),z=a(166),A=a.n(z);a(301);A.a.initializeApp({apiKey:"AIzaSyBaF7HPX0cehZsg5R1uaPwn-g-c8lO35Tk",authDomain:"link-library-5cfc6.firebaseapp.com",databaseURL:"https://link-library-5cfc6.firebaseio.com",projectId:"link-library-5cfc6",storageBucket:"link-library-5cfc6.appspot.com",messagingSenderId:"405205691939",appId:"1:405205691939:web:a040686ea827173f210b96",measurementId:"G-3J7Y752GEE"});var B=A.a,R=a(647),D=a(648),F=a(112),H=a.n(F),W=a(634),K=a(635),U=a(636),q=a(637),P=a(638),M=a(114),G=a.n(M),$=a(113),Y=a.n($),J=a(269),V=a.n(J),X=a(270),Z=a.n(X),Q=a(115),ee=a.n(Q),te=a(268),ae=Object(u.a)((function(e){return{cardContainer:{background:e.palette.background.paper,width:"100%",height:"100%",borderColor:e.palette.primary.light,borderRadius:e.spacing(1)},cardContent:{lineHeight:1.25,textOverflow:"ellipsis"}}}));var ne=function(e){var t=e.dispatch,a=Object(T.a)(e,["dispatch"]),n=ae(),l=function(e){var t=e.match(/^https?:\/\/(www.)?([^/?#]+)(?:[/?#]|$)/i);return t&&t[2]}(a.url),r={link_title:a.title,link_url:a.url,folder_id:a.folder,link_img:a.img,date_added:a.date_added};return o.a.createElement(W.a,{variant:"outlined",className:n.cardContainer},o.a.createElement(K.a,null,""!==a.img?o.a.createElement(U.a,{component:"img",alt:a.img,image:a.img,title:a.title,height:120}):"",o.a.createElement(q.a,null,o.a.createElement(y.a,{variant:"overline"},l),o.a.createElement(y.a,{className:n.cardContent,variant:"subtitle1",gutterBottom:!0},a.title),o.a.createElement(y.a,{noWrap:!0,className:n.cardContent,variant:"caption",gutterBottom:!0},a.url))),o.a.createElement(P.a,null,o.a.createElement(N.a,{size:"small",color:"primary",onClick:function(){return t({type:Ae.EDIT_LINK,payload:{data:Object(x.a)({docId:a.contentId},r)}})}},o.a.createElement(Y.a,null)),o.a.createElement(N.a,{size:"small",color:"primary",onClick:function(){return t({type:Ae.DELETE_LINK,payload:{id:a.contentId,data:r}})}},o.a.createElement(G.a,null)),o.a.createElement(te.CopyToClipboard,{text:a.url,onCopy:function(){return t({type:Ae.COPY_LINK,payload:{message:"Link URL copied to clipboard"}})}},o.a.createElement(N.a,{size:"small",color:"primary"},o.a.createElement(V.a,null))),o.a.createElement(N.a,{size:"small",color:"primary",onClick:function(e){e.preventDefault(),window.open(a.url,"_blank")}},o.a.createElement(Z.a,null)),o.a.createElement(N.a,{size:"small",color:"primary",disabled:!0,onClick:function(){return alert("HEY")}},o.a.createElement(ee.a,null))))},oe=a(640),le=a(655),re=a(657),ce=a(643),ie=a(642),se=a(658),de=a(641),ue=a(271),me=a.n(ue),fe=a(646),pe=a(121),ge=a.n(pe),be=a(639),Ee=a(57),he=a.n(Ee),ve=a(116),Oe=a.n(ve),ke=a(117),je=a.n(ke),ye=a(40),_e=a.n(ye),Ce=Object(u.a)((function(e){return{fabAdd:{position:"fixed",bottom:e.spacing(9),right:e.spacing(2),zIndex:1e3},formInput:{width:"100%",margin:e.spacing(1,0)},root:{padding:e.spacing(8,0,18,0),background:e.palette.background.paper},icon:{marginRight:e.spacing(1)},bottomAppBar:{top:"auto",bottom:0},snackBar:{position:"fixed",bottom:e.spacing(18)}}})),Se=o.a.forwardRef((function(e,t){return o.a.createElement(be.a,Object.assign({direction:"left",ref:t},e))}));function we(e){console.log("FORM DIALOG PROPS: ",e);var t=Ce(),a=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],o=t[1];return Object(n.useEffect)((function(){var e=B.firestore().collection("collections").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(x.a)({folder_id:e.id},e.data())}));o(t)}));return function(){return e()}}),[]),a}(),l=Object(n.useState)(!1),r=Object(c.a)(l,2),i=r[0],s=r[1],d=Object(n.useState)(!1),u=Object(c.a)(d,2),m=u[0],f=u[1],p=Object(n.useState)(""),g=Object(c.a)(p,2),b=g[0],E=g[1],h=Object(n.useState)(""),v=Object(c.a)(h,2),O=v[0],y=v[1],_=Object(n.useState)(""),C=Object(c.a)(_,2),S=C[0],w=C[1],I=Object(n.useState)(e.defaultFolder),L=Object(c.a)(I,2),T=L[0],z=L[1],A=Object(n.useState)(""),R=Object(c.a)(A,2),D=R[0],F=R[1],H=Object(n.useState)(""),W=Object(c.a)(H,2),K=W[0],U=W[1],q=Object(n.useState)(""),P=Object(c.a)(q,2),M=P[0],G=P[1],$=function(){J(),f(!1),s(!1)},Y=function(){f(!1)};function J(){z(e.defaultFolder),F(""),U(""),y(""),w("")}var V=function(e){he.a.get("https://cors-anywhere.herokuapp.com/"+e).then((function(e){console.log(e.data);var t=Oe.a.load(e.data),a=t("meta[property='og:title']").attr("content");void 0===a&&(a=t("title")[0].children[0].data),void 0===a&&(a="");var n=t("meta[property='og:image']").attr("content");void 0===n&&(n=t("meta[property='twitter:image']").attr("content")),void 0===n&&t("img").each((function(e,t){/^https:\/\//.test(t.attribs.src)&&(n=t.attribs.src)})),void 0===n&&(n=""),G(n),F(a),f(!1)})).catch((function(e){console.log("THIS IS ERROR: ",e),E("Link invalid or not found")}))},X=function(){return o.a.createElement(k.a,{position:"fixed",color:"secondary",className:t.bottomAppBar},o.a.createElement(j.a,null,o.a.createElement(oe.a,{onClick:$},o.a.createElement(je.a,{className:t.icon})," Cancel")))};return o.a.createElement("div",null,o.a.createElement(de.a,{color:"secondary","aria-label":"add",className:t.fabAdd,onClick:function(){return s(!0)}},o.a.createElement(me.a,null)),o.a.createElement(re.a,{fullScreen:!0,open:i,TransitionComponent:Se,"aria-labelledby":"form-dialog-title"},o.a.createElement("form",{onSubmit:function(t){switch(t.preventDefault(),e.mode){case"collection":B.firestore().collection("collections").add({folder_name:O,folder_desc:S}).then((function(){e.onAdd("Collection successfully created"),console.log("Collection successfully added")})).catch((function(t){e.onAdd("Error creating collection"),console.error("Error adding collection: ",t)}));break;default:B.firestore().collection("links").add({link_title:D,link_url:K,folder_id:T,link_img:M,date_added:new Date}).then((function(){e.onAdd("Link successfully added"),console.log("Link successfully added")})).catch((function(t){e.onAdd("Error adding link: ",t),console.error("Error adding to database: ",t)}))}J(),s(!1)}},o.a.createElement("div",{className:t.root},o.a.createElement(ie.a,{id:"form-dialog-title"},"Add new ","collection"===e.mode?e.mode:"link"),o.a.createElement(ce.a,null,"collection"===e.mode?o.a.createElement(o.a.Fragment,null,o.a.createElement(le.a,{required:!0,multiline:!0,autoFocus:!0,className:t.formInput,id:"collection-name",label:"Collection name",variant:"outlined",value:O,onChange:function(e){return y(e.target.value)},size:"small"}),o.a.createElement(le.a,{multiline:!0,className:t.formInput,id:"collection-desc",label:"Collection description",variant:"outlined",value:S,onChange:function(e){return w(e.target.value)},size:"small"})):o.a.createElement(o.a.Fragment,null,o.a.createElement(le.a,{multiline:!0,className:t.formInput,id:"link-title",label:"Link title",variant:"outlined",value:D,onChange:function(e){return F(e.target.value)},size:"small"}),o.a.createElement(le.a,{required:!0,multiline:!0,autoFocus:!0,type:"url",className:t.formInput,id:"link-url",label:"Link URL",variant:"outlined",size:"small",value:K,onChange:function(e){U(e.target.value),f(!0),E("Getting link details..."),V(void 0!==e.target.value?e.target.value:"")}}),o.a.createElement(le.a,{className:t.formInput,id:"link-in-folder-id",select:!0,label:"Collection",value:T,onChange:function(e){return z(e.target.value)},variant:"outlined",size:"small"},a.map((function(e){return o.a.createElement(fe.a,{key:e.folder_id,value:e.folder_id},e.folder_name)})))))),o.a.createElement(de.a,{color:"secondary","aria-label":"add",className:t.fabAdd,type:"submit",variant:"extended"},o.a.createElement(ge.a,{className:t.icon})," Save")),o.a.createElement(se.a,{className:t.snackBar,anchorOrigin:{vertical:"bottom",horizontal:"left"},open:m,autoHideDuration:5e3,onClose:Y,message:b,action:o.a.createElement(o.a.Fragment,null,o.a.createElement(N.a,{size:"small","aria-label":"close",color:"inherit",onClick:Y},o.a.createElement(_e.a,{fontSize:"small"})))}),o.a.createElement(X,null)))}var Ne=Object(u.a)((function(e){return{fabAdd:{position:"fixed",bottom:e.spacing(9),right:e.spacing(2),zIndex:1e3},formInput:{width:"100%",margin:e.spacing(1,0)},root:{padding:e.spacing(8,0,18,0)},icon:{marginRight:e.spacing(1)},bottomAppBar:{top:"auto",bottom:0},snackBar:{position:"fixed",bottom:e.spacing(18)}}})),Ie=o.a.forwardRef((function(e,t){return o.a.createElement(be.a,Object.assign({direction:"left",ref:t},e))}));var Le=function(e){var t=Ne(),a=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],o=t[1];return Object(n.useEffect)((function(){var e=B.firestore().collection("collections").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(x.a)({folder_id:e.id},e.data())}));o(t)}));return function(){return e()}}),[]),a}(),l=function(){ne(),$(!1),X(!1),e.onClose(!1)},r=Object(n.useState)(e.folder_id),i=Object(c.a)(r,2),s=i[0],d=i[1],u=Object(n.useState)(e.link_title),m=Object(c.a)(u,2),f=m[0],p=m[1],g=Object(n.useState)(e.link_url),b=Object(c.a)(g,2),E=b[0],h=b[1],v=Object(n.useState)(e.link_img),O=Object(c.a)(v,2),y=O[0],_=O[1],C=Object(n.useState)(e.docId),S=Object(c.a)(C,2),w=S[0],I=S[1],L=Object(n.useState)(e.collection_id),T=Object(c.a)(L,2),z=T[0],A=T[1],R=Object(n.useState)(e.folder_name),D=Object(c.a)(R,2),F=D[0],H=D[1],W=Object(n.useState)(e.folder_desc),K=Object(c.a)(W,2),U=K[0],q=K[1],P=Object(n.useState)(!1),M=Object(c.a)(P,2),G=M[0],$=M[1],Y=Object(n.useState)(!1),J=Object(c.a)(Y,2),V=J[0],X=J[1],Z=Object(n.useState)(""),Q=Object(c.a)(Z,2),ee=Q[0],te=Q[1];Object(n.useEffect)((function(){d(e.folder_id),p(e.link_title),h(e.link_url),_(e.link_img),I(e.docId),$(e.edit),A(e.collection_id),H(e.folder_name),q(e.folder_desc)}),[e.folder_id,e.link_title,e.link_url,e.link_img,e.edit,e.docId,e.collection_id,e.folder_name,e.folder_desc]);var ae=function(){X(!1)};function ne(){d(s),p(""),h(""),H(""),q("")}var ue=function(e){he.a.get("https://cors-anywhere.herokuapp.com/"+e).then((function(e){console.log(e.data);var t=Oe.a.load(e.data),a=t("meta[property='og:title']").attr("content");void 0===a&&(a=t("title")[0].children[0].data),void 0===a&&(a="");var n=t("meta[property='og:image']").attr("content");void 0===n&&(n=t("meta[property='twitter:image']").attr("content")),void 0===n&&t("img").each((function(e,t){/^https:\/\//.test(t.attribs.src)&&(n=t.attribs.src)})),void 0===n&&(n=""),_(n),p(a),X(!1)})).catch((function(e){console.log("THIS IS ERROR: ",e),te("Link invalid or not found")}))},me=function(){return o.a.createElement(k.a,{position:"fixed",color:"secondary",className:t.bottomAppBar},o.a.createElement(j.a,null,o.a.createElement(oe.a,{onClick:l},o.a.createElement(je.a,{className:t.icon})," Cancel")))};return o.a.createElement("div",null,o.a.createElement(re.a,{fullScreen:!0,open:G,TransitionComponent:Ie,"aria-labelledby":"form-dialog-title"},o.a.createElement("form",{onSubmit:function(t){switch(t.preventDefault(),e.mode){case"collection":B.firestore().collection("collections").doc(z).update({folder_name:F,folder_desc:U}).then((function(){e.onUpdate("Collection successfully updated"),console.log("Collection successfully updated")})).catch((function(t){e.onUpdate("Error updating collection"),console.error("Error adding collection: ",t)}));break;default:B.firestore().collection("links").doc(w).update({link_title:f,link_url:E,folder_id:s,link_img:y,date_added:new Date}).then((function(){e.onAdd("Link successfully updated"),console.log("Link successfully updated")})).catch((function(t){e.onAdd("Error updating link: ",t),console.error("Error updating link on database: ",t)}))}ne(),$(!1)}},o.a.createElement("div",{className:t.root},o.a.createElement(ie.a,{id:"form-dialog-title"},"Edit ","collection"===e.mode?e.mode:"link"),o.a.createElement(ce.a,null,"collection"===e.mode?o.a.createElement(o.a.Fragment,null,o.a.createElement(le.a,{required:!0,multiline:!0,autoFocus:!0,className:t.formInput,id:"collection-name",label:"Collection name",variant:"outlined",value:F,onChange:function(e){H(e.target.value)},size:"small"}),o.a.createElement(le.a,{multiline:!0,className:t.formInput,id:"collection-desc",label:"Collection description",variant:"outlined",value:U,onChange:function(e){q(e.target.value)},size:"small"})):o.a.createElement(o.a.Fragment,null,o.a.createElement(le.a,{multiline:!0,className:t.formInput,id:"link-title",label:"Link title",variant:"outlined",value:f,onChange:function(e){p(e.target.value)},size:"small"}),o.a.createElement(le.a,{required:!0,multiline:!0,autoFocus:!0,type:"url",className:t.formInput,id:"link-url",label:"Link URL",variant:"outlined",size:"small",value:E,onChange:function(e){h(e.target.value),X(!0),te("Getting link details..."),ue(void 0!==e.target.value?e.target.value:"")},helperText:"URL must start with http:// or https://"}),o.a.createElement(le.a,{className:t.formInput,id:"link-in-folder-id",select:!0,label:"Collection",value:s,onChange:function(e){d(e.target.value)},variant:"outlined",size:"small"},a.map((function(e){return o.a.createElement(fe.a,{key:e.folder_id,value:e.folder_id},e.folder_name)})))))),o.a.createElement(de.a,{color:"secondary","aria-label":"add",className:t.fabAdd,type:"submit",variant:"extended"},o.a.createElement(ge.a,{className:t.icon})," Save")),o.a.createElement(se.a,{className:t.snackBar,anchorOrigin:{vertical:"bottom",horizontal:"left"},open:V,autoHideDuration:5e3,onClose:ae,message:ee,action:o.a.createElement(o.a.Fragment,null,o.a.createElement(N.a,{size:"small","aria-label":"close",color:"inherit",onClick:ae},o.a.createElement(_e.a,{fontSize:"small"})))}),o.a.createElement(me,null)))},xe=Object(u.a)((function(e){return{snackBar:{position:"fixed",bottom:e.spacing(18)}}})),Te=function(e){var t=e.dispatch,a=Object(T.a)(e,["dispatch"]),l=xe(),r=Object(n.useState)(a.open),i=Object(c.a)(r,2),s=i[0],d=i[1],u=Object(n.useState)(a.message),m=Object(c.a)(u,2),f=m[0],p=m[1],g=Object(n.useState)(a.undoButton),b=Object(c.a)(g,2),E=b[0],h=b[1];return Object(n.useEffect)((function(){d(a.open),p(a.message),h(a.undoButton)}),[a.open,a.message,a.undoButton]),o.a.createElement(se.a,{className:l.snackBar,anchorOrigin:{vertical:"bottom",horizontal:"left"},open:s,autoHideDuration:5e3,onClose:function(){return t({type:Be.CLOSE_SNACKBAR})},message:f,action:o.a.createElement(o.a.Fragment,null,E?o.a.createElement(oe.a,{color:"inherit","aria-label":"undo-delete-link",onClick:function(){return t({type:Be.UNDO_DELETE_LINK})}},"Undo"):"",o.a.createElement(N.a,{size:"small","aria-label":"close-snackbar",color:"inherit",onClick:function(){return t({type:Be.CLOSE_SNACKBAR})}},o.a.createElement(_e.a,{fontSize:"small"})))})},ze=Object(u.a)((function(e){return{root:{flexGrow:1,width:"calc(100vw - ".concat(e.spacing(2),"px)"),margin:e.spacing(9,1,18,1)},folderNameHeader:{background:e.palette.background.paper,position:"sticky",top:e.spacing(7),zIndex:5,paddingTop:e.spacing(2)},snackBar:{position:"fixed",bottom:e.spacing(18)}}})),Ae={COPY_LINK:"copy-link",EDIT_LINK:"edit-link",DELETE_LINK:"delete-link"},Be={UNDO_DELETE_LINK:"undo-delete-link",CLOSE_SNACKBAR:"close-snackbar"};var Re=function(e){var t=e.id,a=e.name,l=Object(T.a)(e,["id","name"]),r=ze(),i=Object(n.useState)(!1),s=Object(c.a)(i,2),d=s[0],u=s[1],m=Object(n.useState)(!1),f=Object(c.a)(m,2),p=f[0],g=f[1],b=Object(n.useState)(""),E=Object(c.a)(b,2),h=E[0],v=E[1],O=Object(n.useState)(!0),k=Object(c.a)(O,2),j=k[0],_=k[1],C=Object(n.useState)({}),S=Object(c.a)(C,2),w=S[0],N=S[1],I=Object(n.useReducer)((function(e,t){switch(t.type){case Ae.COPY_LINK:u(!1),setTimeout((function(){_(!1),u(!0),v(t.payload.message)}));break;case Ae.EDIT_LINK:g(!0),N(t.payload.data);break;case Ae.DELETE_LINK:B.firestore().collection("links").doc(t.payload.id).delete().then((function(){v("Link successfully deleted"),u(!0),g(!1),N(t.payload.data),_(!0),console.log("Success")})).catch((function(e){v("Error deleting link"),console.error("Error removing document: ",e)}));break;default:return e}}),{}),L=Object(c.a)(I,2),z=(L[0],L[1]),A=Object(n.useReducer)((function(e,t){switch(t.type){case Be.UNDO_DELETE_LINK:B.firestore().collection("links").add(w).then((function(){return console.log("Link delete undone")})).catch((function(e){return console.error("Error encountered: ",e)})),u(!1),setTimeout((function(){u(!0),_(!1),v("Link restored")}),500);break;case Be.CLOSE_SNACKBAR:u(!1);break;default:return e}}),{}),F=Object(c.a)(A,2),W=(F[0],F[1]),K=function(e){_(!1),u(!0),v(e),g(!1)},U=function(e,t){var a=Object(n.useState)([]),o=Object(c.a)(a,2),l=o[0],r=o[1];return Object(n.useEffect)((function(){var a=B.firestore().collection("links");return!0===t?a.orderBy("date_added","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(x.a)({link_id:e.id},e.data())}));r(t)})):a.where("folder_id","==",e).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(x.a)({link_id:e.id},e.data())}));r(t)})),function(){return a}}),[e,t]),console.log("Function useDetails() in Folder.js called"),l}(t,l.fetchAll).map((function(e){return o.a.createElement(R.a,{item:!0,key:e.link_id},o.a.createElement(ne,{contentId:e.link_id,title:e.link_title,url:e.link_url,img:e.link_img,folder:e.folder_id,date_added:e.date_added,dispatch:z}))})),q=function(){var e=Object(n.useState)({width:void 0,height:void 0}),t=Object(c.a)(e,2),a=t[0],o=t[1];return Object(n.useEffect)((function(){function e(){o({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),a}();return o.a.createElement(o.a.Fragment,null,void 0===l.showHeader?o.a.createElement(D.a,{className:r.folderNameHeader},o.a.createElement(y.a,{variant:"h6",gutterBottom:!0},a)):"",o.a.createElement("div",{className:r.root},o.a.createElement(H.a,{monitorImagesLoaded:!0,columnWidth:q.width<=320?q.width-16:160,gutterWidth:8,gutterHeight:8},U),o.a.createElement(Te,{dispatch:W,open:d,message:h,undoButton:j})),o.a.createElement(we,{mode:"link",onAdd:K,defaultFolder:t}),o.a.createElement(Le,Object.assign({mode:"link",onAdd:K,onClose:g,edit:p},w)))},De=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(L,{title:"Link library",onToggleTheme:e.onToggleTheme}),o.a.createElement(Re,{id:"3ppmoaOw6ANJk10oWmhh",fetchAll:!0,showHeader:!1}))},Fe=a(591),He=a(649),We=a(659),Ke=a(650),Ue=a(277),qe=a(645),Pe=a(273),Me=a.n(Pe),Ge=a(272),$e=a.n(Ge),Ye=a(122),Je=(a(589),Object(u.a)((function(e){return{root:{flexGrow:1,width:"calc(100vw - ".concat(e.spacing(4),"px)"),margin:e.spacing(9,2,18,2),zIndex:0},title:{margin:e.spacing(4,0,2)},bottomAppBar:{top:"auto",bottom:0},avatar:{backgroundColor:e.palette.secondary.main},folderIcon:{color:e.palette.primary.main},swipeRightContainer:{display:"flex",alignItems:"center",height:"100%",width:"100%",background:"#ef5350",justifyContent:"flex-start"},swipeRightAction:{display:"flex",alignItems:"center",color:"#fff",alignContent:"flex-start"},swipeIcon:{margin:e.spacing(0,1)},swipeLeftContainer:{display:"flex",alignItems:"center",height:"100%",width:"100%",background:"#1976d2",justifyContent:"flex-end"},swipeLeftAction:{display:"flex",alignItems:"center",color:"#fff",alignContent:"flex-end"},snackBar:{position:"fixed",bottom:e.spacing(18)},listItem:{background:e.palette.background.paper}}}))),Ve=o.a.forwardRef((function(e,t){return o.a.createElement(be.a,Object.assign({direction:"left",ref:t},e))}));var Xe=function(e){var t=Object(n.useState)(!1),a=Object(c.a)(t,2),l=a[0],r=a[1],i=Object(n.useState)(!1),s=Object(c.a)(i,2),d=s[0],u=s[1],m=Object(n.useState)(""),p=Object(c.a)(m,2),g=p[0],b=p[1],E=Object(n.useState)(!1),h=Object(c.a)(E,2),v=h[0],O=h[1],_=Object(n.useState)(""),C=Object(c.a)(_,2),S=C[0],w=C[1],I=Object(n.useState)(""),T=Object(c.a)(I,2),z=T[0],A=T[1],D=Object(n.useState)(""),F=Object(c.a)(D,2),W=F[0],K=F[1],U=Object(n.useState)(!1),q=Object(c.a)(U,2),P=q[0],M=q[1],$=Je(),J=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],o=t[1];return Object(n.useEffect)((function(){var e=B.firestore().collection("collections").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(x.a)({folder_id:e.id},e.data())}));o(t)}));return function(){return e()}}),[]),a}(),V=function(e,t){"clickaway"!==t&&(r(!1),u(!1))},X=function(e,t){w(e),A(t),r(!0)},Z=function(e,t,a){w(e),A(t),K(a),function(e){B.firestore().collection("collections").doc(e).delete().then((function(){return console.log("Collection successfully deleted")})).catch((function(e){return console.error("Error removing document: ",e)}))}(e),O(!0),M(!1),b("Collection successfully deleted"),u(!0)},Q=J.map((function(e){return o.a.createElement(R.a,{item:!0,key:e.folder_id},o.a.createElement(Ye.SwipeableListItem,{swipeLeft:{content:o.a.createElement("div",{className:$.swipeLeftContainer},o.a.createElement("div",{className:$.swipeLeftAction},o.a.createElement(y.a,{variant:"subtitle2"},"Edit"),o.a.createElement(Y.a,{fontSize:"large",className:$.swipeIcon}))),action:function(){return t=e.folder_id,a=e.folder_name,n=e.folder_desc,w(t),A(a),K(n),void M(!0);var t,a,n},actionAnimation:Ye.ActionAnimations.RETURN},swipeRight:{content:o.a.createElement("div",{className:$.swipeRightContainer},o.a.createElement("div",{className:$.swipeRightAction},o.a.createElement(G.a,{fontSize:"large",className:$.swipeIcon}),o.a.createElement(y.a,{variant:"subtitle2"},"Delete"))),action:function(){return Z(e.folder_id,e.folder_name,e.folder_desc)},actionAnimation:Ye.ActionAnimations.REMOVE},blockSwipe:void 0!==e.editable},o.a.createElement(Fe.a,{className:$.listItem,onClick:function(){return X(e.folder_id,e.folder_name)}},o.a.createElement(He.a,null,o.a.createElement(We.a,{className:$.avatar},o.a.createElement(f.a,{className:$.folderIcon}))),o.a.createElement(Ke.a,{primary:o.a.createElement(y.a,{variant:"subtitle1"},e.folder_name),secondary:e.folder_desc}))))}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(L,{title:"Collection",onToggleTheme:e.onToggleTheme}),o.a.createElement("div",{className:$.root},o.a.createElement(Ue.a,{variant:"outlined",style:{borderRadius:8}},o.a.createElement(qe.a,null,o.a.createElement(H.a,{columnWidth:"100%",gutterWidth:8,gutterHeight:0},Q))),o.a.createElement(re.a,{fullScreen:!0,open:l,TransitionComponent:Ve},o.a.createElement(Re,{id:S,name:z}),o.a.createElement(k.a,{position:"fixed",color:"secondary",className:$.bottomAppBar},o.a.createElement(j.a,null,o.a.createElement(N.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:V},o.a.createElement($e.a,null)),o.a.createElement(N.a,{color:"inherit"},o.a.createElement(Me.a,null)),o.a.createElement(N.a,{edge:"end",color:"inherit"},o.a.createElement(ee.a,null)))))),o.a.createElement(se.a,{className:$.snackBar,anchorOrigin:{vertical:"bottom",horizontal:"left"},open:d,onClose:V,autoHideDuration:5e3,message:g,action:o.a.createElement(o.a.Fragment,null,v?o.a.createElement(oe.a,{color:"secondary","aria-label":"undo-delete",onClick:function(){u(!1),O(!1),B.firestore().collection("collections").doc(S).set({folder_name:z,folder_desc:W}).then((function(){console.log("Collection restored"),setTimeout((function(){u(!0),b("Collection restored")}),300)})).catch((function(e){console.error("Error restoring collection: ",e)}))}},"Undo"):"",o.a.createElement(N.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){u(!1)}},o.a.createElement(_e.a,{fontSize:"small"})))}),o.a.createElement(we,{mode:"collection",onAdd:function(e){O(!1),b(e),console.log({message:e}),u(!0)}}),o.a.createElement(Le,{mode:"collection",edit:P,onClose:M,onUpdate:function(e){b(e),console.log({message:e}),u(!0),M(!1)},collection_id:S,folder_name:z,folder_desc:W}))},Ze=a(651),Qe=a(652),et=Object(u.a)((function(e){return{gridListHolder:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden"},gridList:{flexWrap:"nowrap",padding:e.spacing(0,2,1,2)},discoverHeader:{padding:e.spacing(0,2)},containerWrapper:{margin:e.spacing(2,0)}}})),tt=function(e){var t=e.title,a=e.query,l=et(),r=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),o=t[0],l=t[1];return Object(n.useEffect)((function(){var e=he.a.get("http://newsapi.org/v2/"+a+"&apiKey=28bc2e36c58a4e4cbe1cc35c93fd54fa").then((function(e){l(e.data.articles)})).catch((function(e){console.log({err:e})}));return function(){return e}}),[]),o}().map((function(e){return o.a.createElement(Ze.a,{key:e.url},o.a.createElement(ne,{title:e.title,url:e.url,img:e.urlToImage}))}));return o.a.createElement("div",{className:l.containerWrapper},o.a.createElement("div",{className:l.discoverHeader},o.a.createElement(y.a,{variant:"h6",gutterBottom:!0},t)),o.a.createElement("div",{className:l.gridListHolder},o.a.createElement(Qe.a,{className:l.gridList,cols:1.5,cellHeight:"auto",spacing:8},r)))},at=Object(u.a)((function(e){return{root:{width:"100%",margin:e.spacing(9,0)},gridListHolder:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden"},gridList:{flexWrap:"nowrap",padding:e.spacing(0,1)}}})),nt=function(e){var t=at();return o.a.createElement(o.a.Fragment,null,o.a.createElement(L,{title:"Discover",onToggleTheme:e.onToggleTheme}),o.a.createElement("div",{className:t.root},o.a.createElement(tt,{title:"Philippines Headlines",query:"everything?domains=rappler.com,philstar.com,abs-cbn.com,bworldonline.com,interaksyon.com&pageSize=30"}),o.a.createElement(tt,{title:"World Headlines",query:"top-headlines?sources=al-jazeera-english,bbc-news,cnn,associated-press,reuters,time&pageSize=30"}),o.a.createElement(tt,{title:"Coronavirus update",query:"everything?q=covid-19+coronavirus"}),o.a.createElement(tt,{title:"News analysis and opinion",query:"top-headlines?sources=politico,axios,vice-news"}),o.a.createElement(tt,{title:"Science and Technology",query:"top-headlines?sources=engadget,hacker-news,the-verge,techradar,techcrunch,recode,national-geographic,ign,new-scientist&pageSize=30"}),o.a.createElement(tt,{title:"Culture and entertainment",query:"top-headlines?sources=buzzfeed,mashable,mtv-news"})))},ot=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(nt,null))},lt=a(163),rt=a(653),ct=a(274),it=Object(ct.a)({palette:{background:{default:"#dadada"},primary:{light:"#e0e0e0",main:"#37474f",dark:"#102027",contrastText:"#fff"},secondary:{light:"#ffffa6",main:"#dce775",dark:"#a8b545",contrastText:"#000"}},typography:{fontSize:12,subtitle1:{fontWeight:700,color:"#37474f"},h5:{fontWeight:900,letterSpacing:"0.04rem"},h6:{fontWeight:900,color:"#37474f",letterSpacing:"0.03rem",textTransform:"uppercase"}},overrides:{MuiBottomNavigationAction:{root:{color:"#62727b","&$selected":{color:"#dce775"}}}}}),st=Object(ct.a)({palette:{background:{default:"#424242",paper:"#333"},primary:{light:"#484848",main:"#212121",dark:"#000000",contrastText:"#fff"},secondary:{light:"#ffffa6",main:"#dce775",dark:"#a8b545",contrastText:"#000"}},typography:{fontSize:12,subtitle1:{fontWeight:700,color:"#fff"},overline:{color:"#fff8"},caption:{color:"#fff8"},h5:{fontWeight:900,letterSpacing:"0.04rem"},h6:{fontWeight:900,color:"#fff",letterSpacing:"0.03rem",textTransform:"uppercase"}},overrides:{MuiBottomNavigationAction:{root:{color:"#616161","&$selected":{color:"#dce775"}}},MuiIconButton:{colorPrimary:{color:"#fff"}},MuiListItemText:{secondary:{color:"#ff8"}},MuiOutlinedInput:{root:{color:"#fff","& $notchedOutline":{borderColor:"#ff8"},"&$focused $notchedOutline":{borderColor:"#dce775",borderWidth:2}}},MuiFormLabel:{root:{color:"#fff8","&$focused":{color:"#dce775"}}},MuiMenuItem:{root:{color:"#fff"}}}});var dt=function(){var e=Object(n.useState)(""),t=Object(c.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)(!1),s=Object(c.a)(r,2),d=s[0],u=s[1],m=function(){u(!d)};return o.a.createElement(rt.a,{theme:d?st:it},o.a.createElement(i.a,null),o.a.createElement(lt.a,{basename:"/link-library"},o.a.createElement(h.c,null,o.a.createElement(h.a,{exact:!0,path:"/"},o.a.createElement(De,{onToggleTheme:m})),o.a.createElement(h.a,{path:"/discover"},o.a.createElement(nt,{onToggleTheme:m})),o.a.createElement(h.a,{path:"/collection"},o.a.createElement(Xe,{onToggleTheme:m})),o.a.createElement(h.a,{path:"/settings"},o.a.createElement(ot,{onToggleTheme:m}))),o.a.createElement(O,{value:a,onChange:l})))};r.a.render(o.a.createElement(dt,null),document.getElementById("root"))}},[[291,1,2]]]);
//# sourceMappingURL=main.9e00c560.chunk.js.map