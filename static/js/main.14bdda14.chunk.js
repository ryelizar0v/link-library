(this["webpackJsonplink-library"]=this["webpackJsonplink-library"]||[]).push([[0],{279:function(e,t,a){e.exports=a(574)},392:function(e,t){},406:function(e,t){},408:function(e,t){},574:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),i=a.n(l),c=a(11),o=a(646),u=a(621),m=a(623),s=a(618),d=a(109),f=a.n(d),g=a(256),p=a.n(g),E=a(257),b=a.n(E),v=a(255),h=a.n(v),k=a(12),w=Object(s.a)((function(e){return{bottomBar:{position:"fixed",bottom:0,background:e.palette.primary.main,margin:0,padding:0,width:"100%",zIndex:100,transition:"transform 0.3s ease-in-out",borderRadius:e.spacing(1,1,0,0)}}}));var O=function(e){var t=w(),a=Object(k.f)(),l=Object(n.useState)(e.value),i=Object(c.a)(l,2),o=i[0],s=i[1];return console.log("WTF"),a.listen((function(e,t){"POP"===t&&s(e.pathname.replace("/",""))})),r.a.createElement(u.a,{value:o,onChange:function(t,n){a.push("/".concat(n)),s(n),e.onChange(n)},className:t.bottomBar},r.a.createElement(m.a,{label:"Home",value:"",icon:r.a.createElement(h.a,null)}),r.a.createElement(m.a,{label:"Favorites",value:"favorites",icon:r.a.createElement(p.a,null)}),r.a.createElement(m.a,{label:"Collection",value:"collection",icon:r.a.createElement(f.a,null)}),r.a.createElement(m.a,{label:"Settings",value:"settings",icon:r.a.createElement(b.a,null)}))},j=a(39),y=a(639),S=a(53),_=a.n(S),x=a(624),C=a(625),I=a(626),z=a(627),N=a(79),L=a(628),B=a(110),T=a.n(B),F=a(155),R=a.n(F),W=a(629),A=a(159),H=a.n(A);a(350);H.a.initializeApp({apiKey:"AIzaSyBaF7HPX0cehZsg5R1uaPwn-g-c8lO35Tk",authDomain:"link-library-5cfc6.firebaseapp.com",databaseURL:"https://link-library-5cfc6.firebaseio.com",projectId:"link-library-5cfc6",storageBucket:"link-library-5cfc6.appspot.com",messagingSenderId:"405205691939",appId:"1:405205691939:web:a040686ea827173f210b96",measurementId:"G-3J7Y752GEE"});var G=H.a,D=Object(s.a)((function(e){return{cardContainer:{background:e.palette.background.paper,width:"100%"},cardContent:{lineHeight:1.25,textOverflow:"ellipsis",overflow:"hidden"}}}));var P=function(e){var t=D(),a=function(e){var t=e.match(/^https?:\/\/(www.)?([^/?#]+)(?:[/?#]|$)/i);return t&&t[2]}(e.url);return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{variant:"outlined",className:t.cardContainer},r.a.createElement(C.a,null,""!==e.img?r.a.createElement(I.a,{component:"img",alt:"Image",image:e.img,title:"cat"}):"",r.a.createElement(z.a,null,r.a.createElement(N.a,{variant:"overline"},a),r.a.createElement(N.a,{className:t.cardContent,variant:"subtitle1",gutterBottom:!0},e.title),r.a.createElement(N.a,{noWrap:!0,className:t.cardContent,variant:"caption",gutterBottom:!0},e.url))),r.a.createElement(L.a,null,r.a.createElement(W.a,{size:"small",color:"primary"},r.a.createElement(R.a,null)),r.a.createElement(W.a,{size:"small",color:"primary",onClick:function(t){return a=e.contentId,void G.firestore().collection("links").doc(a).delete().then((function(){return console.log("Success")})).catch((function(e){return console.error("Error removing document: ",e)}));var a}},r.a.createElement(T.a,null)))))},J=a(630),U=a(631),q=a(258),$=a.n(q),K=Object(s.a)((function(e){return{menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,display:"flex",flexDirection:"column",alignItems:"flex-start",textTransform:"uppercase"}}}));var M=function(e){var t=K();return r.a.createElement(J.a,{position:"fixed",style:{zIndex:1e4}},r.a.createElement(U.a,null,r.a.createElement($.a,{style:{marginRight:8}}),r.a.createElement("div",{className:t.title},r.a.createElement(N.a,{variant:"h6"},e.title))))},X=a(638),Y=a(647),Z=a(649),Q=a(637),V=a(634),ee=a(633),te=a(632),ae=a(156),ne=a.n(ae),re=a(636),le=a(259),ie=a.n(le),ce=a(260),oe=a.n(ce),ue=Object(s.a)((function(e){return{fabAdd:{position:"fixed",bottom:e.spacing(8),right:e.spacing(2),zIndex:1e3},formInput:{width:"100%",margin:"".concat(e.spacing(1),"px 0")}}}));function me(e){var t=ue(),a=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){var e=G.firestore().collection("collections").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(j.a)({folder_id:e.id},e.data())}));r(t)}));return function(){return e()}}),[]),a}(),l=Object(n.useState)(!1),i=Object(c.a)(l,2),o=i[0],u=i[1];console.log(a);var m=function(){u(!1)},s=Object(n.useState)(""),d=Object(c.a)(s,2),f=d[0],g=d[1],p=Object(n.useState)(""),E=Object(c.a)(p,2),b=E[0],v=E[1],h=Object(n.useState)(""),k=Object(c.a)(h,2),w=k[0],O=k[1],y=Object(n.useState)(""),S=Object(c.a)(y,2),_=S[0],x=S[1],C=Object(n.useState)(""),I=Object(c.a)(C,2),z=I[0],N=I[1];return r.a.createElement("div",null,r.a.createElement(te.a,{color:"primary","aria-label":"add",className:t.fabAdd,onClick:function(){u(!0)}},r.a.createElement(ne.a,null)),r.a.createElement(Z.a,{open:o,onClose:m,"aria-labelledby":"form-dialog-title"},r.a.createElement("form",{onSubmit:function(t){switch(t.preventDefault(),e.mode){case"collection":G.firestore().collection("collections").add({folder_name:_,folder_desc:z});break;default:ie.a.get("https://cors-anywhere.herokuapp.com/"+w).then((function(e){console.log(e.data);var t=oe.a.load(e.data),a=t("meta[property='og:image']").attr("content");void 0===a&&(a=t("meta[property='twitter:image']").attr("content")),void 0===a&&t("img").each((function(e,t){/^https:\/\//.test(t.attribs.src)&&(a=t.attribs.src)})),void 0===a&&(a=""),G.firestore().collection("links").add({link_title:t("title")[0].children[0].data,link_url:w,folder_id:f,link_img:a}).then((function(){return alert("Link successfully added")})).catch((function(e){return console.error("Error adding to database: ",e)}))}))}g("0"),v(""),O(""),x(""),N(""),u(!1)}},r.a.createElement(ee.a,{id:"form-dialog-title"},"Add new ","collection"===e.mode?e.mode:"link"),r.a.createElement(V.a,null,"collection"===e.mode?r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{required:!0,className:t.formInput,id:"collection-name",label:"Collection name",variant:"outlined",value:_,onChange:function(e){x(e.target.value)},size:"small"}),r.a.createElement(Y.a,{multiline:!0,className:t.formInput,id:"collection-desc",label:"Collection description",variant:"outlined",value:z,onChange:function(e){N(e.target.value)},size:"small"})):r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{multiline:!0,className:t.formInput,id:"link-title",label:"Link title",variant:"outlined",value:b,onChange:function(e){v(e.target.value)},size:"small",helperText:"Type your own title"}),r.a.createElement(Y.a,{required:!0,type:"url",className:t.formInput,id:"link-url",label:"Link URL",variant:"outlined",size:"small",value:w,onChange:function(e){O(e.target.value)},helperText:"URL must start with http:// or https://"}),r.a.createElement(Y.a,{className:t.formInput,id:"link-in-folder-id",select:!0,label:"Collection",value:f,onChange:function(e){g(e.target.value)},variant:"outlined",size:"small"},a.map((function(e){return r.a.createElement(re.a,{key:e.folder_id,value:e.folder_id},e.folder_name)}))))),r.a.createElement(Q.a,null,r.a.createElement(X.a,{type:"submit",color:"primary"},"Save"),r.a.createElement(X.a,{onClick:m,color:"primary"},"Cancel")))))}var se=Object(s.a)((function(e){return{root:{flexGrow:1,width:"calc(100vw - ".concat(e.spacing(2),"px)"),marginLeft:e.spacing(1),marginRight:e.spacing(1),marginTop:e.spacing(9),marginBottom:e.spacing(16)}}}));var de=function(){var e=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){var e=G.firestore().collection("links").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(j.a)({link_id:e.id},e.data())}));r(t)}));return function(){return e()}}),[]),a}(),t=se(),a=e.map((function(e){return r.a.createElement(y.a,{item:!0,key:e.link_id},r.a.createElement(P,{contentId:e.link_id,title:e.link_title,url:e.link_url,img:e.link_img}))})),l=function(){var e=Object(n.useState)({width:void 0,height:void 0}),t=Object(c.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){function e(){r({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),a}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(M,{title:"Link library"}),r.a.createElement("div",{className:t.root},r.a.createElement(_.a,{monitorImagesLoaded:!0,columnWidth:l.width<321?"100%":l.width<426?"50%":l.width<769?"33.3333333%":l.width<1025?"25%":"20%",gutterWidth:8,gutterHeight:8},a)),r.a.createElement(me,{mode:"link"}))},fe=a(635),ge=a(575),pe=a(642),Ee=a(644),be=a(643),ve=a(650);var he=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(M,{title:"Favorites"}))},ke=a(640),we=Object(s.a)((function(e){return{root:{flexGrow:1,width:"calc(100vw - ".concat(e.spacing(2),"px)"),marginLeft:e.spacing(1),marginRight:e.spacing(1),marginTop:e.spacing(8),marginBottom:e.spacing(16)},folderNameHeader:{background:e.palette.background.paper,position:"sticky",top:e.spacing(7),zIndex:5,paddingTop:e.spacing(2)}}}));var Oe=function(e){var t=e.id,a=e.name,l=function(e){var t=Object(n.useState)([]),a=Object(c.a)(t,2),r=a[0],l=a[1];return console.log("useDetails: ",e),Object(n.useEffect)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;G.firestore().collection("links").where("folder_id","==",t).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(j.a)({link_id:e.id},e.data())}));l(t)}))}),[]),console.log("useDetails: ",r),r}(t),i=we();console.log("Folder: ",l);var o=l.map((function(e){return r.a.createElement(y.a,{item:!0,key:e.link_id},r.a.createElement(P,{contentId:e.link_id,title:e.link_title,url:e.link_url,img:e.link_img}))})),u=function(){var e=Object(n.useState)({width:void 0,height:void 0}),t=Object(c.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){function e(){r({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),a}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(ke.a,{className:i.folderNameHeader},r.a.createElement(N.a,{variant:"h5",gutterBottom:!0},a)),r.a.createElement("div",{className:i.root},r.a.createElement(_.a,{monitorImagesLoaded:!0,columnWidth:u.width<321?"100%":u.width<426?"50%":u.width<769?"33.3333333%":u.width<1025?"25%":"20%"},o)))},je=a(641),ye=a(262),Se=a.n(ye),_e=a(263),xe=a.n(_e),Ce=a(261),Ie=a.n(Ce),ze=a(267),Ne=Object(s.a)((function(e){return{root:{flexGrow:1,width:"calc(100vw - ".concat(e.spacing(2),"px)"),marginLeft:e.spacing(1),marginRight:e.spacing(1),marginTop:e.spacing(9),marginBottom:e.spacing(16),zIndex:0},title:{margin:e.spacing(4,0,2)},bottomAppBar:{top:"auto",bottom:0}}})),Le=n.forwardRef((function(e,t){return n.createElement(je.a,Object.assign({direction:"left",ref:t},e))}));function Be(){var e=n.useState(!1),t=Object(c.a)(e,2),a=t[0],r=t[1],l=function(e,t){m(e),p(t),console.log(u),r(!0)},i=Object(n.useState)(""),o=Object(c.a)(i,2),u=o[0],m=o[1],s=Object(n.useState)(""),d=Object(c.a)(s,2),g=d[0],p=d[1],E=Ne(),b=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){var e=G.firestore().collection("collections").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(j.a)({folder_id:e.id},e.data())}));r(t)}));return function(){return e()}}),[]),a}().map((function(e){return n.createElement(y.a,{item:!0,key:e.folder_id},n.createElement(ze.a,{variant:"outlined"},n.createElement(ge.a,{button:!0,onClick:function(t){return l(e.folder_id,e.folder_name)}},n.createElement(pe.a,null,n.createElement(ve.a,null,n.createElement(f.a,null))),n.createElement(be.a,{primary:e.folder_name,secondary:e.folder_desc}),n.createElement(Ee.a,null,n.createElement(W.a,{edge:"end","aria-label":"delete",onClick:function(t){return a=e.folder_id,void G.firestore().collection("collections").doc(a).delete().then((function(){return console.log("Success")})).catch((function(e){return console.error("Error removing document: ",e)}));var a}},n.createElement(T.a,null))))))}));return n.createElement(n.Fragment,null,n.createElement(M,{title:"Collection"}),n.createElement("div",{className:E.root},n.createElement(fe.a,null,n.createElement(_.a,{columnWidth:"100%"},b)),n.createElement(Z.a,{fullScreen:!0,open:a,TransitionComponent:Le},n.createElement(Oe,{id:u,name:g}),n.createElement(me,{mode:"link"}),n.createElement(J.a,{position:"fixed",color:"secondary",className:E.bottomAppBar},n.createElement(U.a,null,n.createElement(W.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){r(!1)}},n.createElement(Ie.a,null)),n.createElement(W.a,{color:"inherit"},n.createElement(Se.a,null)),n.createElement(W.a,{edge:"end",color:"inherit"},n.createElement(xe.a,null)))))),n.createElement(me,{mode:"collection"}))}var Te=a(101),Fe=a(264),Re=a(645),We=Object(Fe.a)({palette:{primary:{light:"#e0e0e0",main:"#37474f",dark:"#102027",contrastText:"#fff"},secondary:{light:"#ffdd71",main:"#ffab40",dark:"#c77c02",contrastText:"#000"}},typography:{fontSize:12,subtitle1:{fontWeight:500}},overrides:{MuiBottomNavigationAction:{root:{color:"#62727b","&$selected":{color:"#fff"}},selected:{color:"#fff"}}}});var Ae=function(){var e=Object(n.useState)(""),t=Object(c.a)(e,2),a=t[0],l=t[1];return r.a.createElement(Re.a,{theme:We},r.a.createElement(Te.a,{basename:"/link-library"},r.a.createElement(o.a,null),r.a.createElement(k.c,null,r.a.createElement(k.a,{exact:!0,path:"/"},r.a.createElement(de,null)),r.a.createElement(k.a,{path:"/favorites"},r.a.createElement(he,null)),r.a.createElement(k.a,{path:"/collection"},r.a.createElement(Be,null)),r.a.createElement(k.a,{path:"/settings"},r.a.createElement(he,null))),r.a.createElement(O,{value:a,onChange:l})))};i.a.render(r.a.createElement(Ae,null),document.getElementById("root"))}},[[279,1,2]]]);
//# sourceMappingURL=main.14bdda14.chunk.js.map