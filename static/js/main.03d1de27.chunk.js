(this["webpackJsonplink-library"]=this["webpackJsonplink-library"]||[]).push([[0],{280:function(e,t,a){e.exports=a(576)},393:function(e,t){},407:function(e,t){},409:function(e,t){},576:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(10),o=a.n(l),c=a(11),i=a(645),m=a(620),s=a(622),u=a(617),d=a(48),f=a.n(d),p=a(255),g=a.n(p),E=a(256),b=a.n(E),v=a(254),h=a.n(v),k=a(12),w=Object(u.a)((function(e){return{bottomBar:{position:"fixed",bottom:0,background:e.palette.primary.main,margin:0,padding:0,width:"100vw",zIndex:100}}}));var O=function(e){var t=w(),a=Object(k.f)(),l=Object(n.useState)(e.value),o=Object(c.a)(l,2),i=o[0],u=o[1];return a.listen((function(e,t){"POP"===t&&u(e.pathname.replace("/",""))})),r.a.createElement(m.a,{value:i,onChange:function(t,n){a.push("/".concat(n)),u(n),e.onChange(n)},className:t.bottomBar},r.a.createElement(s.a,{label:"Home",value:"",icon:r.a.createElement(h.a,null)}),r.a.createElement(s.a,{label:"Collection",value:"collection",icon:r.a.createElement(f.a,null)}),r.a.createElement(s.a,{label:"Favorites",value:"favorites",icon:r.a.createElement(g.a,null)}),r.a.createElement(s.a,{label:"Settings",value:"settings",icon:r.a.createElement(b.a,null)}))},j=a(623),y=a(624),S=a(78),N=a(257),C=a.n(N),I=Object(u.a)((function(e){return{menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,display:"flex",flexDirection:"column",alignItems:"flex-start",textTransform:"uppercase"}}}));var x=function(e){var t=I();return r.a.createElement(j.a,{position:"fixed",style:{zIndex:1e4}},r.a.createElement(y.a,null,r.a.createElement(C.a,{style:{marginRight:8}}),r.a.createElement("div",{className:t.title},r.a.createElement(S.a,{variant:"h5"},e.title))))},_=a(47),F=a(156),z=a.n(F);a(290);z.a.initializeApp({apiKey:"AIzaSyBaF7HPX0cehZsg5R1uaPwn-g-c8lO35Tk",authDomain:"link-library-5cfc6.firebaseapp.com",databaseURL:"https://link-library-5cfc6.firebaseio.com",projectId:"link-library-5cfc6",storageBucket:"link-library-5cfc6.appspot.com",messagingSenderId:"405205691939",appId:"1:405205691939:web:a040686ea827173f210b96",measurementId:"G-3J7Y752GEE"});var L=z.a,B=a(639),R=a(640),A=a(108),W=a.n(A),T=a(625),H=a(626),D=a(627),P=a(628),G=a(629),J=a(109),U=a.n(J),q=a(258),M=a.n(q),$=a(630),K=Object(u.a)((function(e){return{cardContainer:{background:e.palette.background.paper,width:"100%",borderColor:e.palette.primary.light},cardContent:{lineHeight:1.25,textOverflow:"ellipsis"}}}));var X=function(e){var t=K(),a=function(e){var t=e.match(/^https?:\/\/(www.)?([^/?#]+)(?:[/?#]|$)/i);return t&&t[2]}(e.url);return r.a.createElement(T.a,{variant:"outlined",className:t.cardContainer},r.a.createElement(H.a,null,""!==e.img?r.a.createElement(D.a,{component:"img",alt:e.title,image:e.img,title:e.title}):"",r.a.createElement(P.a,null,r.a.createElement(S.a,{variant:"overline"},a),r.a.createElement(S.a,{className:t.cardContent,variant:"subtitle1",gutterBottom:!0},e.title),r.a.createElement(S.a,{noWrap:!0,className:t.cardContent,variant:"caption",gutterBottom:!0},e.url))),r.a.createElement(G.a,null,r.a.createElement($.a,{size:"small",color:"primary"},r.a.createElement(M.a,null)),r.a.createElement($.a,{size:"small",color:"primary",onClick:function(){return t=e.contentId,a=e.onClickDelete,void L.firestore().collection("links").doc(t).delete().then((function(){a("Link successfully deleted"),console.log("Success")})).catch((function(e){a("Error deleting link: ",e),console.error("Error removing document: ",e)}));var t,a}},r.a.createElement(U.a,null))))},Y=a(649),Z=a(265),Q=a.n(Z),V=a(632),ee=a(646),te=a(648),ae=a(635),ne=a(634),re=a(633),le=a(263),oe=a.n(le),ce=a(638),ie=a(264),me=a.n(ie),se=a(631),ue=a(259),de=a.n(ue),fe=a(260),pe=a.n(fe),ge=a(262),Ee=a.n(ge),be=a(261),ve=a.n(be),he=Object(u.a)((function(e){return{fabAdd:{position:"fixed",bottom:e.spacing(9),right:e.spacing(2),zIndex:1e3},formInput:{width:"100%",margin:e.spacing(1,0)},root:{padding:e.spacing(8,0,18,0)},icon:{marginRight:e.spacing(1)},bottomAppBar:{top:"auto",bottom:0}}})),ke=r.a.forwardRef((function(e,t){return r.a.createElement(se.a,Object.assign({direction:"left",ref:t},e))}));function we(e){console.log("FORM DIALOG PROPS: ",e);var t=he(),a=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){var e=L.firestore().collection("collections").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(_.a)({folder_id:e.id},e.data())}));r(t)}));return function(){return e()}}),[]),a}(),l=Object(n.useState)(!1),o=Object(c.a)(l,2),i=o[0],m=o[1],s=function(){H(),m(!1)},u=Object(n.useState)(e.defaultFolder),d=Object(c.a)(u,2),f=d[0],p=d[1],g=Object(n.useState)(""),E=Object(c.a)(g,2),b=E[0],v=E[1],h=Object(n.useState)(""),k=Object(c.a)(h,2),w=k[0],O=k[1],S=Object(n.useState)(""),N=Object(c.a)(S,2),C=N[0],I=N[1],x=Object(n.useState)(""),F=Object(c.a)(x,2),z=F[0],B=F[1],R=Object(n.useState)(""),A=Object(c.a)(R,2),W=A[0],T=A[1];function H(){p("3ppmoaOw6ANJk10oWmhh"),v(""),O(""),B(""),T("")}var D=function(){return r.a.createElement(j.a,{position:"fixed",color:"secondary",className:t.bottomAppBar},r.a.createElement(y.a,null,"link"===e.mode?r.a.createElement(V.a,{className:t.icon,onClick:function(){return e=w,void de.a.get("https://cors-anywhere.herokuapp.com/"+e).then((function(e){console.log(e.data);var t=pe.a.load(e.data),a=t("meta[property='og:title']").attr("content");void 0===a&&(a=t("title")[0].children[0].data),void 0===a&&(a="");var n=t("meta[property='og:image']").attr("content");void 0===n&&(n=t("meta[property='twitter:image']").attr("content")),void 0===n&&t("img").each((function(e,t){/^https:\/\//.test(t.attribs.src)&&(n=t.attribs.src)})),void 0===n&&(n=""),I(n),v(a)}));var e}},r.a.createElement(ve.a,{className:t.icon})," Get details"):"",r.a.createElement(V.a,{onClick:s},r.a.createElement(Ee.a,{className:t.icon})," Cancel")))};return r.a.createElement("div",null,r.a.createElement(re.a,{color:"secondary","aria-label":"add",className:t.fabAdd,onClick:function(){m(!0)}},r.a.createElement(oe.a,null)),r.a.createElement(te.a,{fullScreen:!0,open:i,TransitionComponent:ke,"aria-labelledby":"form-dialog-title"},r.a.createElement("form",{onSubmit:function(t){switch(t.preventDefault(),e.mode){case"collection":L.firestore().collection("collections").add({folder_name:z,folder_desc:W});break;default:L.firestore().collection("links").add({link_title:b,link_url:w,folder_id:f,link_img:C}).then((function(){e.onUpdate("Link successfully added"),console.log("Link successfully added")})).catch((function(t){e.onUpdate("Error adding link: ",t),console.error("Error adding to database: ",t)}))}H(),m(!1)}},r.a.createElement("div",{className:t.root},r.a.createElement(ne.a,{id:"form-dialog-title"},"Add new ","collection"===e.mode?e.mode:"link"),r.a.createElement(ae.a,null,"collection"===e.mode?r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{required:!0,multiline:!0,autoFocus:!0,className:t.formInput,id:"collection-name",label:"Collection name",variant:"outlined",value:z,onChange:function(e){B(e.target.value)},size:"small"}),r.a.createElement(ee.a,{multiline:!0,className:t.formInput,id:"collection-desc",label:"Collection description",variant:"outlined",value:W,onChange:function(e){T(e.target.value)},size:"small"})):r.a.createElement(r.a.Fragment,null,r.a.createElement(ee.a,{multiline:!0,className:t.formInput,id:"link-title",label:"Link title",variant:"outlined",value:b,onChange:function(e){v(e.target.value)},size:"small"}),r.a.createElement(ee.a,{required:!0,multiline:!0,autoFocus:!0,type:"url",className:t.formInput,id:"link-url",label:"Link URL",variant:"outlined",size:"small",value:w,onChange:function(e){O(e.target.value)},helperText:"URL must start with http:// or https://"}),r.a.createElement(ee.a,{className:t.formInput,id:"link-in-folder-id",select:!0,label:"Collection",value:f,onChange:function(e){p(e.target.value)},variant:"outlined",size:"small"},a.map((function(e){return r.a.createElement(ce.a,{key:e.folder_id,value:e.folder_id},e.folder_name)})))))),r.a.createElement(re.a,{color:"secondary","aria-label":"add",className:t.fabAdd,type:"submit",variant:"extended"},r.a.createElement(me.a,{className:t.icon})," Save")),r.a.createElement(D,null)))}var Oe=Object(u.a)((function(e){return{root:{flexGrow:1,width:"calc(100vw - ".concat(e.spacing(2),"px)"),marginLeft:e.spacing(1),marginRight:e.spacing(1),marginTop:e.spacing(8),marginBottom:e.spacing(18)},folderNameHeader:{background:e.palette.background.paper,position:"sticky",top:e.spacing(7),zIndex:5,paddingTop:e.spacing(2)},snackBar:{position:"fixed",bottom:e.spacing(18)}}}));var je=function(e){var t=e.id,a=e.name,l=Object(n.useState)(!1),o=Object(c.a)(l,2),i=o[0],m=o[1],s=Object(n.useState)(""),u=Object(c.a)(s,2),d=u[0],f=u[1],p=function(e){m(!0),f(e)},g=function(e,t){"clickaway"!==t&&m(!1)},E=function(e){var t=Object(n.useState)([]),a=Object(c.a)(t,2),r=a[0],l=a[1];return Object(n.useEffect)((function(){var t=L.firestore().collection("links");return""===e?t.onSnapshot((function(e){var t=e.docs.map((function(e){return Object(_.a)({link_id:e.id},e.data())}));l(t)})):t.where("folder_id","==",e).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(_.a)({link_id:e.id},e.data())}));l(t)})),function(){return t}}),[e]),console.log("Function useDetails() in Folder.js called"),r}(t),b=Oe();console.log("Folder: ",E);var v=E.map((function(e){return r.a.createElement(B.a,{item:!0,key:e.link_id},r.a.createElement(X,{contentId:e.link_id,title:e.link_title,url:e.link_url,img:e.link_img,onClickDelete:p}))})),h=function(){var e=Object(n.useState)({width:void 0,height:void 0}),t=Object(c.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){function e(){r({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),a}();return r.a.createElement(r.a.Fragment,null,"3ppmoaOw6ANJk10oWmhh"!==t?r.a.createElement(R.a,{className:b.folderNameHeader},r.a.createElement(S.a,{variant:"h6",gutterBottom:!0},a)):"",r.a.createElement("div",{className:b.root},r.a.createElement(W.a,{monitorImagesLoaded:!0,columnWidth:h.width<321?"100%":h.width<426?"50%":h.width<769?"33.3333333%":h.width<1025?"25%":"20%",gutterWidth:8,gutterHeight:8},v),r.a.createElement(Y.a,{className:b.snackBar,anchorOrigin:{vertical:"bottom",horizontal:"left"},open:i,autoHideDuration:6e3,onClose:g,message:d,action:r.a.createElement(r.a.Fragment,null,r.a.createElement($.a,{size:"small","aria-label":"close",color:"inherit",onClick:g},r.a.createElement(Q.a,{fontSize:"small"})))})),r.a.createElement(we,{mode:"link",onUpdate:p,defaultFolder:t}))};var ye=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(x,{title:"Link library"}),r.a.createElement(je,{id:"3ppmoaOw6ANJk10oWmhh"}))},Se=a(272),Ne=a(577),Ce=a(641),Ie=a(650),xe=a(642),_e=a(643),Fe=a(637),ze=a(267),Le=a.n(ze),Be=a(268),Re=a.n(Be),Ae=a(266),We=a.n(Ae),Te=a(157),He=(a(575),Object(u.a)((function(e){return{root:{flexGrow:1,width:"calc(100vw - ".concat(e.spacing(2),"px)"),margin:e.spacing(8,1,18,1),zIndex:0},title:{margin:e.spacing(4,0,2)},bottomAppBar:{top:"auto",bottom:0},avatar:{backgroundColor:e.palette.secondary.main},folderIcon:{color:e.palette.primary.main}}}))),De=r.a.forwardRef((function(e,t){return r.a.createElement(se.a,Object.assign({direction:"left",ref:t},e))}));function Pe(){var e=r.a.useState(!1),t=Object(c.a)(e,2),a=t[0],l=t[1],o=function(e,t){u(e),E(t),console.log(s),l(!0)},i=Object(n.useState)(""),m=Object(c.a)(i,2),s=m[0],u=m[1],d=Object(n.useState)(""),p=Object(c.a)(d,2),g=p[0],E=p[1],b=He(),v=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){var e=L.firestore().collection("collections").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(_.a)({folder_id:e.id},e.data())}));r(t)}));return function(){return e()}}),[]),a}().map((function(e){return r.a.createElement(B.a,{item:!0,key:e.folder_id},r.a.createElement(Se.a,{variant:"outlined"},r.a.createElement(Ne.a,{button:!0,onClick:function(){return o(e.folder_id,e.folder_name)}},r.a.createElement(Ce.a,null,r.a.createElement(Ie.a,{className:b.avatar},r.a.createElement(f.a,{className:b.folderIcon}))),r.a.createElement(xe.a,{primary:r.a.createElement(S.a,{variant:"subtitle1"},e.folder_name),secondary:e.folder_desc}),r.a.createElement(_e.a,null,r.a.createElement($.a,{edge:"end","aria-label":"delete",onClick:function(){return t=e.folder_id,void L.firestore().collection("collections").doc(t).delete().then((function(){return console.log("Success")})).catch((function(e){return console.error("Error removing document: ",e)}));var t}},r.a.createElement(U.a,null))))))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(x,{title:"Collection"}),r.a.createElement("div",{className:b.root},r.a.createElement(Te.SwipeableListItem,{swipeLeft:{content:r.a.createElement("div",null,"Revealed content during swipe"),action:function(){return console.info("swipe action triggered")}},swipeRight:{content:r.a.createElement("div",null,"Revealed content during swipe"),action:function(){return console.info("swipe action triggered")}},onSwipeProgress:function(e){return console.info("Swipe progress: ".concat(e,"%"))}},r.a.createElement(Ne.a,{style:{listStyle:"none"}},r.a.createElement(Ce.a,null,r.a.createElement(Ie.a,{className:b.avatar},r.a.createElement(f.a,{className:b.folderIcon}))),r.a.createElement(xe.a,{primary:r.a.createElement(S.a,{variant:"subtitle1"},"Folder name"),secondary:"Folder description"}))),r.a.createElement(Te.SwipeableListItem,{swipeLeft:{content:r.a.createElement(f.a,{className:b.folderIcon}),action:function(){return console.info("swipe action triggered")}},swipeRight:{content:r.a.createElement("div",{style:{background:"red"}},"Revealed content during swipe"),action:function(){return console.info("swipe action triggered")}},onSwipeProgress:function(e){return console.info("Swipe progress: ".concat(e,"%"))}},r.a.createElement(Ne.a,{style:{listStyle:"none"}},r.a.createElement(Ce.a,null,r.a.createElement(Ie.a,{className:b.avatar},r.a.createElement(f.a,{className:b.folderIcon}))),r.a.createElement(xe.a,{primary:r.a.createElement(S.a,{variant:"subtitle1"},"Folder name"),secondary:"Folder description"}))),r.a.createElement(Fe.a,null,r.a.createElement(W.a,{columnWidth:"100%",gutterWidth:8,gutterHeight:-1},v)),r.a.createElement(te.a,{fullScreen:!0,open:a,TransitionComponent:De},r.a.createElement(je,{id:s,name:g}),r.a.createElement(j.a,{position:"fixed",color:"secondary",className:b.bottomAppBar},r.a.createElement(y.a,null,r.a.createElement($.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){l(!1)}},r.a.createElement(We.a,null)),r.a.createElement($.a,{color:"inherit"},r.a.createElement(Le.a,null)),r.a.createElement($.a,{edge:"end",color:"inherit"},r.a.createElement(Re.a,null)))))),r.a.createElement(we,{mode:"collection"}))}var Ge=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(x,{title:"Favorites"}))},Je=a(153),Ue=a(269),qe=a(644),Me=Object(Ue.a)({palette:{primary:{light:"#e0e0e0",main:"#37474f",dark:"#102027",contrastText:"#fff"},secondary:{light:"#ffffa6",main:"#dce775",dark:"#a8b545",contrastText:"#000"}},typography:{fontSize:12,subtitle1:{fontWeight:700,color:"#37474f"},h5:{fontWeight:900,letterSpacing:"0.04rem"},h6:{fontWeight:900,color:"#37474f",letterSpacing:"0.03rem",textTransform:"uppercase"}},overrides:{MuiBottomNavigationAction:{root:{color:"#62727b","&$selected":{color:"#dce775"}}}}});var $e=function(){var e=Object(n.useState)(""),t=Object(c.a)(e,2),a=t[0],l=t[1];return r.a.createElement(qe.a,{theme:Me},r.a.createElement(Je.a,{basename:"/link-library"},r.a.createElement(i.a,null),r.a.createElement(k.c,null,r.a.createElement(k.a,{exact:!0,path:"/"},r.a.createElement(ye,null)),r.a.createElement(k.a,{path:"/favorites"},r.a.createElement(Ge,null)),r.a.createElement(k.a,{path:"/collection"},r.a.createElement(Pe,null)),r.a.createElement(k.a,{path:"/settings"},r.a.createElement(Ge,null))),r.a.createElement(O,{value:a,onChange:l})))};o.a.render(r.a.createElement($e,null),document.getElementById("root"))}},[[280,1,2]]]);
//# sourceMappingURL=main.03d1de27.chunk.js.map