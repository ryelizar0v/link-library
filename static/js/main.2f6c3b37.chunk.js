(this["webpackJsonplink-library"]=this["webpackJsonplink-library"]||[]).push([[0],{290:function(e,t,a){e.exports=a(589)},406:function(e,t){},420:function(e,t){},422:function(e,t){},589:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(12),l=a.n(o),c=a(8),i=a(653),s=a(627),d=a(629),u=a(624),m=a(109),f=a.n(m),p=a(266),g=a.n(p),b=a(265),E=a.n(b),k=a(13),O=Object(u.a)((function(e){return{bottomBar:{position:"fixed",bottom:0,background:e.palette.primary.main,margin:0,padding:0,width:"100vw",zIndex:100}}}));var h=function(e){var t=O(),a=Object(k.f)(),o=Object(n.useState)(e.value),l=Object(c.a)(o,2),i=l[0],u=l[1];return a.listen((function(e,t){"POP"===t&&u(e.pathname.replace("/",""))})),r.a.createElement(s.a,{value:i,onChange:function(t,n){a.push("/".concat(n)),u(n),e.onChange(n)},className:t.bottomBar},r.a.createElement(d.a,{label:"Home",value:"",icon:r.a.createElement(E.a,null)}),r.a.createElement(d.a,{label:"Collection",value:"collection",icon:r.a.createElement(f.a,null)}),r.a.createElement(d.a,{label:"Discover",value:"discover",icon:r.a.createElement(g.a,null)}))},y=a(630),v=a(631),_=a(79),j=a(267),S=a.n(j),D=a(268),L=a.n(D),C=a(632),w=Object(u.a)((function(e){return{menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,display:"flex",flexDirection:"column",alignItems:"flex-start",textTransform:"uppercase"},appBar:{position:"fixed",zIndex:1e4,top:e.spacing(1),width:"calc(100% - ".concat(e.spacing(2),"px)"),left:e.spacing(1),borderRadius:e.spacing(1)}}})),N=function(e){var t=w();return r.a.createElement(y.a,{className:t.appBar},r.a.createElement(v.a,null,r.a.createElement(S.a,{style:{marginRight:8}}),r.a.createElement("div",{className:t.title},r.a.createElement(_.a,{variant:"h5"},e.title)),r.a.createElement(C.a,{style:{padding:0},onClick:e.onToggleTheme},r.a.createElement(L.a,{style:{color:"#fff"}}))))},I=a(35),A=a(6),R=a(166),F=a.n(R);a(300);F.a.initializeApp({apiKey:"AIzaSyBaF7HPX0cehZsg5R1uaPwn-g-c8lO35Tk",authDomain:"link-library-5cfc6.firebaseapp.com",databaseURL:"https://link-library-5cfc6.firebaseio.com",projectId:"link-library-5cfc6",storageBucket:"link-library-5cfc6.appspot.com",messagingSenderId:"405205691939",appId:"1:405205691939:web:a040686ea827173f210b96",measurementId:"G-3J7Y752GEE"});var T=F.a,B=a(641),x=a(651),z=a(110),U=a.n(z),K=a(646),M=a(647),W=a(648),H=a(649),P=a(650),q=a(120),G=a.n(q),V=a(119),$=a.n(V),Y=a(272),J=a.n(Y),Q=a(273),X=a.n(Q),Z=a(121),ee=a.n(Z),te=a(113),ae=a.n(te),ne=a(269),re=a(57),oe=a.n(re),le=a(644),ce=a(645),ie=a(634),se=a(654),de=a(656),ue=a(637),me=a(636),fe=a(635),pe=a(640),ge=a(117),be=a.n(ge),Ee=a(633),ke=a(111),Oe=a.n(ke),he=a(112),ye=a.n(he),ve=a(590),_e=a(642),je=a(658),Se=a(643),De=a(277),Le=a(639),Ce=a(271),we=a.n(Ce),Ne=a(270),Ie=a.n(Ne),Ae=a(657),Re=a(118),Fe=a.n(Re),Te=Object(u.a)((function(e){return{fabAdd:{position:"fixed",bottom:e.spacing(9),right:e.spacing(2),zIndex:1e3},formInput:{width:"100%",margin:e.spacing(1,0)},root:{padding:e.spacing(8,0,18,0),background:e.palette.background.paper},icon:{marginRight:e.spacing(1)},bottomAppBar:{top:"auto",bottom:0},snackBar:{position:"fixed",bottom:e.spacing(18)}}})),Be=r.a.forwardRef((function(e,t){return r.a.createElement(Ee.a,Object.assign({direction:"left",ref:t},e))}));var xe=function(e){var t=e.dispatch,a=Object(I.a)(e,["dispatch"]),o=Te(),l=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){var e=T.firestore().collection("collections").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(A.a)({folder_id:e.id},e.data())}));r(t)}));return function(){return e()}}),[]),a}(),i=Object(n.useState)(!1),s=Object(c.a)(i,2),d=s[0],u=s[1],m=Object(n.useState)(!1),f=Object(c.a)(m,2),p=f[0],g=f[1],b=Object(n.useState)(""),E=Object(c.a)(b,2),k=E[0],O=E[1],h=Object(n.useState)(""),_=Object(c.a)(h,2),j=_[0],S=_[1],D=Object(n.useState)(""),L=Object(c.a)(D,2),w=L[0],N=L[1],R=Object(n.useState)(a.defaultFolder),F=Object(c.a)(R,2),B=F[0],x=F[1],z=Object(n.useState)(""),U=Object(c.a)(z,2),K=U[0],M=U[1],W=Object(n.useState)(""),H=Object(c.a)(W,2),P=H[0],q=H[1],G=Object(n.useState)(""),V=Object(c.a)(G,2),$=V[0],Y=V[1],J=function(){X(),g(!1),u(!1)},Q=function(){g(!1)};function X(){x(a.defaultFolder),M(""),q(""),S(""),N("")}var Z=function(e){oe.a.get("https://cors-anywhere.herokuapp.com/"+e).then((function(e){console.log(e.data);var t=Oe.a.load(e.data),a=t("meta[property='og:title']").attr("content");void 0===a&&(a=t("title")[0].children[0].data),void 0===a&&(a="");var n=t("meta[property='og:image']").attr("content");void 0===n&&(n=t("meta[property='twitter:image']").attr("content")),void 0===n&&t("img").each((function(e,t){/^https:\/\//.test(t.attribs.src)&&(n=t.attribs.src)})),void 0===n&&(n=""),Y(n),M(a),g(!1)})).catch((function(e){console.log("THIS IS ERROR: ",e),O("Link invalid or not found")}))},ee=function(){return r.a.createElement(y.a,{position:"fixed",color:"secondary",className:o.bottomAppBar},r.a.createElement(v.a,null,r.a.createElement(ie.a,{onClick:J},r.a.createElement(ye.a,{className:o.icon})," Cancel")))};return r.a.createElement("div",null,r.a.createElement(fe.a,{color:"secondary","aria-label":"add",className:o.fabAdd,onClick:function(){return u(!0)}},r.a.createElement(ae.a,null)),r.a.createElement(de.a,{fullScreen:!0,open:d,TransitionComponent:Be,"aria-labelledby":"form-dialog-title"},r.a.createElement("form",{onSubmit:function(e){switch(e.preventDefault(),a.mode){case"collection":T.firestore().collection("collections").add({folder_name:j,folder_desc:w}).then((function(){t({type:He.ADD_FOLDER,payload:{message:"Collection successfully created"}}),console.log("Collection successfully added")})).catch((function(e){t({type:He.ADD_FOLDER,payload:{message:"Error creating collection"}}),console.error("Error adding collection: ",e)}));break;default:T.firestore().collection("links").add({link_title:K,link_url:P,folder_id:B,link_img:$,date_added:new Date}).then((function(){t({type:lt.ADD_LINK,payload:{message:"Link successfully added"}}),console.log("Link successfully added")})).catch((function(e){t({type:lt.ADD_LINK,payload:{message:"Error adding link"}}),console.error("Error adding to database: ",e)}))}X(),u(!1)}},r.a.createElement("div",{className:o.root},r.a.createElement(me.a,{id:"form-dialog-title"},"Add new ","collection"===a.mode?a.mode:"link"),r.a.createElement(ue.a,null,"collection"===a.mode?r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{required:!0,multiline:!0,autoFocus:!0,className:o.formInput,id:"collection-name",label:"Collection name",variant:"outlined",value:j,onChange:function(e){return S(e.target.value)},size:"small"}),r.a.createElement(se.a,{multiline:!0,className:o.formInput,id:"collection-desc",label:"Collection description",variant:"outlined",value:w,onChange:function(e){return N(e.target.value)},size:"small"})):r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{multiline:!0,className:o.formInput,id:"link-title",label:"Link title",variant:"outlined",value:K,onChange:function(e){return M(e.target.value)},size:"small"}),r.a.createElement(se.a,{required:!0,multiline:!0,autoFocus:!0,type:"url",className:o.formInput,id:"link-url",label:"Link URL",variant:"outlined",size:"small",value:P,onChange:function(e){q(e.target.value),g(!0),O("Getting link details..."),Z(void 0!==e.target.value?e.target.value:"")}}),r.a.createElement(se.a,{className:o.formInput,id:"link-in-folder-id",select:!0,label:"Collection",value:B,onChange:function(e){return x(e.target.value)},variant:"outlined",size:"small"},l.map((function(e){return r.a.createElement(pe.a,{key:e.folder_id,value:e.folder_id},e.folder_name)})))))),r.a.createElement(fe.a,{color:"secondary","aria-label":"add",className:o.fabAdd,type:"submit",variant:"extended"},r.a.createElement(be.a,{className:o.icon})," Save")),r.a.createElement(Ae.a,{className:o.snackBar,anchorOrigin:{vertical:"bottom",horizontal:"left"},open:p,autoHideDuration:5e3,onClose:Q,message:k,action:r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{size:"small","aria-label":"close",color:"inherit",onClick:Q},r.a.createElement(Fe.a,{fontSize:"small"})))}),r.a.createElement(ee,null)))},ze=a(122),Ue=(a(588),Object(u.a)((function(e){return{snackBar:{position:"fixed",bottom:e.spacing(18)}}}))),Ke=function(e){var t=e.dispatch,a=Object(I.a)(e,["dispatch"]),o=Ue(),l=Object(n.useState)(a.open),i=Object(c.a)(l,2),s=i[0],d=i[1],u=Object(n.useState)(a.message),m=Object(c.a)(u,2),f=m[0],p=m[1],g=Object(n.useState)(a.undoButton),b=Object(c.a)(g,2),E=b[0],k=b[1];return Object(n.useEffect)((function(){d(a.open),p(a.message),k(a.undoButton)}),[a.open,a.message,a.undoButton]),r.a.createElement(Ae.a,{className:o.snackBar,anchorOrigin:{vertical:"bottom",horizontal:"left"},open:s,autoHideDuration:5e3,onClose:function(){return t({type:lt.CLOSE_SNACKBAR})},message:f,action:r.a.createElement(r.a.Fragment,null,E?r.a.createElement(ie.a,{color:"inherit","aria-label":"undo-delete-link",onClick:function(){return t({type:lt.UNDO_DELETE})}},"Undo"):"",r.a.createElement(C.a,{size:"small","aria-label":"close-snackbar",color:"inherit",onClick:function(){return t({type:lt.CLOSE_SNACKBAR})}},r.a.createElement(Fe.a,{fontSize:"small"})))})},Me=Object(u.a)((function(e){return{root:{flexGrow:1,width:"calc(100vw - ".concat(e.spacing(4),"px)"),margin:e.spacing(10,2,18,2),zIndex:0},title:{margin:e.spacing(4,0,2)},bottomAppBar:{top:"auto",bottom:0},avatar:{backgroundColor:e.palette.secondary.main},folderIcon:{color:e.palette.primary.main},swipeRightContainer:{display:"flex",alignItems:"center",height:"100%",width:"100%",background:"#ef5350",justifyContent:"flex-start"},swipeRightAction:{display:"flex",alignItems:"center",color:"#fff",alignContent:"flex-start"},swipeIcon:{margin:e.spacing(0,1)},swipeLeftContainer:{display:"flex",alignItems:"center",height:"100%",width:"100%",background:"#1976d2",justifyContent:"flex-end"},swipeLeftAction:{display:"flex",alignItems:"center",color:"#fff",alignContent:"flex-end"},snackBar:{position:"fixed",bottom:e.spacing(18)},listItem:{background:e.palette.background.paper}}})),We=r.a.forwardRef((function(e,t){return r.a.createElement(Ee.a,Object.assign({direction:"left",ref:t},e))})),He={EDIT_FOLDER:"edit-folder",OPEN_FOLDER:"open-folder",DELETE_FOLDER:"delete-folder",ADD_FOLDER:"add-folder",CLOSE_FOLDER:"close-folder",SAVE_UPDATED_FOLDER:"save-updated-folder"},Pe=function(e,t){switch(t.type){case He.EDIT_FOLDER:return Object(A.a)(Object(A.a)({},e),{},{showForm:!0,folderData:t.payload.data});case He.OPEN_FOLDER:return Object(A.a)(Object(A.a)({},e),{},{folderData:t.payload.data,openFolder:!0});case He.SAVE_UPDATED_FOLDER:return Object(A.a)(Object(A.a)({},e),{},{openSnackbar:!0,snackbarMessage:t.payload.message,snackbarUndoButton:!1});case He.DELETE_FOLDER:return T.firestore().collection("collections").doc(t.payload.data.folder_id).delete().then((function(){return console.log("Collection successfully deleted")})).catch((function(e){return console.error("Error removing document: ",e)})),Object(A.a)(Object(A.a)({},e),{},{folderData:t.payload.data,openSnackbar:!0,snackbarMessage:"Collection successfully deleted",snackbarUndoButton:!0});case He.ADD_FOLDER:return Object(A.a)(Object(A.a)({},e),{},{openSnackbar:!0,snackbarUndoButton:!1,snackbarMessage:t.payload.message});case He.CLOSE_FOLDER:return Object(A.a)(Object(A.a)({},e),{},{openFolder:!1});case lt.UNDO_DELETE:return T.firestore().collection("collections").doc(e.folderData.folder_id).set({folder_name:e.folderData.folder_name,folder_desc:e.folderData.folder_desc}).then((function(){console.log("Collection restored")})).catch((function(e){console.error("Error restoring collection: ",e)})),Object(A.a)(Object(A.a)({},e),{},{openSnackbar:!0,snackbarUndoButton:!1,snackbarMessage:"Collection restored"});case lt.CLOSE_SNACKBAR:return Object(A.a)(Object(A.a)({},e),{},{openFolder:!1,openSnackbar:!1});case lt.CLOSE_EDIT_FORM:return Object(A.a)(Object(A.a)({},e),{},{showForm:!1});default:return e}},qe={openFolder:!1,openSnackbar:!1,snackbarUndoButton:!1,snackbarMessage:"",showForm:!1,folderData:{}};var Ge=function(e){var t=Me(),a=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){var e=T.firestore().collection("collections").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(A.a)({folder_id:e.id},e.data())}));r(t)}));return function(){return e()}}),[]),a}(),o=Object(n.useReducer)(Pe,qe),l=Object(c.a)(o,2),i=l[0],s=l[1],d=a.map((function(e){return r.a.createElement(B.a,{item:!0,key:e.folder_id},r.a.createElement(ze.SwipeableListItem,{swipeLeft:{content:r.a.createElement("div",{className:t.swipeLeftContainer},r.a.createElement("div",{className:t.swipeLeftAction},r.a.createElement(_.a,{variant:"subtitle2"},"Edit"),r.a.createElement($.a,{fontSize:"large",className:t.swipeIcon}))),action:function(){return s({type:He.EDIT_FOLDER,payload:{data:e}})},actionAnimation:ze.ActionAnimations.RETURN},swipeRight:{content:r.a.createElement("div",{className:t.swipeRightContainer},r.a.createElement("div",{className:t.swipeRightAction},r.a.createElement(G.a,{fontSize:"large",className:t.swipeIcon}),r.a.createElement(_.a,{variant:"subtitle2"},"Delete"))),action:function(){return s({type:He.DELETE_FOLDER,payload:{data:e}})},actionAnimation:ze.ActionAnimations.REMOVE},blockSwipe:void 0!==e.editable},r.a.createElement(ve.a,{className:t.listItem,onClick:function(){return s({type:He.OPEN_FOLDER,payload:{data:e}})}},r.a.createElement(_e.a,null,r.a.createElement(je.a,{className:t.avatar},r.a.createElement(f.a,{className:t.folderIcon}))),r.a.createElement(Se.a,{primary:r.a.createElement(_.a,{variant:"subtitle1"},e.folder_name),secondary:e.folder_desc}))))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(N,{title:"Collection",onToggleTheme:e.onToggleTheme}),r.a.createElement("div",{className:t.root},r.a.createElement(De.a,{variant:"outlined",style:{borderRadius:8}},r.a.createElement(Le.a,null,r.a.createElement(U.a,{columnWidth:"100%",gutterWidth:8,gutterHeight:0},d))),r.a.createElement(de.a,{fullScreen:!0,open:i.openFolder,TransitionComponent:We},r.a.createElement(dt,{id:i.folderData.folder_id,name:i.folderData.folder_name}),r.a.createElement(y.a,{position:"fixed",color:"secondary",className:t.bottomAppBar},r.a.createElement(v.a,null,r.a.createElement(C.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){return s({type:He.CLOSE_FOLDER})}},r.a.createElement(Ie.a,null)),r.a.createElement(C.a,{color:"inherit"},r.a.createElement(we.a,null)),r.a.createElement(C.a,{edge:"end",color:"inherit"},r.a.createElement(ee.a,null)))))),r.a.createElement(Ke,{dispatch:s,open:i.openSnackbar,message:i.snackbarMessage,undoButton:i.snackbarUndoButton}),r.a.createElement(xe,{mode:"collection",dispatch:s}),r.a.createElement(Je,{mode:"collection",dispatch:s,edit:i.showForm,collection_id:i.folderData.folder_id,folder_name:i.folderData.folder_name,folder_desc:i.folderData.folder_desc}))},Ve=Object(u.a)((function(e){return{fabAdd:{position:"fixed",bottom:e.spacing(9),right:e.spacing(2),zIndex:1e3},formInput:{width:"100%",margin:e.spacing(1,0)},root:{padding:e.spacing(8,0,18,0)},icon:{marginRight:e.spacing(1)},bottomAppBar:{top:"auto",bottom:0},snackBar:{position:"fixed",bottom:e.spacing(18)}}})),$e=r.a.forwardRef((function(e,t){return r.a.createElement(Ee.a,Object.assign({direction:"left",ref:t},e))})),Ye=function(e,t){switch(t.type){case lt.CLOSE_SNACKBAR:return Object(A.a)(Object(A.a)({},e),{},{openSnackbar:!1});case lt.SHOW_SNACKBAR:return Object(A.a)(Object(A.a)({},e),{},{openSnackbar:!0,snackbarMessage:t.payload.message});default:return e}};var Je=function(e){var t=e.dispatch,a=e.from,o=Object(I.a)(e,["dispatch","from"]),l=Ve(),i=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){var e=T.firestore().collection("collections").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(A.a)({folder_id:e.id},e.data())}));r(t)}));return function(){return e()}}),[]),a}(),s=function(){te(),J(!1),t({type:lt.CLOSE_EDIT_FORM})},d=Object(n.useState)(o.folder_id),u=Object(c.a)(d,2),m=u[0],f=u[1],p=Object(n.useState)(o.link_title),g=Object(c.a)(p,2),b=g[0],E=g[1],k=Object(n.useState)(o.link_url),O=Object(c.a)(k,2),h=O[0],_=O[1],j=Object(n.useState)(o.link_img),S=Object(c.a)(j,2),D=S[0],L=S[1],C=Object(n.useState)(o.docId),w=Object(c.a)(C,2),N=w[0],R=w[1],F=Object(n.useState)(o.collection_id),B=Object(c.a)(F,2),x=B[0],z=B[1],U=Object(n.useState)(o.folder_name),K=Object(c.a)(U,2),M=K[0],W=K[1],H=Object(n.useState)(o.folder_desc),P=Object(c.a)(H,2),q=P[0],G=P[1],V=Object(n.useState)(!1),$=Object(c.a)(V,2),Y=$[0],J=$[1];Object(n.useEffect)((function(){f(o.folder_id),E(o.link_title),_(o.link_url),L(o.link_img),R(o.docId),J(o.edit),z(o.collection_id),W(o.folder_name),G(o.folder_desc)}),[o.folder_id,o.link_title,o.link_url,o.link_img,o.edit,o.docId,o.collection_id,o.folder_name,o.folder_desc]);var Q=Object(n.useReducer)(Ye,{openSnackbar:!1,snackbarUndoButton:!1,snackbarMessage:""}),X=Object(c.a)(Q,2),Z=X[0],ee=X[1];function te(){f(m),E(""),_(""),W(""),G("")}var ae=function(){return r.a.createElement(y.a,{position:"fixed",color:"secondary",className:l.bottomAppBar},r.a.createElement(v.a,null,r.a.createElement(ie.a,{onClick:s},r.a.createElement(ye.a,{className:l.icon})," Cancel")))};return r.a.createElement("div",null,r.a.createElement(de.a,{fullScreen:!0,open:Y,TransitionComponent:$e,"aria-labelledby":"form-dialog-title"},r.a.createElement("form",{onSubmit:function(e){switch(e.preventDefault(),o.mode){case"collection":T.firestore().collection("collections").doc(x).update({folder_name:M,folder_desc:q}).then((function(){t({type:He.SAVE_UPDATED_FOLDER,payload:{message:"Collection successfully updated"}}),console.log("Collection successfully updated")})).catch((function(e){t({type:He.SAVE_UPDATED_FOLDER,payload:{message:"Error updating collection"}}),console.error("Error adding collection: ",e)}));break;default:"folder"===a?T.firestore().collection("links").doc(N).update({link_title:b,link_url:h,folder_id:m,link_img:D,date_added:new Date}).then((function(){t({type:lt.ADD_LINK,payload:{message:"Link successfully updated"}}),console.log("Link successfully updated")})).catch((function(e){t({type:lt.ADD_LINK,payload:{message:"Error updating link"}}),console.error("Error updating link on database: ",e)})):T.firestore().collection("links").add({link_title:b,link_url:h,folder_id:m,link_img:D,date_added:new Date}).then((function(){t({type:lt.ADD_LINK,payload:{message:"Link added to your library"}}),console.log("Link added to library")})).catch((function(e){t({type:lt.ADD_LINK,payload:{message:"Error adding link to library"}}),console.error("Error adding link to library: ",e)}))}te(),J(!1)}},r.a.createElement("div",{className:l.root},r.a.createElement(me.a,{id:"form-dialog-title"},"Edit ","collection"===o.mode?o.mode:"link"),r.a.createElement(ue.a,null,"collection"===o.mode?r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{required:!0,multiline:!0,className:l.formInput,size:"small",variant:"outlined",id:"collection-name",label:"Collection name",value:M,onChange:function(e){return W(e.target.value)}}),r.a.createElement(se.a,{multiline:!0,className:l.formInput,size:"small",variant:"outlined",id:"collection-desc",label:"Collection description",value:q,onChange:function(e){return G(e.target.value)}})):r.a.createElement(r.a.Fragment,null,r.a.createElement(se.a,{multiline:!0,className:l.formInput,size:"small",variant:"outlined",id:"link-title",label:"Link title",value:b,onChange:function(e){return E(e.target.value)}}),r.a.createElement(se.a,{required:!0,multiline:!0,type:"url",className:l.formInput,variant:"outlined",size:"small",id:"link-url",label:"Link URL",value:h,onChange:function(e){var a;_(e.target.value),t({type:lt.SHOW_SNACKBAR,payload:{message:"Getting link details"}}),a=void 0!==e.target.value?e.target.value:"",oe.a.get("https://cors-anywhere.herokuapp.com/"+a).then((function(e){console.log(e.data);var t=Oe.a.load(e.data),a=t("meta[property='og:title']").attr("content");void 0===a&&(a=t("title")[0].children[0].data),void 0===a&&(a="");var n=t("meta[property='og:image']").attr("content");void 0===n&&(n=t("meta[property='twitter:image']").attr("content")),void 0===n&&t("img").each((function(e,t){/^https:\/\//.test(t.attribs.src)&&(n=t.attribs.src)})),void 0===n&&(n=""),L(n),E(a),ee({type:lt.CLOSE_SNACKBAR})})).catch((function(e){console.log("THIS IS ERROR: ",e),ee({type:lt.SHOW_SNACKBAR,payload:{message:"Link invalid or not found"}})}))}}),r.a.createElement(se.a,{select:!0,className:l.formInput,size:"small",variant:"outlined",id:"link-in-folder-id",label:"Collection",value:m,onChange:function(e){return f(e.target.value)}},i.map((function(e){return r.a.createElement(pe.a,{key:e.folder_id,value:e.folder_id},e.folder_name)})))))),r.a.createElement(fe.a,{color:"secondary","aria-label":"add",className:l.fabAdd,type:"submit",variant:"extended"},r.a.createElement(be.a,{className:l.icon})," Save")),r.a.createElement(Ke,{dispatch:ee,open:Z.openSnackbar,message:Z.snackbarMessage,undoButton:Z.snackbarUndoButton}),r.a.createElement(ae,null)))},Qe=Object(u.a)((function(e){return{gridListHolder:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden"},gridList:{flexWrap:"nowrap",padding:e.spacing(0,2,1,2)},discoverHeader:{padding:e.spacing(0,2)},containerWrapper:{margin:e.spacing(2,0)}}})),Xe="add-to-library",Ze=function(e,t){switch(t.type){case Xe:return Object(A.a)(Object(A.a)({},e),{},{showForm:!0,clickedLinkData:t.payload.data});case lt.ADD_LINK:return Object(A.a)(Object(A.a)({},e),{},{showForm:!1,openSnackbar:!0,snackbarMessage:t.payload.message});case lt.CLOSE_EDIT_FORM:return Object(A.a)(Object(A.a)({},e),{},{showForm:!1});case lt.CLOSE_SNACKBAR:return Object(A.a)(Object(A.a)({},e),{},{openSnackbar:!1});case lt.COPY_LINK:return Object(A.a)(Object(A.a)({},e),{},{openSnackbar:!0,snackbarMessage:t.payload.message});default:return e}},et={showForm:!1,openSnackbar:!1,snackbarUndoButton:!1,snackbarMessage:"",clickedLinkData:{}},tt=function(e){var t=e.title,a=e.query,o=Qe(),l=Object(n.useReducer)(Ze,et),i=Object(c.a)(l,2),s=i[0],d=i[1],u=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),r=t[0],o=t[1];return Object(n.useEffect)((function(){var e=oe.a.get("https://api.currentsapi.services/v1/"+a+"apiKey=-V2Sp7WAWXtgTlbqlnRQiPwCaBnSviDzx2nzkIOmxAs1QHEl").then((function(e){console.log({res:e}),o(e.data.news)})).catch((function(e){console.log({err:e})}));return function(){return e}}),[]),r}().map((function(e){return r.a.createElement(le.a,{key:e.url},r.a.createElement(rt,{data:{link_title:e.title,link_url:e.url,link_img:e.image},dispatch:d}))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:o.containerWrapper},r.a.createElement("div",{className:o.discoverHeader},r.a.createElement(_.a,{variant:"h6",gutterBottom:!0},t)),r.a.createElement("div",{className:o.gridListHolder},r.a.createElement(ce.a,{className:o.gridList,cols:1.5,cellHeight:"auto",spacing:8},u))),r.a.createElement(Ke,{dispatch:d,open:s.openSnackbar,message:s.snackbarMessage,undoButton:s.snackbarUndoButton}),r.a.createElement(Je,Object.assign({mode:"link",from:"discover",dispatch:d,edit:s.showForm},s.clickedLinkData)))},at=Object(u.a)((function(e){return{cardContainer:{background:e.palette.background.paper,width:"100%",height:"100%",borderColor:e.palette.primary.light,borderRadius:e.spacing(1)},cardContent:{lineHeight:1.25,textOverflow:"ellipsis"}}})),nt=function(e){var t=e.match(/^https?:\/\/(www.)?([^/?#]+)(?:[/?#]|$)/i);return t&&t[2]},rt=function(e){var t=e.dispatch,a=e.data,n=e.type,o=(Object(I.a)(e,["dispatch","data","type"]),at()),l=nt(a.link_url),c={link_title:a.link_title,link_url:a.link_url,folder_id:a.folder_id,link_img:a.link_img,date_added:a.date_added};return r.a.createElement(M.a,{variant:"outlined",className:o.cardContainer},r.a.createElement(W.a,null,"None"!==a.link_img?r.a.createElement(H.a,{component:"img",alt:a.link_img,image:a.link_img,title:a.link_title,height:n===ct.REGULAR?"auto":120}):"",r.a.createElement(P.a,null,r.a.createElement(_.a,{variant:"overline"},l),r.a.createElement(_.a,{className:o.cardContent,variant:"subtitle1",gutterBottom:!0},a.link_title),r.a.createElement(_.a,{noWrap:!0,className:o.cardContent,variant:"caption",gutterBottom:!0},a.link_url))),r.a.createElement(K.a,null,n===ct.REGULAR?r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{size:"small",color:"primary",onClick:function(){return t({type:lt.EDIT_LINK,payload:{data:Object(A.a)({docId:a.link_id},c)}})}},r.a.createElement($.a,null)),r.a.createElement(C.a,{size:"small",color:"primary",onClick:function(){return t({type:lt.DELETE_LINK,payload:{id:a.link_id,data:c}})}},r.a.createElement(G.a,null))):r.a.createElement(C.a,{size:"small",color:"primary",onClick:function(){return t({type:Xe,payload:{data:Object(A.a)(Object(A.a)({},a),{},{folder_id:"3ppmoaOw6ANJk10oWmhh"})}})}},r.a.createElement(ae.a,null)),r.a.createElement(ne.CopyToClipboard,{text:a.link_url,onCopy:function(){return t({type:lt.COPY_LINK,payload:{message:"Link URL copied to clipboard"}})}},r.a.createElement(C.a,{size:"small",color:"primary"},r.a.createElement(J.a,null))),r.a.createElement(C.a,{size:"small",color:"primary",onClick:function(e){e.preventDefault(),window.open(a.link_url,"_blank")}},r.a.createElement(X.a,null)),r.a.createElement(C.a,{size:"small",color:"primary",disabled:!0,onClick:function(){return alert("HEY")}},r.a.createElement(ee.a,null))))},ot=Object(u.a)((function(e){return{root:{flexGrow:1,width:"calc(100vw - ".concat(e.spacing(2),"px)"),margin:e.spacing(10,1,18,1)},folderNameHeader:{background:e.palette.background.paper,position:"sticky",top:e.spacing(7),zIndex:5,paddingTop:e.spacing(2)},snackBar:{position:"fixed",bottom:e.spacing(18)}}})),lt={ADD_LINK:"add-link",COPY_LINK:"copy-link",EDIT_LINK:"edit-link",DELETE_LINK:"delete-link",UNDO_DELETE:"undo-delete-link",SHOW_SNACKBAR:"show-snackbar",CLOSE_SNACKBAR:"close-snackbar",CLOSE_EDIT_FORM:"close-edit-form"},ct={REGULAR:"regular-link-card",DISCOVER:"discover-link-card"},it=function(e,t){switch(t.type){case lt.ADD_LINK:return Object(A.a)(Object(A.a)({},e),{},{snackbarUndoButton:!1,openSnackbar:!0,snackbarMessage:t.payload.message,showForm:!1});case lt.COPY_LINK:return Object(A.a)(Object(A.a)({},e),{},{snackbarUndoButton:!1,openSnackbar:!0,snackbarMessage:t.payload.message});case lt.EDIT_LINK:return Object(A.a)(Object(A.a)({},e),{},{showForm:!0,clickedLinkData:t.payload.data});case lt.DELETE_LINK:return T.firestore().collection("links").doc(t.payload.id).delete().then((function(){console.log("Success")})).catch((function(e){console.error("Error removing document: ",e)})),{snackbarMessage:"Link successfully deleted",openSnackbar:!0,showForm:!1,clickedLinkData:t.payload.data,snackbarUndoButton:!0};case lt.UNDO_DELETE:return T.firestore().collection("links").add(e.clickedLinkData).then((function(){return console.log("Link delete undone")})).catch((function(e){return console.error("Error encountered: ",e)})),Object(A.a)(Object(A.a)({},e),{},{openSnackbar:!0,snackbarUndoButton:!1,snackbarMessage:"Link restored"});case lt.CLOSE_SNACKBAR:return Object(A.a)(Object(A.a)({},e),{},{openSnackbar:!1});case lt.CLOSE_EDIT_FORM:return Object(A.a)(Object(A.a)({},e),{},{showForm:!1});default:return e}},st={openSnackbar:!1,showForm:!1,snackbarMessage:"",snackbarUndoButton:!1,clickedLinkData:{}};var dt=function(e){var t=e.id,a=e.name,o=Object(I.a)(e,["id","name"]),l=ot(),i=Object(n.useReducer)(it,st),s=Object(c.a)(i,2),d=s[0],u=s[1],m=function(e,t){var a=Object(n.useState)([]),r=Object(c.a)(a,2),o=r[0],l=r[1];return Object(n.useEffect)((function(){var a=T.firestore().collection("links");return!0===t?a.orderBy("date_added","desc").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(A.a)({link_id:e.id},e.data())}));l(t)})):a.where("folder_id","==",e).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(A.a)({link_id:e.id},e.data())}));l(t)})),function(){return a}}),[e,t]),console.log("Function useDetails() in Folder.js called"),o}(t,o.fetchAll).map((function(e){return r.a.createElement(B.a,{item:!0,key:e.link_id},r.a.createElement(rt,{data:e,type:ct.REGULAR,dispatch:u}))})),f=function(){var e=Object(n.useState)({width:void 0,height:void 0}),t=Object(c.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){function e(){r({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),a}();return r.a.createElement(r.a.Fragment,null,void 0===o.showHeader?r.a.createElement(x.a,{className:l.folderNameHeader},r.a.createElement(_.a,{variant:"h6",gutterBottom:!0},a)):"",r.a.createElement("div",{className:l.root},r.a.createElement(U.a,{monitorImagesLoaded:!0,columnWidth:f.width<=320?f.width-16:165,gutterWidth:8,gutterHeight:8},m),r.a.createElement(Ke,{dispatch:u,open:d.openSnackbar,message:d.snackbarMessage,undoButton:d.snackbarUndoButton})),r.a.createElement(xe,{mode:"link",dispatch:u,defaultFolder:t}),r.a.createElement(Je,Object.assign({mode:"link",from:"folder",dispatch:u,edit:d.showForm},d.clickedLinkData)))},ut=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(N,{title:"Link library",onToggleTheme:e.onToggleTheme}),r.a.createElement(dt,{id:"3ppmoaOw6ANJk10oWmhh",fetchAll:!0,showHeader:!1}))},mt=Object(u.a)((function(e){return{root:{width:"100%",margin:e.spacing(10,0)},gridListHolder:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden"},gridList:{flexWrap:"nowrap",padding:e.spacing(0,1)}}})),ft=function(e){var t=mt();return r.a.createElement(r.a.Fragment,null,r.a.createElement(N,{title:"Discover",onToggleTheme:e.onToggleTheme}),r.a.createElement("div",{className:t.root},r.a.createElement(tt,{title:"Philippines News",query:"latest-news?country=ph&"}),r.a.createElement(tt,{title:"World News",query:"latest-news?language=en&"}),r.a.createElement(tt,{title:"Politics",query:"search?category=politics&"}),r.a.createElement(tt,{title:"Technology",query:"search?category=technology&"}),r.a.createElement(tt,{title:"Gadgets",query:"search?category=gadgets&"}),r.a.createElement(tt,{title:"Science",query:"search?category=science&"})))},pt=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ft,null))},gt=a(163),bt=a(652),Et=a(274),kt=Object(Et.a)({palette:{background:{default:"#dadada"},primary:{light:"#e0e0e0",main:"#37474f",dark:"#102027",contrastText:"#fff"},secondary:{light:"#ffffa6",main:"#dce775",dark:"#a8b545",contrastText:"#000"}},typography:{fontSize:12,subtitle1:{fontWeight:700,color:"#37474f"},h5:{fontWeight:900,letterSpacing:"0.04rem"},h6:{fontWeight:900,color:"#37474f",letterSpacing:"0.03rem",textTransform:"uppercase"}},overrides:{MuiBottomNavigationAction:{root:{color:"#62727b","&$selected":{color:"#dce775"}}}}}),Ot=Object(Et.a)({palette:{background:{default:"#424242",paper:"#333"},primary:{light:"#484848",main:"#212121",dark:"#000000",contrastText:"#fff"},secondary:{light:"#ffffa6",main:"#dce775",dark:"#a8b545",contrastText:"#000"}},typography:{fontSize:12,subtitle1:{fontWeight:700,color:"#fff"},overline:{color:"#fff8"},caption:{color:"#fff8"},h5:{fontWeight:900,letterSpacing:"0.04rem"},h6:{fontWeight:900,color:"#fff",letterSpacing:"0.03rem",textTransform:"uppercase"}},overrides:{MuiBottomNavigationAction:{root:{color:"#616161","&$selected":{color:"#dce775"}}},MuiIconButton:{colorPrimary:{color:"#fff"}},MuiListItemText:{secondary:{color:"#ff8"}},MuiOutlinedInput:{root:{color:"#fff","& $notchedOutline":{borderColor:"#ff8"},"&$focused $notchedOutline":{borderColor:"#dce775",borderWidth:2}}},MuiFormLabel:{root:{color:"#fff8","&$focused":{color:"#dce775"}}},MuiMenuItem:{root:{color:"#fff"}}}});var ht=function(){var e=Object(n.useState)(""),t=Object(c.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)(!1),s=Object(c.a)(l,2),d=s[0],u=s[1],m=function(){u(!d)};return r.a.createElement(bt.a,{theme:d?Ot:kt},r.a.createElement(i.a,null),r.a.createElement(gt.a,{basename:"/link-library"},r.a.createElement(k.c,null,r.a.createElement(k.a,{exact:!0,path:"/"},r.a.createElement(ut,{onToggleTheme:m})),r.a.createElement(k.a,{path:"/discover"},r.a.createElement(ft,{onToggleTheme:m})),r.a.createElement(k.a,{path:"/collection"},r.a.createElement(Ge,{onToggleTheme:m})),r.a.createElement(k.a,{path:"/settings"},r.a.createElement(pt,{onToggleTheme:m}))),r.a.createElement(h,{value:a,onChange:o})))};l.a.render(r.a.createElement(ht,null),document.getElementById("root"))}},[[290,1,2]]]);
//# sourceMappingURL=main.2f6c3b37.chunk.js.map