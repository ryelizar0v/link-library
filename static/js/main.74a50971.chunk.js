(this["webpackJsonplink-library"]=this["webpackJsonplink-library"]||[]).push([[0],{119:function(e,t,a){e.exports=a.p+"static/media/loading.bb195f62.png"},278:function(e,t,a){e.exports=a.p+"static/media/404-illustration.447af8f1.svg"},279:function(e,t,a){e.exports=a.p+"static/media/covid2.4b4b29dc.png"},280:function(e,t,a){e.exports=a.p+"static/media/app.8ef1895c.png"},292:function(e,t,a){e.exports=a(593)},408:function(e,t){},422:function(e,t){},424:function(e,t){},593:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),o=a.n(c),l=a(8),i=a(6),s=a(665),d=a(636),u=a(637),m=a(633),p=a(111),f=a.n(p),g=a(269),b=a.n(g),E=a(268),h=a.n(E),O=a(14),k=Object(m.a)((function(e){return{bottomBar:{position:"fixed",bottom:0,background:e.palette.primary.main,margin:0,padding:0,width:"100vw",zIndex:100}}}));var y=function(e){var t=k(),a=Object(O.f)(),c=Object(n.useState)(e.value),o=Object(l.a)(c,2),i=o[0],s=o[1];return a.listen((function(e,t){"POP"===t&&s(e.pathname.replace("/",""))})),r.a.createElement(d.a,{value:i,onChange:function(t,n){a.push("/".concat(n)),s(n),e.onChange(n)},className:t.bottomBar},r.a.createElement(u.a,{label:"Home",value:"",icon:r.a.createElement(h.a,null)}),r.a.createElement(u.a,{label:"Collection",value:"collection",icon:r.a.createElement(f.a,null)}),r.a.createElement(u.a,{label:"Discover",value:"discover",icon:r.a.createElement(b.a,null)}))},v=a(23),_=a(640),j=a(641),S=a(81),C=a(270),D=a.n(C),N=a(272),L=a.n(N),I=a(271),w=a.n(I),A=a(273),R=a.n(A),B=(a(638),a(639)),F=a(642),T=a(282),x=a(645),P=Object(m.a)((function(e){return{menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,display:"flex",flexDirection:"column",alignItems:"flex-start",textTransform:"uppercase"},appBar:{position:"fixed",zIndex:8e3,top:e.spacing(1),width:"calc(100% - ".concat(e.spacing(2),"px)"),left:e.spacing(1),borderRadius:e.spacing(1)}}})),U=function(e){var t=e.appDispatch,a=Object(v.a)(e,["appDispatch"]),c=P(),o=Object(n.useState)(null),i=Object(l.a)(o,2),s=i[0],d=i[1],u=function(){return d(null)};return r.a.createElement(_.a,{className:c.appBar},r.a.createElement(j.a,null,r.a.createElement(D.a,{style:{marginRight:8}}),r.a.createElement("div",{className:c.title},r.a.createElement(S.a,{variant:"h5"},a.title)),r.a.createElement(F.a,{style:{marginRight:-16},onClick:function(e){return d(e.currentTarget)}},r.a.createElement(w.a,{style:{color:"#fff"}})),r.a.createElement(T.a,{id:"simple-menu",anchorEl:s,open:Boolean(s),onClose:u,style:{zIndex:11e3}},r.a.createElement(x.a,{onClick:function(){t({type:Ut.TOGGLE_THEME,payload:{value:!JSON.parse(localStorage.getItem("theme")).value}}),u()}},r.a.createElement(L.a,{style:{marginRight:8}})," Toggle theme"),a.show?"":r.a.createElement(x.a,{onClick:function(){t({type:Ut.OPEN_MENU}),u()}},r.a.createElement(R.a,{style:{marginRight:8}})," About app"))))},z=a(167),M=a.n(z);a(302);M.a.initializeApp({apiKey:"AIzaSyBaF7HPX0cehZsg5R1uaPwn-g-c8lO35Tk",authDomain:"link-library-5cfc6.firebaseapp.com",databaseURL:"https://link-library-5cfc6.firebaseio.com",projectId:"link-library-5cfc6",storageBucket:"link-library-5cfc6.appspot.com",messagingSenderId:"405205691939",appId:"1:405205691939:web:a040686ea827173f210b96",measurementId:"G-3J7Y752GEE"});var H=M.a,K=a(651),W=a(663),V=a(654),G=a(647),q=a(114),J=a.n(q),$=a(658),Y=a(659),Q=a(660),X=a(661),Z=a(662),ee=a(121),te=a.n(ee),ae=a(120),ne=a.n(ae),re=a(122),ce=a.n(re),oe=a(277),le=a.n(oe),ie=a(116),se=a.n(ie),de=a(275),ue=a.n(de),me=a(276),pe=a.n(me),fe=a(274),ge=a(655),be=a(35),Ee=a(656),he=a(657),Oe=a(666),ke=a(669),ye=a(649),ve=a(648),_e=a(646),je=a(117),Se=a.n(je),Ce=a(54),De=a.n(Ce),Ne=a(115),Le=a.n(Ne),Ie=a(44),we=a.n(Ie),Ae=a(595),Re=a(652),Be=a(670),Fe=a(653),Te=a(644),xe=a(668),Pe=a(118),Ue=a.n(Pe),ze=Object(m.a)((function(e){return{fabAdd:{position:"fixed",bottom:e.spacing(9),right:e.spacing(2),zIndex:1e3},fabCancel:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2),zIndex:1e3},formInput:{width:"100%",margin:e.spacing(1,0)},root:{padding:e.spacing(8,0,18,0)},icon:{marginRight:e.spacing(1)},bottomAppBar:{top:"auto",bottom:0},snackBar:{position:"fixed",bottom:e.spacing(18)}}})),Me=r.a.forwardRef((function(e,t){return r.a.createElement(B.a,Object.assign({direction:"left",ref:t},e))}));var He=function(e){var t=e.dispatch,a=Object(v.a)(e,["dispatch"]),c=ze(),o=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){var e=H.firestore().collection("collections").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(i.a)({folder_id:e.id},e.data())}));r(t)}));return function(){return e()}}),[]),a}(),s=Object(n.useState)(!1),d=Object(l.a)(s,2),u=d[0],m=d[1],p=Object(n.useState)(!1),f=Object(l.a)(p,2),g=f[0],b=f[1],E=Object(n.useState)(""),h=Object(l.a)(E,2),O=h[0],k=h[1],y=Object(n.useState)(""),_=Object(l.a)(y,2),j=_[0],S=_[1],C=Object(n.useState)(""),D=Object(l.a)(C,2),N=D[0],L=D[1],I=Object(n.useState)(a.defaultFolder),w=Object(l.a)(I,2),A=w[0],R=w[1],B=Object(n.useState)(""),T=Object(l.a)(B,2),P=T[0],U=T[1],z=Object(n.useState)(""),M=Object(l.a)(z,2),K=M[0],W=M[1],V=Object(n.useState)(""),G=Object(l.a)(V,2),q=G[0],J=G[1],$=function(){b(!1)};function Y(){R(a.defaultFolder),U(""),W(""),S(""),L("")}var Q=function(e){De.a.get("https://cors-anywhere.herokuapp.com/"+e).then((function(e){var t=Le.a.load(e.data),a=t("meta[property='og:title']").attr("content");void 0===a&&(a=t("title").text()),void 0===a&&(a="");var n=t("meta[property='og:image']").attr("content");void 0===n&&(n=t("meta[property='twitter:image']").attr("content")),void 0===n&&/^https:\/\//.test(t("img")[1].attribs.src)&&(n=t("img")[1].attribs.src),void 0===n&&(n=""),J(n),U(a),b(!1)})).catch((function(e){console.log("THIS IS ERROR: ",e),k("Snap! Failed to get link details")}))};return r.a.createElement("div",null,r.a.createElement(_e.a,{color:"secondary","aria-label":"add",className:c.fabAdd,onClick:function(){return m(!0)}},r.a.createElement(se.a,null)),r.a.createElement(ke.a,{fullScreen:!0,open:u,TransitionComponent:Me,"aria-labelledby":"form-dialog-title"},r.a.createElement("form",{onSubmit:function(e){switch(e.preventDefault(),a.mode){case"collection":H.firestore().collection("collections").add({folder_name:j,folder_desc:N}).then((function(){t({type:Xe.ADD_FOLDER,payload:{message:"Collection successfully created"}}),console.log("Collection successfully added")})).catch((function(e){t({type:Xe.ADD_FOLDER,payload:{message:"Error creating collection"}}),console.error("Error adding collection: ",e)}));break;default:H.firestore().collection("links").add({link_title:P,link_url:K,folder_id:A,link_img:q,date_added:new Date,is_archived:!1}).then((function(){t({type:Et.ADD_LINK,payload:{message:"Link successfully added"}}),console.log("Link successfully added")})).catch((function(e){t({type:Et.ADD_LINK,payload:{message:"Error adding link"}}),console.error("Error adding to database: ",e)}))}Y(),m(!1)}},r.a.createElement("div",{className:c.root},r.a.createElement(ve.a,{id:"form-dialog-title"},"Add new ","collection"===a.mode?a.mode:"link"),r.a.createElement(ye.a,null,"collection"===a.mode?r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe.a,{required:!0,multiline:!0,autoFocus:!0,variant:"outlined",size:"small",className:c.formInput,id:"collection-name",label:"Collection name",value:j,onChange:function(e){return S(e.target.value)}}),r.a.createElement(Oe.a,{multiline:!0,variant:"outlined",size:"small",className:c.formInput,id:"collection-desc",label:"Collection description",value:N,onChange:function(e){return L(e.target.value)}})):r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe.a,{multiline:!0,variant:"outlined",size:"small",className:c.formInput,id:"link-title",label:"Link title",value:P,onChange:function(e){return U(e.target.value)}}),r.a.createElement(Oe.a,{type:"url",required:!0,multiline:!0,autoFocus:!0,variant:"outlined",size:"small",className:c.formInput,id:"link-url",label:"Link URL",value:K,onChange:function(e){W(e.target.value),b(!0),k("Getting link details..."),Q(void 0!==e.target.value?e.target.value:"")}}),r.a.createElement(Oe.a,{select:!0,variant:"outlined",size:"small",className:c.formInput,id:"link-in-folder-id",label:"Collection",value:A,onChange:function(e){return R(e.target.value)}},o.filter((function(e){return"Archive"!==e.folder_name})).map((function(e){return r.a.createElement(x.a,{key:e.folder_id,value:e.folder_id},e.folder_name)})))))),r.a.createElement(_e.a,{color:"secondary","aria-label":"add",className:c.fabAdd,type:"submit"},r.a.createElement(Se.a,null))),r.a.createElement(xe.a,{className:c.snackBar,anchorOrigin:{vertical:"bottom",horizontal:"left"},open:g,autoHideDuration:5e3,onClose:$,message:O,action:r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{size:"small","aria-label":"close",color:"inherit",onClick:$},r.a.createElement(Ue.a,{fontSize:"small"})))}),r.a.createElement(_e.a,{color:"secondary","aria-label":"cancel",size:"small",className:c.fabCancel,onClick:function(){Y(),b(!1),m(!1)}},r.a.createElement(we.a,null))))},Ke=a(123),We=(a(590),a(650)),Ve=Object(m.a)((function(e){return{snackBar:{position:"fixed",bottom:e.spacing(18)}}})),Ge=function(e){var t=e.dispatch,a=Object(v.a)(e,["dispatch"]),c=Ve(),o=Object(n.useState)(a.open),i=Object(l.a)(o,2),s=i[0],d=i[1],u=Object(n.useState)(a.message),m=Object(l.a)(u,2),p=m[0],f=m[1],g=Object(n.useState)(a.undoButton),b=Object(l.a)(g,2),E=b[0],h=b[1];return Object(n.useEffect)((function(){d(a.open),f(a.message),h(a.undoButton)}),[a.open,a.message,a.undoButton]),r.a.createElement(xe.a,{className:c.snackBar,anchorOrigin:{vertical:"bottom",horizontal:"left"},open:s,autoHideDuration:5e3,onClose:function(){return t({type:Et.CLOSE_SNACKBAR})},message:p,action:r.a.createElement(r.a.Fragment,null,E?r.a.createElement(We.a,{color:"inherit","aria-label":"undo-delete-link",onClick:function(){return t({type:Et.UNDO_DELETE})}},"Undo"):"",r.a.createElement(F.a,{size:"small","aria-label":"close-snackbar",color:"inherit",onClick:function(){return t({type:Et.CLOSE_SNACKBAR})}},r.a.createElement(Ue.a,{fontSize:"small"})))})},qe=a(168),Je=a(119),$e=a.n(Je),Ye=Object(m.a)((function(e){return{root:{flexGrow:1,width:"calc(100vw - ".concat(e.spacing(4),"px)"),margin:e.spacing(10,2,18,2),zIndex:0},title:{margin:e.spacing(4,0,2)},bottomAppBar:{top:"auto",bottom:0},avatar:{backgroundColor:e.palette.secondary.main},folderIcon:{color:e.palette.primary.main},swipeRightContainer:{display:"flex",alignItems:"center",height:"100%",width:"100%",background:"#ef5350",justifyContent:"flex-start"},swipeRightAction:{display:"flex",alignItems:"center",color:"#fff",alignContent:"flex-start"},swipeIcon:{margin:e.spacing(0,1)},swipeLeftContainer:{display:"flex",alignItems:"center",height:"100%",width:"100%",background:"#1976d2",justifyContent:"flex-end"},swipeLeftAction:{display:"flex",alignItems:"center",color:"#fff",alignContent:"flex-end"},snackBar:{position:"fixed",bottom:e.spacing(18)},listItem:{background:e.palette.background.paper},collectionHolder:{borderRadius:e.spacing(1),marginBottom:e.spacing(1),background:e.palette.background.paper},fabCancel:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2),zIndex:1e3}}})),Qe=r.a.forwardRef((function(e,t){return r.a.createElement(B.a,Object.assign({direction:"left",ref:t},e))})),Xe={EDIT_FOLDER:"edit-folder",OPEN_FOLDER:"open-folder",DELETE_FOLDER:"delete-folder",ADD_FOLDER:"add-folder",CLOSE_FOLDER:"close-folder",SAVE_UPDATED_FOLDER:"save-updated-folder"},Ze=function(e,t){switch(t.type){case Xe.EDIT_FOLDER:return Object(i.a)(Object(i.a)({},e),{},{showForm:!0,folderData:t.payload.data});case Xe.OPEN_FOLDER:return Object(i.a)(Object(i.a)({},e),{},{folderData:t.payload.data,openFolder:!0});case Xe.SAVE_UPDATED_FOLDER:return Object(i.a)(Object(i.a)({},e),{},{openSnackbar:!0,snackbarMessage:t.payload.message,snackbarUndoButton:!1});case Xe.DELETE_FOLDER:return H.firestore().collection("collections").doc(t.payload.data.folder_id).delete().then((function(){return console.log("Collection successfully deleted")})).catch((function(e){return console.error("Error removing document: ",e)})),Object(i.a)(Object(i.a)({},e),{},{folderData:t.payload.data,openSnackbar:!0,snackbarMessage:"Collection successfully deleted",snackbarUndoButton:!0});case Xe.ADD_FOLDER:return Object(i.a)(Object(i.a)({},e),{},{openSnackbar:!0,snackbarUndoButton:!1,snackbarMessage:t.payload.message});case Xe.CLOSE_FOLDER:return Object(i.a)(Object(i.a)({},e),{},{openFolder:!1});case Et.UNDO_DELETE:return H.firestore().collection("collections").doc(e.folderData.folder_id).set({folder_name:e.folderData.folder_name,folder_desc:e.folderData.folder_desc}).then((function(){console.log("Collection restored")})).catch((function(e){console.error("Error restoring collection: ",e)})),Object(i.a)(Object(i.a)({},e),{},{openSnackbar:!0,snackbarUndoButton:!1,snackbarMessage:"Collection restored"});case Et.CLOSE_SNACKBAR:return Object(i.a)(Object(i.a)({},e),{},{openFolder:!1,openSnackbar:!1});case Et.CLOSE_EDIT_FORM:return Object(i.a)(Object(i.a)({},e),{},{showForm:!1});case Et.PAGE_LOADING:return Object(i.a)(Object(i.a)({},e),{},{isPageLoading:!1});default:return e}},et={openFolder:!1,openSnackbar:!1,snackbarUndoButton:!1,snackbarMessage:"",showForm:!1,folderData:{},isPageLoading:!0},tt=function(e){console.log("COLLECTION RENDERED");var t=Object(n.useReducer)(Ze,et),a=Object(l.a)(t,2),c=a[0],o=a[1],s=Ye(),d=function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){var t=H.firestore().collection("collections").onSnapshot((function(t){var a=t.docs.map((function(e){return Object(i.a)({folder_id:e.id},e.data())}));c(a),e({type:Et.PAGE_LOADING})}));return function(){return t()}}),[]),r}(o),u=d.filter((function(e){return!1===e.is_editable})),m=d.filter((function(e){return void 0===e.is_editable})),p=function(e){return r.a.createElement(K.a,{item:!0,key:e.folder_id},r.a.createElement(Ke.SwipeableListItem,{swipeLeft:{content:r.a.createElement("div",{className:s.swipeLeftContainer},r.a.createElement("div",{className:s.swipeLeftAction},r.a.createElement(S.a,{variant:"subtitle2"},"Edit"),r.a.createElement(ne.a,{fontSize:"large",className:s.swipeIcon}))),action:function(){return o({type:Xe.EDIT_FOLDER,payload:{data:e}})},actionAnimation:Ke.ActionAnimations.RETURN},swipeRight:{content:r.a.createElement("div",{className:s.swipeRightContainer},r.a.createElement("div",{className:s.swipeRightAction},r.a.createElement(te.a,{fontSize:"large",className:s.swipeIcon}),r.a.createElement(S.a,{variant:"subtitle2"},"Delete"))),action:function(){return o({type:Xe.DELETE_FOLDER,payload:{data:e}})},actionAnimation:Ke.ActionAnimations.REMOVE},blockSwipe:void 0!==e.is_editable},r.a.createElement(Ae.a,{className:s.listItem,onClick:function(){return o({type:Xe.OPEN_FOLDER,payload:{data:e}})}},r.a.createElement(Re.a,null,r.a.createElement(Be.a,{className:s.avatar},r.a.createElement(f.a,{className:s.folderIcon}))),r.a.createElement(Fe.a,{primary:r.a.createElement(S.a,{variant:"subtitle1"},e.folder_name),secondary:e.folder_desc}))))},g=u.map((function(e){return p(e)})),b=m.map((function(e){return p(e)}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:s.root},c.isPageLoading?r.a.createElement(K.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{height:"100%"}},r.a.createElement(K.a,{item:!0,xs:10,align:"center",style:{paddingTop:16}},r.a.createElement(V.a,{color:!1===JSON.parse(localStorage.getItem("theme")).value?"primary":"secondary",size:80,thickness:4.5}),r.a.createElement(S.a,{variant:"subtitle1",gutterBottom:!0},"Loading your collection"),r.a.createElement(S.a,{variant:"subtitle2",gutterBottom:!0},"Just sit back and relax"),r.a.createElement("img",{src:$e.a,alt:"",style:{width:"100%",paddingTop:8}}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{columnWidth:"100%",gutterWidth:8,gutterHeight:8},r.a.createElement(K.a,{item:!0},r.a.createElement(Te.a,{className:s.collectionHolder},g)),r.a.createElement(K.a,{item:!0},r.a.createElement(Te.a,{className:s.collectionHolder},b)))),r.a.createElement(ke.a,{fullScreen:!0,open:c.openFolder,TransitionComponent:Qe},r.a.createElement(yt,{id:c.folderData.folder_id,name:c.folderData.folder_name}),r.a.createElement(_e.a,{color:"secondary","aria-label":"cancel",size:"small",className:s.fabCancel,onClick:function(){return o({type:Xe.CLOSE_FOLDER})}},r.a.createElement(we.a,null)))),r.a.createElement(Ge,{dispatch:o,open:c.openSnackbar,message:c.snackbarMessage,undoButton:c.snackbarUndoButton}),r.a.createElement(He,{mode:"collection",dispatch:o}),r.a.createElement(ct,{mode:"collection",dispatch:o,edit:c.showForm,collection_id:c.folderData.folder_id,folder_name:c.folderData.folder_name,folder_desc:c.folderData.folder_desc}))},at=Object(m.a)((function(e){return{fabAdd:{position:"fixed",bottom:e.spacing(9),right:e.spacing(2),zIndex:1e3},fabCancel:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2),zIndex:1e3},formInput:{width:"100%",margin:e.spacing(1,0)},root:{padding:e.spacing(8,0,18,0)},icon:{marginRight:e.spacing(1)},bottomAppBar:{top:"auto",bottom:0},snackBar:{position:"fixed",bottom:e.spacing(18)}}})),nt=r.a.forwardRef((function(e,t){return r.a.createElement(B.a,Object.assign({direction:"left",ref:t},e))})),rt=function(e,t){switch(t.type){case Et.CLOSE_SNACKBAR:return Object(i.a)(Object(i.a)({},e),{},{openSnackbar:!1});case Et.SHOW_SNACKBAR:return Object(i.a)(Object(i.a)({},e),{},{openSnackbar:!0,snackbarMessage:t.payload.message});default:return e}};var ct=function(e){var t=e.dispatch,a=e.from,c=Object(v.a)(e,["dispatch","from"]),o=at(),s=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){var e=H.firestore().collection("collections").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(i.a)({folder_id:e.id},e.data())}));r(t)}));return function(){return e()}}),[]),a}(),d=Object(n.useState)(c.folder_id),u=Object(l.a)(d,2),m=u[0],p=u[1],f=Object(n.useState)(c.link_title),g=Object(l.a)(f,2),b=g[0],E=g[1],h=Object(n.useState)(c.link_url),O=Object(l.a)(h,2),k=O[0],y=O[1],_=Object(n.useState)(c.link_img),j=Object(l.a)(_,2),S=j[0],C=j[1],D=Object(n.useState)(c.docId),N=Object(l.a)(D,2),L=N[0],I=N[1],w=Object(n.useState)(c.collection_id),A=Object(l.a)(w,2),R=A[0],B=A[1],F=Object(n.useState)(c.folder_name),T=Object(l.a)(F,2),P=T[0],U=T[1],z=Object(n.useState)(c.folder_desc),M=Object(l.a)(z,2),K=M[0],W=M[1],V=Object(n.useState)(!1),G=Object(l.a)(V,2),q=G[0],J=G[1];Object(n.useEffect)((function(){p(c.folder_id),E(c.link_title),y(c.link_url),C(c.link_img),I(c.docId),J(c.edit),B(c.collection_id),U(c.folder_name),W(c.folder_desc)}),[c.folder_id,c.link_title,c.link_url,c.link_img,c.edit,c.docId,c.collection_id,c.folder_name,c.folder_desc]);var $=Object(n.useReducer)(rt,{openSnackbar:!1,snackbarUndoButton:!1,snackbarMessage:""}),Y=Object(l.a)($,2),Q=Y[0],X=Y[1];function Z(){p(m),E(""),y(""),U(""),W("")}return r.a.createElement("div",null,r.a.createElement(ke.a,{fullScreen:!0,open:q,TransitionComponent:nt,"aria-labelledby":"form-dialog-title"},r.a.createElement("form",{onSubmit:function(e){switch(e.preventDefault(),c.mode){case"collection":H.firestore().collection("collections").doc(R).update({folder_name:P,folder_desc:K}).then((function(){t({type:Xe.SAVE_UPDATED_FOLDER,payload:{message:"Collection successfully updated"}}),console.log("Collection successfully updated")})).catch((function(e){t({type:Xe.SAVE_UPDATED_FOLDER,payload:{message:"Error updating collection"}}),console.error("Error adding collection: ",e)}));break;default:"folder"===a?H.firestore().collection("links").doc(L).update({link_title:b,link_url:k,folder_id:m,link_img:S,date_added:new Date,is_archived:!1}).then((function(){t({type:Et.ADD_LINK,payload:{message:"Link successfully updated"}}),console.log("Link successfully updated")})).catch((function(e){t({type:Et.ADD_LINK,payload:{message:"Error updating link"}}),console.error("Error updating link on database: ",e)})):H.firestore().collection("links").add({link_title:b,link_url:k,folder_id:m,link_img:S,date_added:new Date,is_archived:!1}).then((function(){t({type:Et.ADD_LINK,payload:{message:"Link added to your library"}}),console.log("Link added to library")})).catch((function(e){t({type:Et.ADD_LINK,payload:{message:"Error adding link to library"}}),console.error("Error adding link to library: ",e)}))}Z(),J(!1)}},r.a.createElement("div",{className:o.root},r.a.createElement(ve.a,{id:"form-dialog-title"},"Edit ","collection"===c.mode?c.mode:"link"),r.a.createElement(ye.a,null,"collection"===c.mode?r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe.a,{required:!0,multiline:!0,className:o.formInput,size:"small",variant:"outlined",id:"collection-name",label:"Collection name",value:P,onChange:function(e){return U(e.target.value)}}),r.a.createElement(Oe.a,{multiline:!0,className:o.formInput,size:"small",variant:"outlined",id:"collection-desc",label:"Collection description",value:K,onChange:function(e){return W(e.target.value)}})):r.a.createElement(r.a.Fragment,null,r.a.createElement(Oe.a,{multiline:!0,className:o.formInput,size:"small",variant:"outlined",id:"link-title",label:"Link title",value:b,onChange:function(e){return E(e.target.value)}}),r.a.createElement(Oe.a,{required:!0,multiline:!0,type:"url",className:o.formInput,variant:"outlined",size:"small",id:"link-url",label:"Link URL",value:k,onChange:function(e){var a;y(e.target.value),t({type:Et.SHOW_SNACKBAR,payload:{message:"Getting link details..."}}),a=void 0!==e.target.value?e.target.value:"",De.a.get("https://cors-anywhere.herokuapp.com/"+a).then((function(e){console.log(e.data);var t=Le.a.load(e.data),a=t("meta[property='og:title']").attr("content");void 0===a&&(a=t("title")[0].children[0].data),void 0===a&&(a="");var n=t("meta[property='og:image']").attr("content");void 0===n&&(n=t("meta[property='twitter:image']").attr("content")),void 0===n&&t("img").each((function(e,t){/^https:\/\//.test(t.attribs.src)&&(n=t.attribs.src)})),void 0===n&&(n=""),C(n),E(a),X({type:Et.CLOSE_SNACKBAR})})).catch((function(e){console.log("THIS IS ERROR: ",e),X({type:Et.SHOW_SNACKBAR,payload:{message:"Snap! Failed to get link details"}})}))}}),r.a.createElement(Oe.a,{select:!0,className:o.formInput,size:"small",variant:"outlined",id:"link-in-folder-id",label:"Collection",value:m,onChange:function(e){return p(e.target.value)}},s.filter((function(e){return"Archive"!==e.folder_name})).map((function(e){return r.a.createElement(x.a,{key:e.folder_id,value:e.folder_id},e.folder_name)})))))),r.a.createElement(_e.a,{color:"secondary","aria-label":"add",className:o.fabAdd,type:"submit"},r.a.createElement(Se.a,null))),r.a.createElement(Ge,{dispatch:X,open:Q.openSnackbar,message:Q.snackbarMessage,undoButton:Q.snackbarUndoButton}),r.a.createElement(_e.a,{color:"secondary","aria-label":"cancel",size:"small",className:o.fabCancel,onClick:function(){Z(),J(!1),t({type:Et.CLOSE_EDIT_FORM})}},r.a.createElement(we.a,null))))},ot=Object(m.a)((function(e){return{gridListHolder:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden"},gridList:{flexWrap:"nowrap",padding:e.spacing(0,2,1,2)},discoverHeader:{padding:e.spacing(0,2)},containerWrapper:{margin:e.spacing(1,0)},covidGridListWrapper:{margin:e.spacing(0,0,0,19)}}})),lt="add-to-library",it=function(e,t){switch(t.type){case lt:return Object(i.a)(Object(i.a)({},e),{},{showForm:!0,clickedLinkData:t.payload.data});case Et.ADD_LINK:return Object(i.a)(Object(i.a)({},e),{},{showForm:!1,openSnackbar:!0,snackbarMessage:t.payload.message});case Et.CLOSE_EDIT_FORM:return Object(i.a)(Object(i.a)({},e),{},{showForm:!1});case Et.CLOSE_SNACKBAR:return Object(i.a)(Object(i.a)({},e),{},{openSnackbar:!1});case Et.COPY_LINK:return Object(i.a)(Object(i.a)({},e),{},{openSnackbar:!0,snackbarMessage:t.payload.message});default:return e}},st={showForm:!1,openSnackbar:!1,snackbarUndoButton:!1,snackbarMessage:"",clickedLinkData:{}},dt=function(e){var t=e.type,a=e.query,c=ot(),o=Object(n.useReducer)(it,st),i=Object(l.a)(o,2),s=i[0],d=i[1],u=function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){var t="https://api.currentsapi.services/v1/"+e+"apiKey=-V2Sp7WAWXtgTlbqlnRQiPwCaBnSviDzx2nzkIOmxAs1QHEl",a=De.a.get(t).then((function(e){c(e.data.news)})).catch((function(e){console.log({err:e})}));return function(){return a}}),[e]),r}(a).map((function(e){return r.a.createElement(ge.a,{key:e.url},r.a.createElement(pt,{data:{link_title:e.title,link_url:e.url,link_img:e.image},type:ht.DISCOVER_NEWS,dispatch:d}))})),m=function(){var e=Object(qe.a)("563492ad6f917000010000011c9f5ddae4e3422397657061ef0721e8"),t=Object(n.useState)([]),a=Object(l.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){e.photos.curated({per_page:30}).then((function(e){c(e.photos)})).catch((function(e){console.log(e)}))}),[]),r}().map((function(e){return r.a.createElement(ge.a,{key:e.id},r.a.createElement(pt,{data:{link_title:"Photo by "+e.photographer+" (Pexels)",link_url:e.url,link_img:e.src.portrait},type:ht.DISCOVER_PHOTOS,dispatch:d}))})),p=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){var e=De.a.get("https://api.coronatracker.com/v3/stats/worldometer/country").then((function(e){r(e.data)})).catch((function(e){console.log(e)}));return function(){return e}}),[]),a}().map((function(e,t){return r.a.createElement(ge.a,{key:t},r.a.createElement(pt,{data:{link_title:e.country,link_img:"None",stats:e,rank:t},type:ht.COVID_UPDATE,dispatch:d}))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t===ht.COVID_UPDATE?c.covidGridListWrapper:c.containerWrapper},r.a.createElement("div",{className:c.gridListHolder},r.a.createElement(he.a,{className:c.gridList,cols:function(){var e=Object(be.a)(),a=Object(Ee.a)(e.breakpoints.up("lg")),n=Object(Ee.a)(e.breakpoints.up("md")),r=Object(Ee.a)(e.breakpoints.up("sm"));switch(t){case ht.DISCOVER_PHOTOS:return a?8.1:n?6.1:r?4.1:2.1;case ht.COVID_UPDATE:return a?7:n?5:r?3:1;default:return a?7.75:n?5.75:r?3.75:1.75}}(),cellHeight:"auto",spacing:8},function(){switch(t){case ht.DISCOVER_NEWS:return u;case ht.DISCOVER_PHOTOS:return m;case ht.COVID_UPDATE:return p;default:return}}()))),r.a.createElement(Ge,{dispatch:d,open:s.openSnackbar,message:s.snackbarMessage,undoButton:s.snackbarUndoButton}),r.a.createElement(ct,Object.assign({mode:"link",from:"discover",dispatch:d,edit:s.showForm},s.clickedLinkData)))},ut=Object(m.a)((function(e){return{cardContainer:{background:e.palette.background.paper,width:"100%",height:"100%",borderColor:e.palette.primary.light,borderRadius:e.spacing(1)},cardContent:{lineHeight:1.25,textOverflow:"ellipsis"}}})),mt=function(e){var t=e.match(/^https?:\/\/(www.)?([^/?#]+)(?:[/?#]|$)/i);return t&&t[2]},pt=function(e){var t=e.dispatch,a=e.data,n=e.type,c=(Object(v.a)(e,["dispatch","data","type"]),ut()),o=n!==ht.COVID_UPDATE?mt(a.link_url):"",l={link_title:a.link_title,link_url:a.link_url,folder_id:a.folder_id,link_img:a.link_img,date_added:a.date_added,is_archived:a.is_archived};return r.a.createElement(X.a,{variant:"outlined",className:c.cardContainer},r.a.createElement(Z.a,null,function(){var e=n===ht.DISCOVER_NEWS?120:"auto";if("None"!==a.link_img)return r.a.createElement(Y.a,{component:"img",alt:a.link_img,image:a.link_img,title:a.link_title,height:e})}(),function(){switch(n){case ht.REGULAR:case ht.DISCOVER_NEWS:return r.a.createElement(Q.a,null,r.a.createElement(S.a,{variant:"overline"},o),r.a.createElement(S.a,{className:c.cardContent,variant:"subtitle1",gutterBottom:!0},a.link_title),r.a.createElement(S.a,{noWrap:!0,className:c.cardContent,variant:"caption",gutterBottom:!0},a.link_url));case ht.COVID_UPDATE:var e="https://www.countryflags.io/".concat(a.stats.countryCode,"/flat/32.png");return r.a.createElement(Q.a,null,void 0===a.stats?r.a.createElement("div",{style:{display:"flex",justify:"center"}},r.a.createElement(V.a,{color:!1===JSON.parse(localStorage.getItem("theme")).value?"primary":"secondary",size:80,thickness:4.5})):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("img",{alt:"",style:{marginRight:8},src:void 0!==e?e:""}),r.a.createElement(S.a,{className:c.cardContent,variant:"subtitle1"},a.rank+1,": ",a.link_title)),r.a.createElement(S.a,{className:c.cardContent,variant:"subtitle2"},"Active cases"),r.a.createElement(S.a,{className:c.cardContent,variant:"subtitle1",gutterBottom:!0},a.stats.activeCases.toLocaleString()),r.a.createElement(S.a,{className:c.cardContent,variant:"subtitle2"},"Total Confirmed"),r.a.createElement(S.a,{className:c.cardContent,variant:"subtitle1",gutterBottom:!0},a.stats.totalConfirmed.toLocaleString()),r.a.createElement(S.a,{className:c.cardContent,variant:"subtitle2"},"Total Deaths"),r.a.createElement(S.a,{className:c.cardContent,variant:"subtitle1",gutterBottom:!0},a.stats.totalDeaths.toLocaleString()),r.a.createElement(S.a,{className:c.cardContent,variant:"subtitle2"},"Total recovered"),r.a.createElement(S.a,{className:c.cardContent,variant:"subtitle1",gutterBottom:!0},a.stats.totalRecovered.toLocaleString()),r.a.createElement(S.a,{className:c.cardContent,variant:"overline",gutterBottom:!0},"As of ",a.stats.lastUpdated.substring(0,10))));default:return}}()),function(){var e=r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{size:"small",color:"primary",onClick:function(){return t({type:Et.ARCHIVE_LINK,payload:{id:a.link_id,data:{is_archived:!0}}})}},r.a.createElement(ue.a,null))),c=r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{size:"small",color:"primary",onClick:function(){return t({type:Et.UNARCHIVE_LINK,payload:{id:a.link_id,data:{is_archived:!1}}})}},r.a.createElement(pe.a,null))),o=r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{size:"small",color:"primary",onClick:function(){return t({type:Et.EDIT_LINK,payload:{data:Object(i.a)({docId:a.link_id},l)}})}},r.a.createElement(ne.a,null))),s=r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{size:"small",color:"primary",onClick:function(){return t({type:Et.DELETE_LINK,payload:{id:a.link_id,data:l}})}},r.a.createElement(te.a,null))),d=r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{size:"small",color:"primary",onClick:function(){return t({type:lt,payload:{data:Object(i.a)(Object(i.a)({},a),{},{folder_id:"3ppmoaOw6ANJk10oWmhh"})}})}},r.a.createElement(se.a,null))),u=r.a.createElement(r.a.Fragment,null,r.a.createElement(fe.CopyToClipboard,{text:a.link_url,onCopy:function(){return t({type:Et.COPY_LINK,payload:{message:"Link URL copied to clipboard"}})}},r.a.createElement(F.a,{size:"small",color:"primary"},r.a.createElement(ce.a,null))),r.a.createElement(F.a,{size:"small",color:"primary",onClick:function(e){e.preventDefault(),window.open(a.link_url,"_blank")}},r.a.createElement(le.a,null)));return n===ht.COVID_UPDATE?r.a.createElement(r.a.Fragment,null):r.a.createElement($.a,{disableSpacing:!0},n===ht.COVID_UPDATE?r.a.createElement(r.a.Fragment,null):n===ht.REGULAR?r.a.createElement(r.a.Fragment,null,!0===a.is_archived?c:e,o,s,u):r.a.createElement(r.a.Fragment,null,d,u))}())},ft=a(278),gt=a.n(ft),bt=Object(m.a)((function(e){return{root:{flexGrow:1,width:"calc(100vw - ".concat(e.spacing(2),"px)"),margin:e.spacing(10,1,18,1)},folderNameHeader:{background:e.palette.background.paper,zIndex:5,paddingBottom:e.spacing(1)},snackBar:{position:"fixed",bottom:e.spacing(18)}}})),Et={ADD_LINK:"add-link",COPY_LINK:"copy-link",EDIT_LINK:"edit-link",DELETE_LINK:"delete-link",ARCHIVE_LINK:"archive-link",UNARCHIVE_LINK:"unarchive-link",UNDO_DELETE:"undo-delete-link",SHOW_SNACKBAR:"show-snackbar",CLOSE_SNACKBAR:"close-snackbar",CLOSE_EDIT_FORM:"close-edit-form",PAGE_LOADING:"page-loading"},ht={REGULAR:"regular-link-card",DISCOVER_NEWS:"discover-link-card-news",DISCOVER_PHOTOS:"discover-link-card-photos",COVID_UPDATE:"discover-covid-update"},Ot=function(e,t){switch(t.type){case Et.ADD_LINK:return Object(i.a)(Object(i.a)({},e),{},{snackbarUndoButton:!1,openSnackbar:!0,snackbarMessage:t.payload.message,showForm:!1});case Et.COPY_LINK:return Object(i.a)(Object(i.a)({},e),{},{snackbarUndoButton:!1,openSnackbar:!0,snackbarMessage:t.payload.message});case Et.EDIT_LINK:return Object(i.a)(Object(i.a)({},e),{},{showForm:!0,clickedLinkData:t.payload.data});case Et.DELETE_LINK:return H.firestore().collection("links").doc(t.payload.id).delete().then((function(){console.log("Success")})).catch((function(e){console.error("Error removing document: ",e)})),{snackbarMessage:"Link successfully deleted",openSnackbar:!0,showForm:!1,clickedLinkData:t.payload.data,snackbarUndoButton:!0};case Et.ARCHIVE_LINK:return H.firestore().collection("links").doc(t.payload.id).update(t.payload.data).then((function(){console.log("Archived")})).catch((function(e){console.error("Error archiving: ",e)})),Object(i.a)(Object(i.a)({},e),{},{openSnackbar:!0,snackbarMessage:"Link archived",snackbarUndoButton:!1});case Et.UNARCHIVE_LINK:return H.firestore().collection("links").doc(t.payload.id).update(t.payload.data).then((function(){console.log("Removed from archive")})).catch((function(e){console.error("Error removing from archive: ",e)})),Object(i.a)(Object(i.a)({},e),{},{openSnackbar:!0,snackbarMessage:"Link removed from archive",snackbarUndoButton:!1});case Et.UNDO_DELETE:return H.firestore().collection("links").add(e.clickedLinkData).then((function(){return console.log("Link delete undone")})).catch((function(e){return console.error("Error encountered: ",e)})),Object(i.a)(Object(i.a)({},e),{},{openSnackbar:!0,snackbarUndoButton:!1,snackbarMessage:"Link restored"});case Et.CLOSE_SNACKBAR:return Object(i.a)(Object(i.a)({},e),{},{openSnackbar:!1});case Et.CLOSE_EDIT_FORM:return Object(i.a)(Object(i.a)({},e),{},{showForm:!1});case Et.PAGE_LOADING:return Object(i.a)(Object(i.a)({},e),{},{isPageLoading:!1});default:return e}},kt={openSnackbar:!1,showForm:!1,snackbarMessage:"",snackbarUndoButton:!1,clickedLinkData:{},isPageLoading:!0},yt=function(e){var t=e.id,a=e.name,c=Object(v.a)(e,["id","name"]),o=bt(),s=Object(n.useReducer)(Ot,kt),d=Object(l.a)(s,2),u=d[0],m=d[1],p=function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),r=a[0],c=a[1],o=H.firestore().collection("links");return Object(n.useEffect)((function(){var t=o.orderBy("date_added","desc").onSnapshot((function(t){var a=t.docs.map((function(e){return Object(i.a)({link_id:e.id},e.data())}));c(a),e({type:Et.PAGE_LOADING})}));return function(){return t()}}),[]),console.log("Function useDetails() in Folder.js called"),console.log({linkDetails:r}),r}(m),f=function(e){return r.a.createElement(K.a,{item:!0,key:e.link_id},r.a.createElement(pt,{data:e,type:ht.REGULAR,dispatch:m}))},g=c.fetchAll?p.filter((function(e){return!1===e.is_archived})).map((function(e){return f(e)})):"Archive"===a?p.filter((function(e){return!0===e.is_archived})).map((function(e){return f(e)})):p.filter((function(e){return e.folder_id===t})).filter((function(e){return!1===e.is_archived})).map((function(e){return f(e)})),b=function(){var e=Object(n.useState)({width:void 0,height:void 0}),t=Object(l.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){function e(){r({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),a}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:o.root},void 0===c.showHeader?r.a.createElement(W.a,{className:o.folderNameHeader},r.a.createElement(S.a,{variant:"h6",gutterBottom:!0},a)):"",u.isPageLoading?r.a.createElement(K.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{height:"100%"}},r.a.createElement(K.a,{item:!0,xs:10,align:"center",style:{paddingTop:16}},r.a.createElement(V.a,{color:!1===JSON.parse(localStorage.getItem("theme")).value?"primary":"secondary",size:80,thickness:4.5}),r.a.createElement(S.a,{variant:"subtitle1",gutterBottom:!0},"Loading your links"),r.a.createElement(S.a,{variant:"subtitle2",gutterBottom:!0},"Just sit back and relax"),r.a.createElement("img",{src:$e.a,alt:"",style:{width:"100%",paddingTop:8}}))):r.a.createElement(r.a.Fragment,null,g.length?r.a.createElement(J.a,{monitorImagesLoaded:!0,columnWidth:b.width<=320?b.width-16:165,gutterWidth:8,gutterHeight:8},g):r.a.createElement(r.a.Fragment,null,r.a.createElement(G.a,{in:!u.isPageLoading},r.a.createElement(K.a,{container:!0,spacing:0,direction:"column",alignItems:"center",justify:"center",style:{height:"100%"}},r.a.createElement(K.a,{item:!0,xs:10,align:"center"},r.a.createElement(S.a,{variant:"subtitle1",gutterBottom:!0},"Nothing to see here"),r.a.createElement(S.a,{variant:"subtitle2",gutterBottom:!0},"Click the + button to add to this collection"),r.a.createElement("img",{src:gt.a,alt:"",style:{width:"100%",paddingTop:8}})))))),r.a.createElement(Ge,{dispatch:m,open:u.openSnackbar,message:u.snackbarMessage,undoButton:u.snackbarUndoButton})),r.a.createElement(He,{mode:"link",dispatch:m,defaultFolder:t}),r.a.createElement(ct,Object.assign({mode:"link",from:"folder",dispatch:m,edit:u.showForm},u.clickedLinkData)))},vt=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(yt,{id:"3ppmoaOw6ANJk10oWmhh",fetchAll:!0,showHeader:!1}))},_t=a(164),jt=a(664),St=a(281),Ct=Object(St.a)({palette:{background:{default:"#dadada"},primary:{light:"#e0e0e0",main:"#37474f",dark:"#102027",contrastText:"#fff"},secondary:{light:"#ffffa6",main:"#dce775",dark:"#a8b545",contrastText:"#000"}},typography:{fontSize:12,subtitle1:{fontWeight:700,color:"#37474f"},h5:{fontWeight:900,letterSpacing:"0.04rem"},h6:{fontWeight:900,color:"#37474f",letterSpacing:"0.03rem",textTransform:"uppercase"}},overrides:{MuiBottomNavigationAction:{root:{color:"#62727b","&$selected":{color:"#dce775"}}}}}),Dt=Object(St.a)({palette:{background:{default:"#424242",paper:"#333"},primary:{light:"#484848",main:"#212121",dark:"#000000",contrastText:"#fff"},secondary:{light:"#ffffa6",main:"#dce775",dark:"#a8b545",contrastText:"#000"}},typography:{fontSize:12,subtitle1:{fontWeight:700,color:"#fff"},subtitle2:{color:"#fff8"},overline:{color:"#fff8"},caption:{color:"#fff8"},h4:{fontWeight:900,color:"#fff"},h5:{fontWeight:900,letterSpacing:"0.04rem"},h6:{fontWeight:900,color:"#fff",letterSpacing:"0.03rem",textTransform:"uppercase"}},overrides:{MuiBottomNavigationAction:{root:{color:"#616161","&$selected":{color:"#dce775"}}},MuiIconButton:{colorPrimary:{color:"#fff"}},MuiListItemText:{secondary:{color:"#ff8"}},MuiOutlinedInput:{root:{color:"#fff","& $notchedOutline":{borderColor:"#ff8"},"&$focused $notchedOutline":{borderColor:"#dce775",borderWidth:2}}},MuiFormLabel:{root:{color:"#fff8","&$focused":{color:"#dce775"}}},MuiMenuItem:{root:{color:"#fff"}}}}),Nt=a(671),Lt=a(279),It=a.n(Lt),wt=Object(m.a)((function(e){return{root:{width:"100%",margin:e.spacing(10,0)},gridListHolder:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden"},gridList:{flexWrap:"nowrap",padding:e.spacing(0,1)},chipContainer:{display:"flex",overflow:"scroll",padding:e.spacing(0,2,0)},chip:{marginRight:e.spacing(.5)},discoverHeader:{padding:e.spacing(0,2)},covidInfo:{background:'url("'.concat(It.a,'")'),backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundColor:"rgba(237,174,95,0.75)",backgroundPosition:"left bottom",paddingTop:e.spacing(1),marginBottom:e.spacing(2)}}})),At=function(e){e.dispatch,Object(v.a)(e,["dispatch"]);var t=wt(),a=r.a.useState("latest-news?country=ph&"),n=Object(l.a)(a,2),c=n[0],o=n[1],i=r.a.useState(0),s=Object(l.a)(i,2),d=s[0],u=s[1],m=[{key:0,label:"Philippines",query:"latest-news?country=ph&"},{key:1,label:"World",query:"latest-news?language=en&"},{key:2,label:"Politics",query:"search?category=politics&"},{key:3,label:"Technology",query:"search?category=technology&"},{key:4,label:"Science",query:"search?category=science&"},{key:5,label:"Gadgets",query:"search?category=gadgets&"},{key:6,label:"Culture",query:"search?category=culture&"}].map((function(e){return r.a.createElement(Nt.a,{key:e.key,variant:d===e.key?"default":"outlined",color:!1===JSON.parse(localStorage.getItem("theme")).value?"primary":"secondary",className:t.chip,label:e.label,onClick:function(){u(e.key),o(e.query)}})})),p=r.a.createElement(dt,{type:ht.DISCOVER_NEWS,query:c}),f=r.a.createElement(dt,{type:ht.DISCOVER_PHOTOS,query:""}),g=r.a.createElement(dt,{type:ht.COVID_UPDATE,query:""});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.root},r.a.createElement("div",null,r.a.createElement("div",{className:t.discoverHeader},r.a.createElement(S.a,{variant:"h6",gutterBottom:!0},"Articles")),r.a.createElement("div",{className:t.chipContainer},m),p),r.a.createElement("div",{className:t.covidInfo},r.a.createElement("div",{className:t.discoverHeader},r.a.createElement(S.a,{variant:"h6",gutterBottom:!0},"Covid-19 Update")),g),r.a.createElement("div",null,r.a.createElement("div",{className:t.discoverHeader},r.a.createElement(S.a,{variant:"h6",gutterBottom:!0},"Photos")),f)))},Rt=a(284),Bt=a(280),Ft=a.n(Bt),Tt=r.a.forwardRef((function(e,t){return r.a.createElement(B.a,Object.assign({direction:"left",ref:t},e))})),xt=Object(m.a)((function(e){return{body:{width:"calc(100vw - ".concat(e.spacing(4),"px)"),borderRadius:e.spacing(1),marginBottom:e.spacing(2),background:e.palette.background.paper},header:{paddingTop:e.spacing(7),paddingBottom:e.spacing(4),background:"#05307c"},fabCancel:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2),zIndex:1e3}}})),Pt=function(e){var t=e.open,a=e.dispatch,n=xt();return r.a.createElement(ke.a,{fullScreen:!0,open:t,TransitionComponent:Tt,"aria-labelledby":"settings-dialog"},r.a.createElement("div",{className:n.header},r.a.createElement("img",{src:Ft.a,width:"100%",alt:""})),r.a.createElement(K.a,{container:!0,spacing:8,style:{paddingBottom:56},alignItems:"center",justify:"center"},r.a.createElement(Rt.a,{variant:"outlined",className:n.body},r.a.createElement(K.a,{item:!0,xs:12,md:6,align:"center",style:{padding:16}},r.a.createElement(S.a,{variant:"h4",gutterBottom:!0},"Link library"),r.a.createElement(ce.a,{fontSize:"large",style:{marginRight:8}}),r.a.createElement(S.a,{variant:"subtitle1",gutterBottom:!0},"Save links and discover the web"))),r.a.createElement(Rt.a,{variant:"outlined",className:n.body},r.a.createElement(K.a,{item:!0,xs:12,md:6,align:"center",style:{padding:16}},r.a.createElement(S.a,{variant:"subtitle1",gutterBottom:!0},"Made using ",r.a.createElement("strong",null,"React")," and ",r.a.createElement("strong",null,"Material UI")),r.a.createElement(S.a,{variant:"subtitle1",gutterBottom:!0},"API credits"),r.a.createElement(S.a,{variant:"subtitle2",gutterBottom:!0},"Discover articles powered by ",r.a.createElement("strong",null,"Currents API"),r.a.createElement("br",null),"Discover photos powered by ",r.a.createElement("strong",null,"Pexels API"),r.a.createElement("br",null),"Covid-19 updates powered by ",r.a.createElement("strong",null,"Coronatracker API"),r.a.createElement("br",null)),r.a.createElement(S.a,{variant:"subtitle1",gutterBottom:!0},"Image credits"),r.a.createElement(S.a,{variant:"subtitle2",gutterBottom:!0},"Flag icons from ",r.a.createElement("strong",null,"countryflags.io"),r.a.createElement("br",null),"Vector graphics from ",r.a.createElement("strong",null,"freepik.com"),", ",r.a.createElement("strong",null,"pdabrowski.com")," and ",r.a.createElement("strong",null,"rawpixel.com"))))),r.a.createElement(_e.a,{color:"secondary","aria-label":"cancel",size:"small",className:n.fabCancel,onClick:function(){return a({type:Ut.CLOSE_MENU})}},r.a.createElement(we.a,null)))},Ut={TOGGLE_THEME:"toggle-theme",OPEN_MENU:"open-menu",CLOSE_MENU:"close-menu"},zt=function(e,t){switch(t.type){case Ut.TOGGLE_THEME:return localStorage.setItem("theme",JSON.stringify(t.payload)),Object(i.a)(Object(i.a)({},e),{},{darkTheme:t.payload.value});case Ut.OPEN_MENU:return Object(i.a)(Object(i.a)({},e),{},{showMenu:!0});case Ut.CLOSE_MENU:return Object(i.a)(Object(i.a)({},e),{},{showMenu:!1});default:return e}},Mt=function(){console.log("APP RENDERED"),localStorage.getItem("theme")||localStorage.setItem("theme",JSON.stringify({value:!1}));var e={darkTheme:JSON.parse(localStorage.getItem("theme")).value,showMenu:!1},t=Object(n.useState)(""),a=Object(l.a)(t,2),c=a[0],o=a[1],i=Object(n.useReducer)(zt,e),d=Object(l.a)(i,2),u=d[0],m=d[1];return r.a.createElement(jt.a,{theme:u.darkTheme?Dt:Ct},r.a.createElement(s.a,null),r.a.createElement(U,{title:"Link library",appDispatch:m,show:u.showMenu}),r.a.createElement(_t.a,{basename:"/link-library"},r.a.createElement(O.c,null,r.a.createElement(O.a,{exact:!0,path:"/"},r.a.createElement(vt,{dispatch:m})),r.a.createElement(O.a,{path:"/discover"},r.a.createElement(At,{dispatch:m})),r.a.createElement(O.a,{path:"/collection"},r.a.createElement(tt,{dispatch:m}))),r.a.createElement(y,{value:c,onChange:o})),r.a.createElement(Pt,{open:u.showMenu,dispatch:m}))};o.a.render(r.a.createElement(Mt,null),document.getElementById("root"))}},[[292,1,2]]]);
//# sourceMappingURL=main.74a50971.chunk.js.map