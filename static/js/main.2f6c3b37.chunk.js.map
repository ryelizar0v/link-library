{"version":3,"sources":["components/BottomNav.js","components/Header.js","firebase.js","components/FormDialog.js","components/Snackbar.js","pages/Collection.js","components/EditFormDialog.js","components/DiscoverProvider.js","components/LinkCards.js","pages/Folder.js","pages/Home.js","pages/Discover.js","pages/Favorites.js","services/Themes.js","App.js","index.js"],"names":["useStyles","makeStyles","theme","bottomBar","position","bottom","background","palette","primary","main","margin","padding","width","zIndex","BottomNav","props","classes","history","useHistory","useState","value","setValue","listen","location","action","pathname","replace","BottomNavigation","onChange","event","tab","push","className","BottomNavigationAction","label","icon","menuButton","marginRight","spacing","title","flexGrow","display","flexDirection","alignItems","textTransform","appBar","top","left","borderRadius","Header","AppBar","Toolbar","style","Typography","variant","IconButton","onClick","onToggleTheme","color","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","fabAdd","right","formInput","root","paper","bottomAppBar","snackBar","Transition","React","forwardRef","ref","Slide","direction","FormDialog","dispatch","folders","folderDetails","setFolderDetails","useEffect","unsubscribe","firestore","collection","onSnapshot","snapshot","newDetails","docs","map","doc","folder_id","id","data","useDetails","open","setOpen","snackbarOpen","setSnackbarOpen","snackbarMessage","setSnackbarMessage","collectionName","setCollectionName","collectionDesc","setCollectionDesc","defaultFolder","linkInFolder","setLinkInFolder","linkTitle","setLinkTitle","linkUrl","setLinkUrl","linkImg","setLinkImg","handleClose","resetFields","handleSnackbarClose","handleGetDetails","url","axios","get","then","res","console","log","$","cheerio","load","attr","undefined","children","img","each","i","link","test","attribs","src","catch","err","BottomAppBar","Button","Fab","aria-label","Dialog","fullScreen","TransitionComponent","aria-labelledby","onSubmit","e","preventDefault","mode","add","folder_name","folder_desc","type","COLLECTION_ACTIONS","ADD_FOLDER","payload","message","error","link_title","link_url","link_img","date_added","Date","ACTIONS","ADD_LINK","DialogTitle","DialogContent","TextField","required","multiline","autoFocus","target","size","select","option","MenuItem","key","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","fontSize","Notifier","openSnackbar","setOpenSnackbar","undoButton","snackbarUndoButton","setSnackbarUndoButton","CLOSE_SNACKBAR","UNDO_DELETE","avatar","backgroundColor","secondary","folderIcon","swipeRightContainer","height","justifyContent","swipeRightAction","alignContent","swipeIcon","swipeLeftContainer","swipeLeftAction","listItem","EDIT_FOLDER","OPEN_FOLDER","DELETE_FOLDER","CLOSE_FOLDER","SAVE_UPDATED_FOLDER","collectionDispatch","state","showForm","folderData","openFolder","delete","set","CLOSE_EDIT_FORM","initialState","Collection","useReducer","collections","folder","Grid","item","swipeLeft","content","actionAnimation","ActionAnimations","RETURN","swipeRight","REMOVE","blockSwipe","editable","ListItem","ListItemAvatar","Avatar","ListItemText","Paper","List","columnWidth","gutterWidth","gutterHeight","name","edge","edit","collection_id","formReducer","SHOW_SNACKBAR","EditFormDialog","from","docId","linkId","setLinkId","collectionId","setCollectionId","formDispatch","update","gridListHolder","flexWrap","overflow","gridList","discoverHeader","containerWrapper","DISCOVER_ACTIONS","discoverDispatch","clickedLinkData","COPY_LINK","DiscoverProvider","query","articleCards","news","setNews","useNews","article","GridListTile","image","gutterBottom","GridList","cols","cellHeight","cardContainer","borderColor","light","cardContent","lineHeight","textOverflow","getHostName","matches","match","LinkCard","hostName","linkDetails","Card","CardActionArea","CardMedia","component","alt","CARD_TYPE","REGULAR","CardContent","noWrap","CardActions","EDIT_LINK","link_id","DELETE_LINK","text","onCopy","window","disabled","alert","folderNameHeader","paddingTop","DISCOVER","linkCardsReducer","Folder","links","fetchAll","setLinkDetails","linkRef","orderBy","where","windowSize","setWindowSize","handleResize","innerWidth","innerHeight","addEventListener","removeEventListener","useWindowSize","showHeader","Container","monitorImagesLoaded","Home","Discover","Favorites","lightTheme","createMuiTheme","default","dark","contrastText","typography","subtitle1","fontWeight","h5","letterSpacing","h6","overrides","MuiBottomNavigationAction","darkTheme","overline","caption","MuiIconButton","colorPrimary","MuiListItemText","MuiOutlinedInput","borderWidth","MuiFormLabel","MuiMenuItem","App","setTab","defaultTheme","setDefaultTheme","handleToggleTheme","ThemeProvider","CssBaseline","basename","exact","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2f6c3b37.chunk.js","sourcesContent":["import React, { useState } from \"react\"\r\nimport { BottomNavigation } from '@material-ui/core'\r\nimport { BottomNavigationAction } from '@material-ui/core'\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\nimport FolderIcon from '@material-ui/icons/Folder'\r\nimport SettingsIcon from '@material-ui/icons/Settings'\r\nimport PagesIcon from '@material-ui/icons/Pages'\r\nimport HomeIcon from '@material-ui/icons/Home'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tbottomBar: {\r\n\t\tposition: \"fixed\",\r\n\t\tbottom: 0,\r\n\t\tbackground: theme.palette.primary.main,\r\n\t\tmargin: 0,\r\n\t\tpadding: 0,\r\n\t\twidth: \"100vw\",\r\n\t\tzIndex: 100,\r\n\t}\r\n}))\r\n\r\nfunction BottomNav(props) {\r\n\r\n\tconst classes = useStyles()\r\n\tconst history = useHistory()\r\n\tconst [value, setValue] = useState(props.value)\r\n\tconst handleChange = (event, tab) => { \r\n\t\thistory.push(`/${tab}`)\r\n\t\tsetValue(tab)\r\n\t\tprops.onChange(tab)\r\n\t}\r\n\t\r\n\thistory.listen((location, action) => {\r\n\t\tif (action === \"POP\") setValue(location.pathname.replace(\"/\", \"\"))\r\n\t})\r\n\r\n\treturn (\r\n\t\t<BottomNavigation \r\n\t\t\tvalue={value} \r\n\t\t\tonChange={handleChange} \r\n\t\t\tclassName={classes.bottomBar}\r\n\t\t>\r\n\t\t\t<BottomNavigationAction label=\"Home\" value=\"\" icon={<HomeIcon />} />\r\n\t\t\t<BottomNavigationAction label=\"Collection\" value=\"collection\" icon={<FolderIcon />} />\r\n\t\t\t<BottomNavigationAction label=\"Discover\" value=\"discover\" icon={<PagesIcon />} />\r\n\t\t\t{/* <BottomNavigationAction label=\"Settings\" value=\"settings\" icon={<SettingsIcon />} /> */}\r\n\t\t</BottomNavigation>\r\n\t);\r\n}\r\n\r\nexport default BottomNav","import React from 'react'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport BookmarksIcon from '@material-ui/icons/Bookmarks'\r\nimport PaletteIcon from '@material-ui/icons/Palette'\r\nimport { IconButton } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    display: 'flex',\r\n    flexDirection: \"column\",\r\n    alignItems: \"flex-start\",\r\n    textTransform: \"uppercase\"\r\n  },\r\n  appBar: {\r\n    position: \"fixed\",\r\n    zIndex: 10000,\r\n    top: theme.spacing(1),\r\n    width: `calc(100% - ${theme.spacing(2)}px)`,\r\n    left: theme.spacing(1),\r\n    borderRadius: theme.spacing(1)\r\n  }\r\n}));\r\n\r\nconst Header = props => {\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <AppBar className={classes.appBar}>\r\n      <Toolbar>\r\n        <BookmarksIcon style={{marginRight: 8}}/>\r\n        <div className={classes.title}>\r\n          <Typography variant=\"h5\">\r\n            {props.title}\r\n          </Typography>\r\n        </div>\r\n        <IconButton style={{padding:0}} onClick={props.onToggleTheme}>\r\n          <PaletteIcon style={{color: \"#fff\"}}/>\r\n        </IconButton>\r\n        \r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n}\r\n\r\nexport default Header;","import firebase from \"firebase/app\"\r\nimport \"firebase/firestore\"\r\n\r\n// Your web app's Firebase configuration\r\nvar firebaseConfig = {\r\n  apiKey: \"AIzaSyBaF7HPX0cehZsg5R1uaPwn-g-c8lO35Tk\",\r\n  authDomain: \"link-library-5cfc6.firebaseapp.com\",\r\n  databaseURL: \"https://link-library-5cfc6.firebaseio.com\",\r\n  projectId: \"link-library-5cfc6\",\r\n  storageBucket: \"link-library-5cfc6.appspot.com\",\r\n  messagingSenderId: \"405205691939\",\r\n  appId: \"1:405205691939:web:a040686ea827173f210b96\",\r\n  measurementId: \"G-3J7Y752GEE\"\r\n};\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport default firebase","import React from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport { makeStyles, AppBar, Toolbar, Snackbar } from '@material-ui/core'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport SaveIcon from '@material-ui/icons/Save'\r\nimport { useState, useEffect } from \"react\"\r\nimport { Slide } from \"@material-ui/core\"\r\n\r\nimport firebase from \"../firebase\"\r\nimport axios from \"axios\"\r\nimport cheerio from \"cheerio\"\r\n\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport { ACTIONS } from '../pages/Folder'\r\nimport { COLLECTION_ACTIONS } from '../pages/Collection'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  fabAdd: {\r\n\t\tposition: \"fixed\",\r\n\t\tbottom: theme.spacing(9),\r\n\t\tright: theme.spacing(2),\r\n\t\tzIndex: 1000\r\n  },\r\n  formInput: {\r\n    width: \"100%\",\r\n    margin: theme.spacing(1,0)\r\n  },\r\n  root: {\r\n    padding: theme.spacing(8, 0, 18, 0),\r\n    background: theme.palette.background.paper\r\n  },\r\n  icon: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  bottomAppBar: {\r\n    top: \"auto\",\r\n    bottom: 0\r\n  },\r\n  snackBar: {\r\n\t\tposition: \"fixed\",\r\n\t\tbottom: theme.spacing(18)\r\n\t}\r\n}))\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"left\" ref={ref} {...props} />\r\n})\r\n\r\nconst FormDialog = ({ dispatch, ...props }) => {\r\n\r\n  const classes = useStyles();\r\n  const folders = useDetails()\r\n\r\n  const [open, setOpen] = useState(false)\r\n  const [snackbarOpen, setSnackbarOpen] = useState(false)\r\n  const [snackbarMessage, setSnackbarMessage] = useState(\"\")\r\n  const [collectionName, setCollectionName] = useState(\"\")\r\n  const [collectionDesc, setCollectionDesc] = useState(\"\")\r\n  const [linkInFolder, setLinkInFolder] = useState(props.defaultFolder)\r\n  const [linkTitle, setLinkTitle] = useState(\"\")\r\n  const [linkUrl, setLinkUrl] = useState(\"\")\r\n  const [linkImg, setLinkImg] = useState(\"\")\r\n\r\n  const handleClickOpen = () => setOpen(true)\r\n\r\n  const handleClose = () => {\r\n    resetFields()\r\n    setSnackbarOpen(false)\r\n    setOpen(false)\r\n  }\r\n\r\n  const handleSnackbarClose = () => {\r\n    setSnackbarOpen(false)\r\n  }\r\n\r\n  const handleFolderSelect = e => setLinkInFolder(e.target.value)\r\n  const handleTitleInput = e => setLinkTitle(e.target.value)\r\n\r\n  const handleUrlInput = e => {\r\n    setLinkUrl(e.target.value)\r\n    setSnackbarOpen(true)\r\n    setSnackbarMessage(\"Getting link details...\")\r\n    handleGetDetails(e.target.value !== undefined ? e.target.value : \"\")\r\n  }\r\n\r\n  const handleCollectionNameInput = e => setCollectionName(e.target.value)\r\n  const handleCollectionDescInput = e => setCollectionDesc(e.target.value)\r\n\r\n  const handleFormSubmit = e => {\r\n\r\n    e.preventDefault()\r\n    switch(props.mode) {\r\n      case \"collection\": {\r\n        firebase.firestore()\r\n        .collection(\"collections\")\r\n        .add({\r\n          folder_name: collectionName,\r\n          folder_desc: collectionDesc\r\n        }).then(() => {\r\n          dispatch({\r\n            type: COLLECTION_ACTIONS.ADD_FOLDER,\r\n            payload: { message: \"Collection successfully created\" }\r\n          })\r\n          /* props.onAdd(\"Collection successfully created\") */\r\n          console.log(\"Collection successfully added\")\r\n        }).catch(err => {\r\n          dispatch({\r\n            type: COLLECTION_ACTIONS.ADD_FOLDER,\r\n            payload: { message: \"Error creating collection\" }\r\n          })\r\n         /*  props.onAdd(\"Error creating collection\") */\r\n          console.error(\"Error adding collection: \", err)\r\n        })\r\n        break\r\n      }\r\n      default: \r\n        firebase.firestore()\r\n          .collection(\"links\")\r\n          .add({\r\n            link_title: linkTitle,\r\n            link_url: linkUrl,\r\n            folder_id: linkInFolder,\r\n            link_img: linkImg,\r\n            date_added: new Date()\r\n          }).then(() => {\r\n            dispatch({ \r\n              type: ACTIONS.ADD_LINK,\r\n              payload: { message: \"Link successfully added\" }\r\n            })\r\n            console.log(\"Link successfully added\")\r\n          }).catch(err => {\r\n            dispatch({ \r\n              type: ACTIONS.ADD_LINK,\r\n              payload: { message: \"Error adding link\" }\r\n            })\r\n            console.error(\"Error adding to database: \", err)\r\n          })\r\n    }\r\n    resetFields()\r\n    setOpen(false)\r\n    \r\n  }\r\n\r\n  function resetFields() {\r\n    setLinkInFolder(props.defaultFolder)\r\n    setLinkTitle(\"\")\r\n    setLinkUrl(\"\")\r\n    setCollectionName(\"\")\r\n    setCollectionDesc(\"\")\r\n  }\r\n\r\n  const handleGetDetails = url => {\r\n    axios.get(\"https://cors-anywhere.herokuapp.com/\" + url)\r\n      .then(\r\n        res => {\r\n          console.log(res.data)\r\n          const $ = cheerio.load(res.data)\r\n          let title = $(\"meta[property='og:title']\").attr(\"content\")\r\n          if(title === undefined) title = $('title')[0].children[0].data\r\n          if(title === undefined) title = \"\"\r\n          let img = $(\"meta[property='og:image']\").attr(\"content\")\r\n          if(img === undefined) img = $(\"meta[property='twitter:image']\").attr(\"content\")\r\n          if(img === undefined) {\r\n            $(\"img\").each((i, link) => {\r\n              if(/^https:\\/\\//.test(link.attribs.src)) {\r\n                img = link.attribs.src\r\n              }\r\n            })\r\n          }\r\n          if(img === undefined) img = \"\"\r\n          \r\n          setLinkImg(img)\r\n          setLinkTitle(title)\r\n          setSnackbarOpen(false)\r\n      }).catch(err => {\r\n        console.log(\"THIS IS ERROR: \", err)\r\n        setSnackbarMessage(\"Link invalid or not found\")\r\n      })\r\n  }\r\n\r\n  const BottomAppBar = () => {\r\n    return (\r\n      <AppBar position=\"fixed\" color=\"secondary\" className={classes.bottomAppBar}>\r\n        <Toolbar>\r\n          {/* {props.mode === \"link\" ? (\r\n            <Button className={classes.icon} onClick={() => handleGetDetails(linkUrl)} >\r\n              <DescriptionIcon className={classes.icon} /> Get details\r\n            </Button>\r\n          ) : ( \"\" )} */}\r\n          <Button onClick={handleClose} >\r\n            <CancelIcon className={classes.icon} /> Cancel\r\n          </Button>\r\n        </Toolbar>\r\n      </AppBar>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Fab color=\"secondary\" aria-label=\"add\"\r\n        className={classes.fabAdd}\r\n        onClick={handleClickOpen}\r\n      >\r\n        <AddIcon />\r\n      </Fab>\r\n      <Dialog fullScreen open={open}\r\n        TransitionComponent={Transition} \r\n        aria-labelledby=\"form-dialog-title\"\r\n      >\r\n        <form onSubmit={handleFormSubmit} >\r\n        <div className={classes.root}>\r\n          <DialogTitle id=\"form-dialog-title\">\r\n            Add new {props.mode === \"collection\" ? props.mode : \"link\"}\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            {props.mode === \"collection\"\r\n              ? <>\r\n                  <TextField\r\n                    required\r\n                    multiline\r\n                    autoFocus\r\n                    className={classes.formInput}\r\n                    id=\"collection-name\"\r\n                    label=\"Collection name\"\r\n                    variant=\"outlined\"\r\n                    value={collectionName}\r\n                    onChange={handleCollectionNameInput}\r\n                    size=\"small\"\r\n                  />\r\n                  <TextField\r\n                    multiline\r\n                    className={classes.formInput}\r\n                    id=\"collection-desc\"\r\n                    label=\"Collection description\"\r\n                    variant=\"outlined\"\r\n                    value={collectionDesc}\r\n                    onChange={handleCollectionDescInput}\r\n                    size=\"small\"\r\n                  />\r\n              </> : <>\r\n                  <TextField\r\n                    multiline\r\n                    className={classes.formInput}\r\n                    id={\"link-title\"}\r\n                    label=\"Link title\"\r\n                    variant=\"outlined\"\r\n                    value={linkTitle}\r\n                    onChange={handleTitleInput}\r\n                    size=\"small\"\r\n                  />\r\n                  <TextField\r\n                    required\r\n                    multiline\r\n                    autoFocus\r\n                    type=\"url\"\r\n                    className={classes.formInput}\r\n                    id=\"link-url\"\r\n                    label=\"Link URL\"\r\n                    variant=\"outlined\"\r\n                    size=\"small\"\r\n                    value={linkUrl}\r\n                    onChange={handleUrlInput}\r\n                  />\r\n                  <TextField\r\n                    className={classes.formInput}\r\n                    id=\"link-in-folder-id\"\r\n                    select\r\n                    label=\"Collection\"\r\n                    value={linkInFolder}\r\n                    onChange={handleFolderSelect}\r\n                    variant=\"outlined\"\r\n                    size=\"small\"\r\n                  >\r\n                    {folders.map((option) => (\r\n                        <MenuItem \r\n                          key={option.folder_id} \r\n                          value={option.folder_id}\r\n                        >\r\n                          {option.folder_name}\r\n                        </MenuItem>\r\n                    ))}\r\n                  </TextField>\r\n                  {/* <Container style={{\r\n                    marginTop: 8,\r\n                    width: \"100%\",\r\n                    height: 200,\r\n                    objectFit: \"contain\",\r\n                  }}>\r\n                    Link image preview: \r\n                    <img width={\"100%\"} height={200} src={linkImg}></img>\r\n                  </Container> */}\r\n                </>\r\n            }\r\n          </DialogContent>\r\n          </div>\r\n          <Fab color=\"secondary\" aria-label=\"add\"\r\n            className={classes.fabAdd}\r\n            type=\"submit\"\r\n            variant=\"extended\"\r\n          >\r\n            <SaveIcon className={classes.icon} /> Save\r\n          </Fab>\r\n        </form>\r\n        <Snackbar\r\n          className={classes.snackBar}\r\n          anchorOrigin={{\r\n            vertical: 'bottom',\r\n            horizontal: 'left',\r\n          }}\r\n          open={snackbarOpen}\r\n          autoHideDuration={5000}\r\n          onClose={handleSnackbarClose}\r\n          message={snackbarMessage}\r\n          action={\r\n            <>\r\n              <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleSnackbarClose}>\r\n                <CloseIcon fontSize=\"small\" />\r\n              </IconButton>\r\n            </>\r\n          }\r\n        />\r\n        <BottomAppBar />\r\n      </Dialog>\r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\nfunction useDetails() {\r\n\tconst [folderDetails, setFolderDetails] = useState([])\r\n\r\n\tuseEffect(() => {\r\n    const unsubscribe = firebase\r\n\t\t\t.firestore()\r\n\t\t\t.collection(\"collections\")\r\n\t\t\t.onSnapshot((snapshot) => {\r\n\t\t\t\tconst newDetails = snapshot.docs.map((doc) => ({\r\n\t\t\t\t\tfolder_id: doc.id,\r\n\t\t\t\t\t...doc.data()\r\n\t\t\t\t}))\r\n\t\t\t\tsetFolderDetails(newDetails)\r\n\t\t\t})\r\n        \r\n      return () => unsubscribe()\r\n    }, [])\r\n    \r\n    return folderDetails\r\n}\r\n\r\nexport default FormDialog","import React, { useEffect, useState } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport { ACTIONS } from '../pages/Folder';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  snackBar: {\r\n\t\tposition: \"fixed\",\r\n\t\tbottom: theme.spacing(18)\r\n\t}\r\n}))\r\n\r\nconst Notifier = ({ dispatch, ...props }) => {\r\n\r\n  const classes = useStyles()\r\n\r\n  const [openSnackbar, setOpenSnackbar] = useState(props.open) \r\n  const [snackbarMessage, setSnackbarMessage] = useState(props.message)\r\n  const [snackbarUndoButton, setSnackbarUndoButton] = useState(props.undoButton)\r\n\r\n  useEffect(() => {\r\n    setOpenSnackbar(props.open)\r\n    setSnackbarMessage(props.message)\r\n    setSnackbarUndoButton(props.undoButton)\r\n  }, [props.open, props.message, props.undoButton])\r\n\r\n  return (\r\n    <Snackbar\r\n      className={classes.snackBar}\r\n      anchorOrigin={{\r\n        vertical: 'bottom',\r\n        horizontal: 'left',\r\n      }}\r\n      open={openSnackbar}\r\n      autoHideDuration={5000}\r\n      onClose={() => dispatch({ type: ACTIONS.CLOSE_SNACKBAR })}\r\n      message={snackbarMessage}\r\n      action={\r\n        <>\r\n          {snackbarUndoButton ? (\r\n            <Button \r\n              color=\"inherit\" \r\n              aria-label=\"undo-delete-link\" \r\n              onClick={() => dispatch({ type: ACTIONS.UNDO_DELETE })}\r\n            >\r\n              Undo\r\n            </Button>\r\n          ) : ( \"\" )}\r\n          <IconButton size=\"small\" aria-label=\"close-snackbar\" color=\"inherit\" \r\n            onClick={() => dispatch({ type: ACTIONS.CLOSE_SNACKBAR })}\r\n          >\r\n            <CloseIcon fontSize=\"small\" />\r\n          </IconButton>\r\n        </>\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\nexport default Notifier","import React, { useState, useEffect, useReducer } from 'react'\r\nimport { \r\n  makeStyles,\r\n  List, \r\n  ListItem,\r\n  ListItemAvatar,\r\n  ListItemText,\r\n  Avatar,\r\n  IconButton,\r\n  Grid,\r\n  Dialog,\r\n  AppBar,\r\n  Toolbar,\r\n  Slide,\r\n  Paper,\r\n  Typography\r\n} from \"@material-ui/core\"\r\n\r\nimport FolderIcon from '@material-ui/icons/Folder'\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\nimport SearchIcon from '@material-ui/icons/Search'\r\nimport MoreIcon from '@material-ui/icons/MoreVert'\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack'\r\n\r\nimport StackGrid from \"react-stack-grid\"\r\nimport firebase from \"../firebase\"\r\nimport Folder, { ACTIONS } from './Folder'\r\nimport Header from '../components/Header'\r\nimport FormDialog from '../components/FormDialog'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\n\r\nimport { SwipeableListItem, ActionAnimations } from '@sandstreamdev/react-swipeable-list'\r\nimport '@sandstreamdev/react-swipeable-list/dist/styles.css'\r\nimport EditFormDialog from '../components/EditFormDialog'\r\nimport Notifier from '../components/Snackbar'\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n\t\twidth: `calc(100vw - ${theme.spacing(4)}px)`,\r\n    margin: theme.spacing(10, 2, 18, 2),\r\n    zIndex: 0\r\n  },\r\n  title: {\r\n    margin: theme.spacing(4, 0, 2),\r\n  },\r\n  bottomAppBar: {\r\n    top: \"auto\",\r\n    bottom: 0\r\n  },\r\n  avatar: {\r\n    backgroundColor: theme.palette.secondary.main\r\n  },\r\n  folderIcon: {\r\n    color: theme.palette.primary.main\r\n  },\r\n  swipeRightContainer: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n    background: \"#ef5350\",\r\n    justifyContent: \"flex-start\",\r\n  },\r\n  swipeRightAction: {\r\n    display:\"flex\",\r\n    alignItems: \"center\",\r\n    color: \"#fff\",\r\n    alignContent: \"flex-start\"\r\n  },\r\n  swipeIcon: {\r\n    margin: theme.spacing(0, 1)\r\n  },\r\n  swipeLeftContainer: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n    background: \"#1976d2\",\r\n    justifyContent: \"flex-end\",\r\n  },\r\n  swipeLeftAction: {\r\n    display:\"flex\",\r\n    alignItems: \"center\",\r\n    color: \"#fff\",\r\n    alignContent: \"flex-end\",\r\n  },\r\n  snackBar: {\r\n\t\tposition: \"fixed\",\r\n\t\tbottom: theme.spacing(18)\r\n  },\r\n  listItem: {\r\n    background: theme.palette.background.paper\r\n  }\r\n}))\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"left\" ref={ref} {...props} />\r\n})\r\n\r\nexport const COLLECTION_ACTIONS = {\r\n  EDIT_FOLDER: \"edit-folder\",\r\n  OPEN_FOLDER: \"open-folder\",\r\n  DELETE_FOLDER: \"delete-folder\",\r\n  ADD_FOLDER: \"add-folder\",\r\n  CLOSE_FOLDER: \"close-folder\",\r\n  SAVE_UPDATED_FOLDER: \"save-updated-folder\"\r\n}\r\n\r\nconst collectionDispatch = (state, action) => {\r\n  switch (action.type) {\r\n    case COLLECTION_ACTIONS.EDIT_FOLDER: {\r\n      return {\r\n        ...state,\r\n        showForm: true,\r\n        folderData: action.payload.data\r\n      }\r\n    }\r\n    case COLLECTION_ACTIONS.OPEN_FOLDER: {\r\n      return {\r\n        ...state,\r\n        folderData: action.payload.data,\r\n        openFolder: true\r\n      }\r\n    }\r\n    case COLLECTION_ACTIONS.SAVE_UPDATED_FOLDER: {\r\n      return {\r\n        ...state,\r\n        openSnackbar: true,\r\n        snackbarMessage: action.payload.message,\r\n        snackbarUndoButton: false\r\n      }\r\n    }\r\n    case COLLECTION_ACTIONS.DELETE_FOLDER: {\r\n      firebase.firestore()\r\n        .collection(\"collections\")\r\n        .doc(action.payload.data.folder_id)\r\n        .delete()\r\n        .then(() =>\r\n          console.log(\"Collection successfully deleted\")\r\n        ).catch((err) =>\r\n          console.error(\"Error removing document: \", err)\r\n        )\r\n      return {\r\n        ...state,\r\n        folderData: action.payload.data,\r\n        openSnackbar: true,\r\n        snackbarMessage: \"Collection successfully deleted\",\r\n        snackbarUndoButton: true,\r\n      }\r\n    }\r\n    case COLLECTION_ACTIONS.ADD_FOLDER: {\r\n      return {\r\n        ...state,\r\n        openSnackbar: true,\r\n        snackbarUndoButton: false,\r\n        snackbarMessage: action.payload.message\r\n      }\r\n    }\r\n    case COLLECTION_ACTIONS.CLOSE_FOLDER: {\r\n      return {\r\n        ...state,\r\n        openFolder: false\r\n      }\r\n    }\r\n    case ACTIONS.UNDO_DELETE: {\r\n      firebase.firestore()\r\n        .collection(\"collections\")\r\n        .doc(state.folderData.folder_id)\r\n        .set({\r\n          folder_name: state.folderData.folder_name,\r\n          folder_desc: state.folderData.folder_desc\r\n        }).then(() => {\r\n          console.log(\"Collection restored\")\r\n        }).catch(err => {\r\n          console.error(\"Error restoring collection: \", err)\r\n        })\r\n\r\n      return {\r\n        ...state,\r\n        openSnackbar: true,\r\n        snackbarUndoButton: false,\r\n        snackbarMessage: \"Collection restored\"\r\n      }\r\n    }\r\n    case ACTIONS.CLOSE_SNACKBAR: {\r\n      return {\r\n        ...state,\r\n        openFolder: false,\r\n        openSnackbar: false\r\n      }\r\n    }\r\n    case ACTIONS.CLOSE_EDIT_FORM: {\r\n      return {\r\n        ...state,\r\n        showForm: false\r\n      }\r\n    }\r\n    default: return state\r\n  }\r\n}\r\n\r\nconst initialState = {\r\n  openFolder: false,\r\n  openSnackbar: false,\r\n  snackbarUndoButton: false,\r\n  snackbarMessage: \"\",\r\n  showForm: false,\r\n  folderData: {}\r\n}\r\n\r\nconst Collection = props => {\r\n\r\n  const classes = useStyles()\r\n  const folderData = useDetails()\r\n\r\n  const [state, dispatch] = useReducer(collectionDispatch, initialState)\r\n\r\n  const collections = folderData.map(folder =>\r\n    <Grid item key={folder.folder_id}>\r\n      <SwipeableListItem\r\n        swipeLeft={{\r\n          content:\r\n            <div className={classes.swipeLeftContainer}>\r\n              <div className={classes.swipeLeftAction}>\r\n                <Typography variant=\"subtitle2\">Edit</Typography>\r\n                <EditIcon fontSize=\"large\" className={classes.swipeIcon}/>                \r\n              </div>\r\n            </div>,\r\n          action: () => dispatch({ \r\n            type: COLLECTION_ACTIONS.EDIT_FOLDER,\r\n            payload: { data: folder }\r\n          }),\r\n          actionAnimation: ActionAnimations.RETURN\r\n        }}\r\n        swipeRight={{\r\n          content: \r\n            <div className={classes.swipeRightContainer}>\r\n              <div className={classes.swipeRightAction}>\r\n                <DeleteIcon fontSize=\"large\" className={classes.swipeIcon}/>\r\n                <Typography variant=\"subtitle2\">Delete</Typography>\r\n                \r\n              </div>\r\n            </div>,\r\n          action: () => dispatch({\r\n            type: COLLECTION_ACTIONS.DELETE_FOLDER,\r\n            payload: { data: folder }\r\n          }),\r\n          \r\n          actionAnimation: ActionAnimations.REMOVE\r\n        }}\r\n        blockSwipe={folder.editable !== undefined ? true : false}\r\n      >\r\n        <ListItem className={classes.listItem} \r\n          onClick={() => dispatch({\r\n            type: COLLECTION_ACTIONS.OPEN_FOLDER,\r\n            payload: { data: folder }\r\n          })}\r\n        >\r\n          <ListItemAvatar>\r\n            <Avatar className={classes.avatar}>\r\n              <FolderIcon className={classes.folderIcon} />\r\n            </Avatar>\r\n          </ListItemAvatar>\r\n          <ListItemText\r\n            primary={<Typography variant=\"subtitle1\">{folder.folder_name}</Typography>}\r\n            secondary={folder.folder_desc}\r\n          />\r\n        </ListItem>\r\n      </SwipeableListItem>\r\n    </Grid>\r\n  )\r\n\r\n  return (\r\n    <>\r\n      <Header title={\"Collection\"} onToggleTheme={props.onToggleTheme} />\r\n      <div className={classes.root}>\r\n        <Paper variant=\"outlined\" style={{borderRadius: 8}}>\r\n        <List>\r\n          <StackGrid \r\n            columnWidth=\"100%\"\r\n            gutterWidth={8}\r\n            gutterHeight={0}\r\n          >\r\n            {collections}\r\n          </StackGrid>\r\n        </List>\r\n        </Paper>\r\n        <Dialog fullScreen open={state.openFolder} TransitionComponent={Transition}>\r\n          <Folder id={state.folderData.folder_id} name={state.folderData.folder_name} />\r\n          <AppBar position=\"fixed\" color=\"secondary\" className={classes.bottomAppBar}>\r\n            <Toolbar>\r\n              <IconButton edge=\"start\" color=\"inherit\" aria-label=\"open drawer\"\r\n                onClick={() => dispatch({\r\n                  type: COLLECTION_ACTIONS.CLOSE_FOLDER\r\n                })}\r\n              >\r\n                <ArrowBackIcon />\r\n              </IconButton>\r\n              <IconButton color=\"inherit\">\r\n                <SearchIcon />\r\n              </IconButton>\r\n              <IconButton edge=\"end\" color=\"inherit\">\r\n                <MoreIcon />\r\n              </IconButton>\r\n            </Toolbar>\r\n          </AppBar>\r\n        </Dialog>\r\n      </div>\r\n      <Notifier\r\n        dispatch={dispatch}\r\n        open={state.openSnackbar}\r\n        message={state.snackbarMessage}\r\n        undoButton={state.snackbarUndoButton}\r\n      />\r\n      <FormDialog mode={\"collection\"} dispatch={dispatch} />\r\n      <EditFormDialog mode={\"collection\"} dispatch={dispatch} \r\n        edit={state.showForm}\r\n        collection_id={state.folderData.folder_id} \r\n        folder_name={state.folderData.folder_name} \r\n        folder_desc={state.folderData.folder_desc}\r\n      />\r\n    </>\r\n  )\r\n}\r\n\r\nfunction useDetails() {\r\n\tconst [folderDetails, setFolderDetails] = useState([])\r\n\r\n\tuseEffect(() => {\r\n\t\tconst unsubscribe = firebase\r\n\t\t\t.firestore()\r\n\t\t\t.collection(\"collections\")\r\n\t\t\t.onSnapshot((snapshot) => {\r\n\t\t\t\tconst newDetails = snapshot.docs.map((doc) => ({\r\n\t\t\t\t\tfolder_id: doc.id,\r\n\t\t\t\t\t...doc.data()\r\n\t\t\t\t}))\r\n\t\t\t\tsetFolderDetails(newDetails)\r\n\t\t\t})\r\n        \r\n      return () => unsubscribe()\r\n    }, [])\r\n    \r\n    return folderDetails\r\n}\r\n\r\nexport default Collection","import React, { useReducer } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport { makeStyles, AppBar, Toolbar } from '@material-ui/core';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport { useState, useEffect } from \"react\"\r\nimport { Slide } from \"@material-ui/core\"\r\n\r\nimport firebase from \"../firebase\"\r\nimport axios from \"axios\"\r\nimport cheerio from \"cheerio\"\r\n\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\nimport { ACTIONS } from '../pages/Folder';\r\nimport { COLLECTION_ACTIONS } from '../pages/Collection';\r\nimport Notifier from './Snackbar';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  fabAdd: {\r\n\t\tposition: \"fixed\",\r\n\t\tbottom: theme.spacing(9),\r\n\t\tright: theme.spacing(2),\r\n\t\tzIndex: 1000\r\n  },\r\n  formInput: {\r\n    width: \"100%\",\r\n    margin: theme.spacing(1,0)\r\n  },\r\n  root: {\r\n    padding: theme.spacing(8, 0, 18, 0)\r\n  },\r\n  icon: {\r\n    marginRight: theme.spacing(1)\r\n  },\r\n  bottomAppBar: {\r\n    top: \"auto\",\r\n    bottom: 0\r\n  },\r\n  snackBar: {\r\n\t\tposition: \"fixed\",\r\n\t\tbottom: theme.spacing(18)\r\n\t}\r\n}))\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"left\" ref={ref} {...props} />\r\n})\r\n\r\nconst formReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case ACTIONS.CLOSE_SNACKBAR: {\r\n      return {\r\n        ...state,\r\n        openSnackbar: false\r\n      }\r\n    }\r\n    case ACTIONS.SHOW_SNACKBAR: {\r\n      return {\r\n        ...state,\r\n        openSnackbar: true,\r\n        snackbarMessage: action.payload.message\r\n      }\r\n    }\r\n    default: return state\r\n  }\r\n}\r\n\r\nconst EditFormDialog = ({ dispatch, from,...props }) => {\r\n\r\n  const classes = useStyles()\r\n  const folders = useDetails()\r\n  \r\n  const initialState = {\r\n    openSnackbar: false,\r\n    snackbarUndoButton: false,\r\n    snackbarMessage: \"\",\r\n  }\r\n\r\n  const handleClose = () => {\r\n    resetFields()\r\n    setOpen(false)\r\n    dispatch({\r\n      type: ACTIONS.CLOSE_EDIT_FORM\r\n    })\r\n  }\r\n\r\n  const [linkInFolder, setLinkInFolder] = useState(props.folder_id)\r\n  const [linkTitle, setLinkTitle] = useState(props.link_title)\r\n  const [linkUrl, setLinkUrl] = useState(props.link_url)\r\n  const [linkImg, setLinkImg] = useState(props.link_img)\r\n  const [linkId, setLinkId] = useState(props.docId)\r\n  const [collectionId, setCollectionId] = useState(props.collection_id)\r\n  const [collectionName, setCollectionName] = useState(props.folder_name)\r\n  const [collectionDesc, setCollectionDesc] = useState(props.folder_desc)\r\n  const [open, setOpen] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setLinkInFolder(props.folder_id)\r\n    setLinkTitle(props.link_title)\r\n    setLinkUrl(props.link_url)\r\n    setLinkImg(props.link_img)\r\n    setLinkId(props.docId)\r\n    setOpen(props.edit)\r\n    setCollectionId(props.collection_id)\r\n    setCollectionName(props.folder_name)\r\n    setCollectionDesc(props.folder_desc)\r\n  }, [\r\n    props.folder_id,\r\n    props.link_title,\r\n    props.link_url,\r\n    props.link_img,\r\n    props.edit,\r\n    props.docId,\r\n    props.collection_id,\r\n    props.folder_name,\r\n    props.folder_desc\r\n  ])\r\n\r\n  const [state, formDispatch] = useReducer(formReducer, initialState)\r\n\r\n  const handleFormSubmit = e => {\r\n\r\n    e.preventDefault()\r\n    switch(props.mode) {\r\n      case \"collection\": {\r\n        firebase.firestore()\r\n        .collection(\"collections\")\r\n        .doc(collectionId)\r\n        .update({\r\n          folder_name: collectionName,\r\n          folder_desc: collectionDesc\r\n        }).then(() => {\r\n          dispatch({\r\n            type: COLLECTION_ACTIONS.SAVE_UPDATED_FOLDER,\r\n            payload: { message: \"Collection successfully updated\" }\r\n          })\r\n          console.log(\"Collection successfully updated\")\r\n        }).catch(err => {\r\n          dispatch({\r\n            type: COLLECTION_ACTIONS.SAVE_UPDATED_FOLDER,\r\n            payload: { message: \"Error updating collection\" }\r\n          })\r\n          console.error(\"Error adding collection: \", err)\r\n        })\r\n        break\r\n      }\r\n      default: {\r\n        if (from === \"folder\") {\r\n          firebase.firestore()\r\n          .collection(\"links\")\r\n          .doc(linkId)\r\n          .update({\r\n            link_title: linkTitle,\r\n            link_url: linkUrl,\r\n            folder_id: linkInFolder,\r\n            link_img: linkImg,\r\n            date_added: new Date()\r\n          }).then(() => {\r\n            dispatch({\r\n              type: ACTIONS.ADD_LINK,\r\n              payload: { message: \"Link successfully updated\" }\r\n            })\r\n            console.log(\"Link successfully updated\")\r\n          }).catch(err => {\r\n            dispatch({\r\n              type: ACTIONS.ADD_LINK,\r\n              payload: { message: \"Error updating link\" }\r\n            })\r\n            console.error(\"Error updating link on database: \", err)\r\n          })\r\n        } else {\r\n          firebase.firestore()\r\n          .collection(\"links\")\r\n          .add({\r\n            link_title: linkTitle,\r\n            link_url: linkUrl,\r\n            folder_id: linkInFolder,\r\n            link_img: linkImg,\r\n            date_added: new Date()\r\n          }).then(() => {\r\n            dispatch({\r\n              type: ACTIONS.ADD_LINK,\r\n              payload: { message: \"Link added to your library\" }\r\n            })\r\n            console.log(\"Link added to library\")\r\n          }).catch(err => {\r\n            dispatch({\r\n              type: ACTIONS.ADD_LINK,\r\n              payload: { message: \"Error adding link to library\" }\r\n            })\r\n            console.error(\"Error adding link to library: \", err)\r\n          })\r\n        }\r\n      }\r\n    }\r\n    resetFields()\r\n    setOpen(false)\r\n    \r\n  }\r\n\r\n  function resetFields() {\r\n    setLinkInFolder(linkInFolder)\r\n    setLinkTitle(\"\")\r\n    setLinkUrl(\"\")\r\n    setCollectionName(\"\")\r\n    setCollectionDesc(\"\")\r\n  }\r\n\r\n  const handleGetDetails = (url) => {\r\n    axios.get(\"https://cors-anywhere.herokuapp.com/\" + url)\r\n      .then(\r\n        res => {\r\n          console.log(res.data)\r\n          const $ = cheerio.load(res.data)\r\n          let title = $(\"meta[property='og:title']\").attr(\"content\")\r\n          if(title === undefined) title = $('title')[0].children[0].data\r\n          if(title === undefined) title = \"\"\r\n          let img = $(\"meta[property='og:image']\").attr(\"content\")\r\n          if(img === undefined) img = $(\"meta[property='twitter:image']\").attr(\"content\")\r\n          if(img === undefined) {\r\n            $(\"img\").each((i, link) => {\r\n              if(/^https:\\/\\//.test(link.attribs.src)) {\r\n                img = link.attribs.src\r\n              }\r\n            })\r\n          }\r\n          if(img === undefined) img = \"\"\r\n          \r\n          setLinkImg(img)\r\n          setLinkTitle(title)\r\n          formDispatch({\r\n            type: ACTIONS.CLOSE_SNACKBAR\r\n          })\r\n      }).catch(err => {\r\n        console.log(\"THIS IS ERROR: \", err)\r\n        formDispatch({\r\n          type: ACTIONS.SHOW_SNACKBAR,\r\n          payload: { message: \"Link invalid or not found\" }\r\n        })\r\n      })\r\n  }\r\n\r\n  const BottomAppBar = () => {\r\n    return (\r\n      <AppBar position=\"fixed\" color=\"secondary\" className={classes.bottomAppBar}>\r\n        <Toolbar>\r\n          {/* {props.mode === \"link\" ? (\r\n            <Button className={classes.icon} onClick={() => handleGetDetails(linkUrl)} >\r\n              <DescriptionIcon className={classes.icon} /> Get details\r\n            </Button>\r\n          ) : ( \"\" )} */}\r\n          <Button onClick={handleClose} >\r\n            <CancelIcon className={classes.icon} /> Cancel\r\n          </Button>\r\n        </Toolbar>\r\n      </AppBar>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Dialog fullScreen open={open}\r\n        TransitionComponent={Transition} \r\n        aria-labelledby=\"form-dialog-title\"\r\n      >\r\n        <form onSubmit={handleFormSubmit} >\r\n        <div className={classes.root}>\r\n          <DialogTitle id=\"form-dialog-title\">\r\n            Edit {props.mode === \"collection\" ? props.mode : \"link\"}\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            {props.mode === \"collection\"\r\n              ? <>\r\n                <TextField required multiline\r\n                  className={classes.formInput} size=\"small\" variant=\"outlined\"\r\n                  id=\"collection-name\" label=\"Collection name\"\r\n                  value={collectionName}\r\n                  onChange={e => setCollectionName(e.target.value)}\r\n                />\r\n                <TextField multiline\r\n                  className={classes.formInput} size=\"small\" variant=\"outlined\"\r\n                  id=\"collection-desc\" label=\"Collection description\"\r\n                  value={collectionDesc}\r\n                  onChange={e => setCollectionDesc(e.target.value)}\r\n                />\r\n              </> : <>\r\n                <TextField multiline\r\n                  className={classes.formInput} size=\"small\" variant=\"outlined\" \r\n                  id={\"link-title\"} label=\"Link title\"\r\n                  value={linkTitle}\r\n                  onChange={e => setLinkTitle(e.target.value)}\r\n                />\r\n                <TextField required multiline type=\"url\" \r\n                  className={classes.formInput} variant=\"outlined\" size=\"small\"\r\n                  id=\"link-url\" label=\"Link URL\"\r\n                  value={linkUrl}\r\n                  onChange={e => {\r\n                    setLinkUrl(e.target.value)\r\n                    dispatch({\r\n                      type: ACTIONS.SHOW_SNACKBAR,\r\n                      payload: { message: \"Getting link details\" }\r\n                    })\r\n                    handleGetDetails(e.target.value !== undefined ? e.target.value : \"\")\r\n                  }}\r\n                />\r\n                <TextField select \r\n                  className={classes.formInput} size=\"small\" variant=\"outlined\"\r\n                  id=\"link-in-folder-id\" label=\"Collection\"\r\n                  value={linkInFolder}\r\n                  onChange={e => setLinkInFolder(e.target.value)}\r\n                >\r\n                  {folders.map((option) => (\r\n                      <MenuItem \r\n                        key={option.folder_id} \r\n                        value={option.folder_id}\r\n                      >\r\n                        {option.folder_name}\r\n                      </MenuItem>\r\n                  ))}\r\n                </TextField>\r\n              </>\r\n            }\r\n          </DialogContent>\r\n          </div>\r\n          <Fab color=\"secondary\" aria-label=\"add\"\r\n            className={classes.fabAdd}\r\n            type=\"submit\"\r\n            variant=\"extended\"\r\n          >\r\n            <SaveIcon className={classes.icon} /> Save\r\n          </Fab>\r\n        </form>\r\n        <Notifier\r\n          dispatch={formDispatch}\r\n          open={state.openSnackbar}\r\n          message={state.snackbarMessage}\r\n          undoButton={state.snackbarUndoButton}\r\n        />\r\n        <BottomAppBar />\r\n      </Dialog>\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\nfunction useDetails() {\r\n\tconst [folderDetails, setFolderDetails] = useState([])\r\n\r\n\tuseEffect(() => {\r\n    const unsubscribe = firebase\r\n\t\t\t.firestore()\r\n\t\t\t.collection(\"collections\")\r\n\t\t\t.onSnapshot((snapshot) => {\r\n\t\t\t\tconst newDetails = snapshot.docs.map((doc) => ({\r\n\t\t\t\t\tfolder_id: doc.id,\r\n\t\t\t\t\t...doc.data()\r\n\t\t\t\t}))\r\n\t\t\t\tsetFolderDetails(newDetails)\r\n\t\t\t})\r\n        \r\n      return () => unsubscribe()\r\n    }, [])\r\n    \r\n    return folderDetails\r\n}\r\n\r\nexport default EditFormDialog","import React, { useState, useEffect, useReducer } from \"react\"\r\nimport axios from \"axios\"\r\nimport LinkCard from \"../components/LinkCards\"\r\nimport { GridList, GridListTile, makeStyles, Typography } from \"@material-ui/core\"\r\nimport EditFormDialog from \"./EditFormDialog\"\r\nimport { ACTIONS } from \"../pages/Folder\"\r\nimport Notifier from \"./Snackbar\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  gridListHolder: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'space-around',\r\n    overflow: 'hidden',\r\n\r\n  },\r\n  gridList: {\r\n    flexWrap: \"nowrap\",\r\n    padding: theme.spacing(0,2,1,2),\r\n  },\r\n  discoverHeader: {\r\n    padding: theme.spacing(0,2)\r\n  },\r\n  containerWrapper: {\r\n    margin: theme.spacing(2,0)\r\n  }\r\n}))\r\n\r\nexport const DISCOVER_ACTIONS = {\r\n  ADD_TO_LIBRARY: \"add-to-library\",\r\n  SAVE_TO_LIBRARY: \"save-to-library\"\r\n}\r\n\r\nconst discoverDispatch = (state, action) => {\r\n  switch (action.type) {\r\n    case DISCOVER_ACTIONS.ADD_TO_LIBRARY: {\r\n      return {\r\n        ...state,\r\n        showForm: true,\r\n        clickedLinkData: action.payload.data\r\n      }\r\n    }\r\n    case ACTIONS.ADD_LINK: {\r\n      return {\r\n        ...state,\r\n        showForm: false,\r\n        openSnackbar: true,\r\n        snackbarMessage: action.payload.message\r\n      }\r\n    }\r\n    case ACTIONS.CLOSE_EDIT_FORM: {\r\n      return {\r\n        ...state,\r\n        showForm: false\r\n      }\r\n    }\r\n    case ACTIONS.CLOSE_SNACKBAR: {\r\n      return {\r\n        ...state,\r\n        openSnackbar: false\r\n      }\r\n    }\r\n    case ACTIONS.COPY_LINK: {\r\n      return {\r\n        ...state,\r\n        openSnackbar: true,\r\n        snackbarMessage: action.payload.message,\r\n      }\r\n    }\r\n    default: return state\r\n  }\r\n}\r\n\r\nconst initialState = {\r\n  showForm: false,\r\n  openSnackbar: false,\r\n  snackbarUndoButton: false,\r\n  snackbarMessage: \"\",\r\n  clickedLinkData: {}\r\n}\r\n\r\nconst DiscoverProvider = ({ title, query }) => {\r\n\r\n  const classes = useStyles()\r\n  /* const newsProviderApi = \"https://newsapi.org/v2/\" */\r\n  const newsProviderApi = \"https://api.currentsapi.services/v1/\"\r\n  /* const apiKey = \"&apiKey=28bc2e36c58a4e4cbe1cc35c93fd54fa\" */\r\n  const apiKey = \"apiKey=-V2Sp7WAWXtgTlbqlnRQiPwCaBnSviDzx2nzkIOmxAs1QHEl\"\r\n\r\n  const [state, dispatch] = useReducer(discoverDispatch, initialState)\r\n\r\n  const useNews = () => {\r\n    const [news, setNews] = useState([])\r\n    useEffect(() => {\r\n      const unsubscribe = axios.get(newsProviderApi + query + apiKey)\r\n        .then(res => {\r\n          console.log({res})\r\n          setNews(res.data.news)\r\n        }).catch(err => {\r\n          console.log({err})\r\n        })\r\n      return () => unsubscribe\r\n      // TO-DO: PROPER CLEANUP\r\n    }, [])\r\n\r\n    return news\r\n  }\r\n\r\n  const articles = useNews()\r\n  const articleCards = articles.map(article => (\r\n    <GridListTile key={article.url}>\r\n      <LinkCard\r\n        data={{\r\n          link_title: article.title,\r\n          link_url: article.url,\r\n          link_img: article.image\r\n        }}\r\n        dispatch={dispatch}\r\n      />\r\n    </GridListTile>\r\n  ))\r\n\r\n  return (\r\n    <>\r\n      <div className={classes.containerWrapper} >\r\n        <div className={classes.discoverHeader}>\r\n          <Typography variant=\"h6\" gutterBottom>\r\n            {title}\r\n          </Typography>\r\n        </div>\r\n        <div className={classes.gridListHolder} >\r\n          <GridList className={classes.gridList} cols={1.5} cellHeight={\"auto\"} spacing={8}>\r\n            {articleCards}\r\n          </GridList>\r\n        </div>\r\n      </div>\r\n      <Notifier \r\n        dispatch={dispatch}\r\n        open={state.openSnackbar}\r\n        message={state.snackbarMessage}\r\n        undoButton={state.snackbarUndoButton}\r\n      />\r\n      <EditFormDialog mode={\"link\"} from={\"discover\"}\r\n        dispatch={dispatch} edit={state.showForm} {...state.clickedLinkData} />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default DiscoverProvider","import React from \"react\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\nimport { Card,\r\n\tCardActionArea,\r\n\tCardActions,\r\n\tCardContent,\r\n\tCardMedia,\r\n\tTypography\r\n} from \"@material-ui/core\"\r\nimport DeleteIcon from \"@material-ui/icons/Delete\"\r\nimport EditIcon from \"@material-ui/icons/Edit\"\r\nimport LinkIcon from '@material-ui/icons/Link'\r\nimport LaunchIcon from '@material-ui/icons/Launch'\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert'\r\nimport IconButton from \"@material-ui/core/IconButton\"\r\nimport AddIcon from '@material-ui/icons/Add'\r\n\r\nimport { CopyToClipboard } from 'react-copy-to-clipboard'\r\nimport { ACTIONS, CARD_TYPE } from \"../pages/Folder.js\"\r\nimport { DISCOVER_ACTIONS } from \"./DiscoverProvider\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tcardContainer: {\r\n\t\tbackground: theme.palette.background.paper,\r\n\t\twidth: \"100%\",\r\n\t\theight: \"100%\",\r\n\t\tborderColor: theme.palette.primary.light,\r\n\t\tborderRadius: theme.spacing(1),\r\n\t},\r\n\tcardContent: {\r\n\t\tlineHeight: 1.25,\r\n\t\ttextOverflow: \"ellipsis\"\r\n\t}\r\n}))\r\n\r\n\r\nconst LinkCard = ({ dispatch, data, type,...props }) => {\r\n\r\n\tconst classes = useStyles()\r\n\tlet hostName = getHostName(data.link_url)\r\n\tconst linkDetails = {\r\n\t\tlink_title: data.link_title,\r\n\t\tlink_url: data.link_url,\r\n\t\tfolder_id: data.folder_id,\r\n\t\tlink_img: data.link_img,\r\n\t\tdate_added: data.date_added\r\n\t}\r\n\r\n\tconst getCardMenuItems = () => {\r\n\t\treturn (\r\n\t\t\t<CardActions>\r\n\t\t\t\t{type === CARD_TYPE.REGULAR\r\n\t\t\t\t\t? ( <>\r\n\t\t\t\t\t\t<IconButton size=\"small\" color=\"primary\"\r\n\t\t\t\t\t\t\tonClick={() => dispatch({ \r\n\t\t\t\t\t\t\t\ttype: ACTIONS.EDIT_LINK,\r\n\t\t\t\t\t\t\t\tpayload: { data: { docId: data.link_id, ...linkDetails } }\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t<IconButton size=\"small\" color=\"primary\"\r\n\t\t\t\t\t\t\tonClick={() => dispatch({\r\n\t\t\t\t\t\t\t\ttype: ACTIONS.DELETE_LINK,\r\n\t\t\t\t\t\t\t\tpayload: { id: data.link_id, data: linkDetails }\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</> ) : ( \r\n\t\t\t\t\t\t<IconButton size=\"small\" color=\"primary\"\r\n\t\t\t\t\t\t\tonClick={() => dispatch({ \r\n\t\t\t\t\t\t\t\ttype: DISCOVER_ACTIONS.ADD_TO_LIBRARY,\r\n\t\t\t\t\t\t\t\tpayload: { data: { ...data, folder_id: \"3ppmoaOw6ANJk10oWmhh\" } }\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<AddIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t<CopyToClipboard text={data.link_url} \r\n\t\t\t\t\tonCopy={() => dispatch({ \r\n\t\t\t\t\t\ttype: ACTIONS.COPY_LINK, \r\n\t\t\t\t\t\tpayload: { message: \"Link URL copied to clipboard\" } \r\n\t\t\t\t\t})}\r\n\t\t\t\t>\r\n\t\t\t\t\t<IconButton size=\"small\" color=\"primary\">\r\n\t\t\t\t\t\t<LinkIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</CopyToClipboard>\r\n\t\t\t\t<IconButton size=\"small\" color=\"primary\"\r\n\t\t\t\t\tonClick={e => {\r\n\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\twindow.open(data.link_url, \"_blank\")\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<LaunchIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t\t<IconButton size=\"small\" color=\"primary\" disabled\r\n\t\t\t\t\tonClick={() => alert(\"HEY\")}>\r\n\t\t\t\t\t<MoreVertIcon />\r\n\t\t\t\t</IconButton>\r\n\t\t\t</CardActions>\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Card variant=\"outlined\" className={classes.cardContainer} >\r\n\t\t\t<CardActionArea>\r\n\t\t\t\t{data.link_img !== \"None\" \r\n\t\t\t\t\t? (\r\n\t\t\t\t\t\t<CardMedia\r\n\t\t\t\t\t\t\tcomponent=\"img\"\r\n\t\t\t\t\t\t\talt={data.link_img}\r\n\t\t\t\t\t\t\timage={data.link_img}\r\n\t\t\t\t\t\t\ttitle={data.link_title}\r\n\t\t\t\t\t\t\theight={type === CARD_TYPE.REGULAR ? \"auto\" : 120}\r\n\t\t\t\t\t\t/> \r\n\t\t\t\t\t) : ( \"\" )\r\n\t\t\t\t}\r\n\t\t\t\t<CardContent>\r\n\t\t\t\t\t<Typography variant=\"overline\">\r\n\t\t\t\t\t\t{hostName}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography className={classes.cardContent} variant=\"subtitle1\" gutterBottom>\r\n\t\t\t\t\t\t{data.link_title}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography noWrap className={classes.cardContent} variant=\"caption\" gutterBottom>\r\n\t\t\t\t\t\t{data.link_url}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</CardContent>\r\n\t\t\t</CardActionArea>\r\n\t\t\t{getCardMenuItems()}\r\n\t\t</Card>\r\n\t)\r\n}\r\n\r\nconst getHostName = url => {\r\n\tconst matches = url.match(/^https?:\\/\\/(www.)?([^/?#]+)(?:[/?#]|$)/i)\r\n\treturn matches && matches[2]\r\n}\r\n\r\nexport default LinkCard","import React, { useReducer } from \"react\"\r\nimport { useState, useEffect } from \"react\"\r\nimport firebase from \"../firebase\"\r\nimport { Grid, makeStyles, Typography, Container } from \"@material-ui/core\"\r\nimport StackGrid from \"react-stack-grid\"\r\nimport LinkCard from \"../components/LinkCards\"\r\n\r\nimport FormDialog from \"../components/FormDialog\"\r\nimport EditFormDialog from \"../components/EditFormDialog\"\r\nimport Notifier from \"../components/Snackbar\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n\t\twidth: `calc(100vw - ${theme.spacing(2)}px)`,\r\n    margin: theme.spacing(10,1,18,1)\r\n  },\r\n  folderNameHeader: {\r\n    background: theme.palette.background.paper,\r\n    position: \"sticky\",\r\n    top: theme.spacing(7),\r\n    zIndex: 5,\r\n    paddingTop: theme.spacing(2)\r\n  },\r\n  snackBar: {\r\n\t\tposition: \"fixed\",\r\n\t\tbottom: theme.spacing(18)\r\n\t}\r\n}))\r\n\r\nexport const ACTIONS = {\r\n  ADD_LINK: \"add-link\",\r\n  COPY_LINK: \"copy-link\",\r\n  EDIT_LINK: \"edit-link\",\r\n  DELETE_LINK: \"delete-link\",\r\n  UNDO_DELETE: \"undo-delete-link\",\r\n  SHOW_SNACKBAR: \"show-snackbar\",\r\n  CLOSE_SNACKBAR: \"close-snackbar\",\r\n  CLOSE_EDIT_FORM: \"close-edit-form\"\r\n}\r\n\r\nexport const CARD_TYPE = {\r\n  REGULAR: \"regular-link-card\",\r\n  DISCOVER: \"discover-link-card\"\r\n}\r\n\r\nconst linkCardsReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case ACTIONS.ADD_LINK: {\r\n      return {\r\n        ...state,\r\n        snackbarUndoButton: false,\r\n        openSnackbar: true,\r\n        snackbarMessage: action.payload.message,\r\n        showForm: false\r\n      }\r\n    }\r\n    case ACTIONS.COPY_LINK: {\r\n      return {\r\n        ...state,\r\n        snackbarUndoButton: false,\r\n        openSnackbar: true,\r\n        snackbarMessage: action.payload.message\r\n      }\r\n    }\r\n    case ACTIONS.EDIT_LINK: {\r\n      return {\r\n        ...state,\r\n        showForm: true,\r\n        clickedLinkData: action.payload.data\r\n      }\r\n    }\r\n    case ACTIONS.DELETE_LINK: {\r\n      firebase.firestore()\r\n        .collection(\"links\")\r\n        .doc(action.payload.id)\r\n        .delete()\r\n        .then(() => {\r\n          console.log(\"Success\")\r\n        }).catch((err) => {\r\n          console.error(\"Error removing document: \", err)\r\n        })\r\n      \r\n      return {\r\n        snackbarMessage: \"Link successfully deleted\",\r\n        openSnackbar: true,\r\n        showForm: false,\r\n        clickedLinkData: action.payload.data,\r\n        snackbarUndoButton: true\r\n      }\r\n    }\r\n    case ACTIONS.UNDO_DELETE: {\r\n      firebase.firestore()\r\n        .collection(\"links\")\r\n        .add(state.clickedLinkData)\r\n        .then(() => console.log(\"Link delete undone\"))\r\n        .catch(err => console.error(\"Error encountered: \", err))\r\n      \r\n      return {\r\n        ...state,\r\n        openSnackbar: true,\r\n        snackbarUndoButton: false,\r\n        snackbarMessage: \"Link restored\"\r\n      }\r\n    }\r\n    case ACTIONS.CLOSE_SNACKBAR: {\r\n      return {\r\n        ...state,\r\n        openSnackbar: false\r\n      }\r\n    }\r\n    case ACTIONS.CLOSE_EDIT_FORM: {\r\n      return {\r\n        ...state,\r\n        showForm: false\r\n      }\r\n    }\r\n    default: return state\r\n  }\r\n}\r\n\r\nconst initialState = {\r\n  openSnackbar: false,\r\n  showForm: false,\r\n  snackbarMessage: \"\",\r\n  snackbarUndoButton: false,\r\n  clickedLinkData: {}\r\n}\r\n\r\nconst Folder = ({ id, name, ...props}) => {\r\n\r\n  const classes = useStyles()\r\n  const [state, dispatch] = useReducer(linkCardsReducer, initialState)\r\n\r\n  const linkData = useDetails(id, props.fetchAll)\r\n  const links = linkData.map(link => (\r\n    <Grid item key={link.link_id}>\r\n      <LinkCard\r\n        data={link}\r\n        type={CARD_TYPE.REGULAR}\r\n        dispatch={dispatch}\r\n      />\r\n    </Grid>\r\n  ))\r\n  \r\n  const size = useWindowSize()\r\n    \r\n  return (\r\n    <>\r\n      {props.showHeader === undefined ? (\r\n          <Container className={classes.folderNameHeader}>\r\n            <Typography variant=\"h6\" gutterBottom>{name}</Typography>\r\n          </Container>\r\n        ) : ( \"\" )\r\n      }\r\n      <div className={classes.root} >\r\n        <StackGrid \r\n          monitorImagesLoaded={true}\r\n          columnWidth={size.width <= 320 ? size.width-16 : 165}\r\n          gutterWidth={8}\r\n          gutterHeight={8}\r\n        >\r\n          {links}\r\n        </StackGrid>\r\n        <Notifier \r\n          dispatch={dispatch}\r\n          open={state.openSnackbar}\r\n          message={state.snackbarMessage}\r\n          undoButton={state.snackbarUndoButton}\r\n        />\r\n      </div>\r\n      <FormDialog mode={\"link\"} dispatch={dispatch} defaultFolder={id}/>\r\n      <EditFormDialog mode={\"link\"} from={\"folder\"} dispatch={dispatch}\r\n        edit={state.showForm} {...state.clickedLinkData} />\r\n    </>\r\n  )\r\n}\r\n\r\nfunction useWindowSize() {\r\n  // Initialize state with undefined width/height so server and client renders match\r\n  // Learn more here: https://joshwcomeau.com/react/the-perils-of-rehydration/\r\n  const [windowSize, setWindowSize] = useState({\r\n      width: undefined,\r\n      height: undefined,\r\n  })\r\n\r\n  useEffect(() => {\r\n      // Handler to call on window resize\r\n      function handleResize() {\r\n      // Set window width/height to state\r\n          setWindowSize({\r\n              width: window.innerWidth,\r\n              height: window.innerHeight,\r\n          })\r\n      }\r\n      // Add event listener\r\n      window.addEventListener(\"resize\", handleResize)\r\n      // Call handler right away so state gets updated with initial window size\r\n      handleResize()\r\n      // Remove event listener on cleanup\r\n      return () => window.removeEventListener(\"resize\", handleResize)\r\n  }, []) // Empty array ensures that effect is only run on mount\r\n\r\n  return windowSize\r\n}\r\n\r\nfunction useDetails(id, fetchAll) {\r\n\r\n\tconst [linkDetails, setLinkDetails] = useState([])\r\n\r\n\tuseEffect(() => {\r\n    const linkRef = firebase.firestore().collection(\"links\")\r\n    if(fetchAll === true) {\r\n      linkRef.orderBy(\"date_added\", \"desc\").onSnapshot((snapshot) => {\r\n\t\t\t\tconst newDetails = snapshot.docs.map((doc) => ({\r\n\t\t\t\t\tlink_id: doc.id,\r\n\t\t\t\t\t...doc.data()\r\n\t\t\t\t}))\r\n\t\t\t\tsetLinkDetails(newDetails)\r\n\t\t\t})\r\n    } else {\r\n      linkRef.where(\"folder_id\", \"==\", id)\r\n      .onSnapshot(snapshot => {\r\n        const newDetails = snapshot.docs.map((doc) => ({\r\n          link_id: doc.id,\r\n          ...doc.data()\r\n        }))\r\n        setLinkDetails(newDetails)\r\n      })\r\n    }\r\n    return () => linkRef\r\n  }, [id, fetchAll])\r\n\r\n  // TO-DO: CLEANUP FUNCTION\r\n  \r\n  console.log(\"Function useDetails() in Folder.js called\")\r\n\t\r\n\treturn linkDetails\r\n}\r\n\r\nexport default Folder","import React from \"react\"\r\nimport Header from \"../components/Header\"\r\nimport Folder from \"./Folder\"\r\n\r\nconst Home = props => {\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Header title={\"Link library\"} onToggleTheme={props.onToggleTheme}/>\r\n\t\t\t<Folder id={\"3ppmoaOw6ANJk10oWmhh\"} fetchAll={true} showHeader={false} />\r\n\t\t</>\r\n\t)\r\n\t// TO-DO: REMOVE HARDCODED DEFAULT ID\r\n}\r\n\r\nexport default Home","import React, {  } from \"react\"\r\nimport { makeStyles } from \"@material-ui/core\"\r\nimport Header from \"../components/Header\"\r\nimport DiscoverProvider from \"../components/DiscoverProvider\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: \"100%\",\r\n    margin: theme.spacing(10,0)\r\n  },\r\n  gridListHolder: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'space-around',\r\n    overflow: 'hidden',\r\n\r\n  },\r\n  gridList: {\r\n    flexWrap: \"nowrap\",\r\n    padding: theme.spacing(0,1)\r\n  }\r\n}))\r\n\r\nconst Discover = props => {\r\n\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <>\r\n      <Header title={\"Discover\"} onToggleTheme={props.onToggleTheme}/>\r\n      <div className={classes.root} >\r\n        <DiscoverProvider\r\n          title={\"Philippines News\"}\r\n          query={\"latest-news?country=ph&\"}\r\n        />\r\n        <DiscoverProvider\r\n          title={\"World News\"}\r\n          query={\"latest-news?language=en&\"}\r\n        />\r\n        <DiscoverProvider\r\n          title={\"Politics\"}\r\n          query={\"search?category=politics&\"}\r\n        />\r\n        <DiscoverProvider\r\n          title={\"Technology\"}\r\n          query={\"search?category=technology&\"}\r\n        />\r\n        <DiscoverProvider\r\n          title={\"Gadgets\"}\r\n          query={\"search?category=gadgets&\"}\r\n        />\r\n        <DiscoverProvider\r\n          title={\"Science\"}\r\n          query={\"search?category=science&\"}\r\n        />\r\n        {/* <DiscoverProvider \r\n          title={\"Philippines Headlines\"}\r\n          query={\"everything?domains=rappler.com,philstar.com,abs-cbn.com,bworldonline.com,interaksyon.com&pageSize=30\"}\r\n        />\r\n        <DiscoverProvider \r\n          title={\"World Headlines\"}\r\n          query={\"top-headlines?sources=al-jazeera-english,bbc-news,cnn,associated-press,reuters,time&pageSize=30\"} \r\n        />\r\n        <DiscoverProvider \r\n          title={\"Coronavirus update\"}\r\n          query={\"everything?q=covid-19+coronavirus\"} \r\n        />\r\n        <DiscoverProvider \r\n          title={\"News analysis and opinion\"}\r\n          query={\"top-headlines?sources=politico,axios,vice-news\"} \r\n        />\r\n        <DiscoverProvider\r\n          title={\"Science and Technology\"}\r\n          query={\"top-headlines?sources=engadget,hacker-news,the-verge,techradar,techcrunch,recode,national-geographic,ign,new-scientist&pageSize=30\"} \r\n        />\r\n        <DiscoverProvider\r\n          title={\"Culture and entertainment\"}\r\n          query={\"top-headlines?sources=buzzfeed,mashable,mtv-news\"} \r\n        /> */}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Discover","import React from \"react\"\r\nimport Discover from \"./Discover\"\r\n\r\nconst Favorites = () => {\r\n    return (\r\n        <>\r\n            {/* <Header title={\"Favorites\"} onToggleTheme={props.onToggleTheme} /> */}\r\n            <Discover />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Favorites","import { createMuiTheme } from '@material-ui/core/styles'\r\n\r\nexport const lightTheme = createMuiTheme({\r\n  palette: {\r\n\t\tbackground: {\r\n\t\t\tdefault: \"#dadada\"\r\n\t\t},\r\n    primary: {\r\n      light: '#e0e0e0',\r\n      main: '#37474f',\r\n      dark: '#102027',\r\n      contrastText: '#fff',\r\n    },\r\n    secondary: {\r\n      light: '#ffffa6',\r\n      main: '#dce775',\r\n      dark: '#a8b545',\r\n      contrastText: '#000',\r\n    },\r\n\t},\r\n\ttypography: {\r\n\t\tfontSize: 12,\r\n\t\tsubtitle1: {\r\n\t\t\tfontWeight: 700,\r\n\t\t\tcolor: \"#37474f\"\r\n\t\t},\r\n\t\th5: {\r\n\t\t\tfontWeight: 900,\r\n\t\t\tletterSpacing: \"0.04rem\"\r\n\t\t},\r\n\t\th6: {\r\n\t\t\tfontWeight: 900,\r\n\t\t\tcolor: '#37474f',\r\n\t\t\tletterSpacing: \"0.03rem\",\r\n\t\t\ttextTransform: \"uppercase\"\r\n\t\t}\r\n\t},\r\n\toverrides: {\r\n\t\tMuiBottomNavigationAction: {\r\n\t\t\troot: {\r\n\t\t\t\tcolor: \"#62727b\",\r\n\t\t\t\t\"&$selected\": {\r\n\t\t\t\t\tcolor: \"#dce775\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n})\r\n\r\nexport const darkTheme = createMuiTheme({\r\n  palette: {\r\n\t\tbackground: {\r\n      default: \"#424242\",\r\n      paper: \"#333\"\r\n\t\t},\r\n    primary: {\r\n      light: '#484848',\r\n      main: '#212121',\r\n      dark: '#000000',\r\n      contrastText: '#fff',\r\n    },\r\n    secondary: {\r\n      light: '#ffffa6',\r\n      main: '#dce775',\r\n      dark: '#a8b545',\r\n      contrastText: '#000',\r\n    },\r\n\t},\r\n\ttypography: {\r\n\t\tfontSize: 12,\r\n\t\tsubtitle1: {\r\n\t\t\tfontWeight: 700,\r\n\t\t\tcolor: \"#fff\"\r\n    },\r\n    overline: {\r\n      color: \"#fff8\"\r\n    },\r\n    caption: {\r\n      color: \"#fff8\"\r\n    },\r\n\t\th5: {\r\n\t\t\tfontWeight: 900,\r\n\t\t\tletterSpacing: \"0.04rem\"\r\n\t\t},\r\n\t\th6: {\r\n\t\t\tfontWeight: 900,\r\n\t\t\tcolor: '#fff',\r\n\t\t\tletterSpacing: \"0.03rem\",\r\n\t\t\ttextTransform: \"uppercase\"\r\n\t\t}\r\n\t},\r\n\toverrides: {\r\n\t\tMuiBottomNavigationAction: {\r\n\t\t\troot: {\r\n\t\t\t\tcolor: \"#616161\",\r\n\t\t\t\t\"&$selected\": {\r\n\t\t\t\t\tcolor: \"#dce775\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n    },\r\n    MuiIconButton: {\r\n      colorPrimary: {\r\n        color: \"#fff\"\r\n      }\r\n    },\r\n    MuiListItemText: {\r\n      secondary: {\r\n        color: \"#ff8\"\r\n      }\r\n    },\r\n    MuiOutlinedInput: {\r\n      root: {\r\n        color: \"#fff\",\r\n        '& $notchedOutline': {\r\n            borderColor: '#ff8',\r\n        },\r\n        '&$focused $notchedOutline': {\r\n            borderColor: '#dce775',\r\n            borderWidth: 2,\r\n        },\r\n      },\r\n    },\r\n    MuiFormLabel: {\r\n      root: {\r\n        color: \"#fff8\",\r\n        '&$focused': {\r\n            color: '#dce775'\r\n        }\r\n      }\r\n    },\r\n    MuiMenuItem: {\r\n      root: {\r\n        color:\"#fff\"\r\n      }\r\n    }\r\n\t}\r\n})","import React, { useState } from \"react\"\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\"\r\nimport BottomNav from \"./components/BottomNav\"\r\nimport Home from \"./pages/Home\"\r\nimport Collection from \"./pages/Collection\"\r\nimport Favorites from \"./pages/Favorites\"\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\r\nimport { ThemeProvider } from '@material-ui/styles'\r\nimport { lightTheme, darkTheme } from \"./services/Themes.js\"\r\nimport Discover from \"./pages/Discover\"\r\n\r\nfunction App() {\r\n\r\n\tconst [tab, setTab] = useState(\"\")\r\n\tconst [defaultTheme, setDefaultTheme] = useState(false)\r\n\r\n\tconst handleToggleTheme = () => {\r\n\t\tsetDefaultTheme(!defaultTheme)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<ThemeProvider theme={defaultTheme ? darkTheme : lightTheme} >\r\n\t\t\t<CssBaseline />\r\n\t\t\t<Router basename=\"/link-library\">\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<Route exact path=\"/\">\r\n\t\t\t\t\t\t<Home onToggleTheme={handleToggleTheme} />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route path=\"/discover\">\r\n\t\t\t\t\t\t<Discover onToggleTheme={handleToggleTheme} />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route path=\"/collection\">\r\n\t\t\t\t\t\t<Collection onToggleTheme={handleToggleTheme} />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route path=\"/settings\">\r\n\t\t\t\t\t\t<Favorites onToggleTheme={handleToggleTheme} />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t</Switch>\r\n\t\t\t\t<BottomNav\r\n\t\t\t\t\tvalue={tab}\r\n\t\t\t\t\tonChange={setTab}\r\n\t\t\t\t/>\r\n\t\t\t</Router>\r\n\t\t</ThemeProvider>\r\n\t)\r\n}\r\n\r\nexport default App;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\"\r\nimport App from \"./App\"\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"))"],"sourceRoot":""}