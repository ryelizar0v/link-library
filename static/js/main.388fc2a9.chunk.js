(this["webpackJsonplink-library"]=this["webpackJsonplink-library"]||[]).push([[0],{261:function(e,t,a){e.exports=a(555)},373:function(e,t){},387:function(e,t){},389:function(e,t){},555:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),c=a.n(l),o=a(10),i=a(598),u=a(623),m=a(601),s=a(603),d=a(99),f=a.n(d),p=a(246),g=a.n(p),b=a(247),E=a.n(b),h=a(245),v=a.n(h),k=Object(i.a)((function(e){return{bottomBar:{position:"fixed",bottom:0,background:"#f0f0f0",margin:0,padding:0,width:"100%",zIndex:100,transition:"transform 0.3s ease-in-out",borderRadius:"".concat(e.spacing(1),"px ").concat(e.spacing(1),"px 0 0")},bottomBarShown:{transform:"translate3d(0,0,0)"},bottomBarHidden:{transform:"translate3d(0,100%,0)"}}}));var w=function(e){var t=k(),a=r.a.useState("home"),n=Object(o.a)(a,2),l=n[0],c=n[1];return r.a.createElement(m.a,{value:l,onChange:function(t,a){c(a),e.onChange(a)},className:"".concat(t.bottomBar," ").concat(t.bottomBarShown)},r.a.createElement(s.a,{label:"Home",value:"home",icon:r.a.createElement(v.a,null)}),r.a.createElement(s.a,{label:"Favorites",value:"favorites",icon:r.a.createElement(g.a,null)}),r.a.createElement(s.a,{label:"Collection",value:"collection",icon:r.a.createElement(f.a,null)}),r.a.createElement(s.a,{label:"Settings",value:"settings",icon:r.a.createElement(E.a,null)}))},j=a(604),O=a(605),y=a(71),x=a(248),S=a.n(x),C=Object(i.a)((function(e){return{menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,display:"flex",flexDirection:"column",alignItems:"flex-start",textTransform:"uppercase"}}}));var I=function(e){var t=C();return r.a.createElement(j.a,{position:"fixed"},r.a.createElement(O.a,null,r.a.createElement(S.a,{style:{marginRight:8}}),r.a.createElement("div",{className:t.title},r.a.createElement(y.a,{variant:"h6"},e.title))))},_=a(47),z=a(612),B=a(100),N=a.n(B),F=a(606),L=a(607),R=a(610),H=a(609),T=a(608),A=a(102),G=a.n(A),W=a(101),D=a.n(W),J=a(611),U=a(147),q=a.n(U);a(331);q.a.initializeApp({apiKey:"AIzaSyBaF7HPX0cehZsg5R1uaPwn-g-c8lO35Tk",authDomain:"link-library-5cfc6.firebaseapp.com",databaseURL:"https://link-library-5cfc6.firebaseio.com",projectId:"link-library-5cfc6",storageBucket:"link-library-5cfc6.appspot.com",messagingSenderId:"405205691939",appId:"1:405205691939:web:a040686ea827173f210b96",measurementId:"G-3J7Y752GEE"});var P=q.a,K=Object(i.a)((function(e){return{cardContainer:{background:"#c0c0c0",width:"100%"},cardContent:{lineHeight:1.25}}}));var X=function(e){var t=K(),a=function(e){var t=e.match(/^https?:\/\/(www.)?([^/?#]+)(?:[/?#]|$)/i);return t&&t[2]}(e.url);return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{className:t.cardContainer},r.a.createElement(L.a,null,""!==e.img?r.a.createElement(T.a,{component:"img",alt:"Image",image:e.img,title:"cat"}):"",r.a.createElement(H.a,null,r.a.createElement(y.a,{variant:"overline"},a),r.a.createElement(y.a,{className:t.cardContent,variant:"subtitle1",gutterBottom:!0},e.title),r.a.createElement(y.a,{className:t.cardContent,variant:"caption",gutterBottom:!0},e.url))),r.a.createElement(R.a,null,r.a.createElement(J.a,{size:"small",color:"primary"},r.a.createElement(D.a,null)),r.a.createElement(J.a,{size:"small",color:"primary",onClick:function(t){return a=e.contentId,void P.firestore().collection("links").doc(a).delete().then((function(){return console.log("Success")})).catch((function(e){return console.error("Error removing document: ",e)}));var a}},r.a.createElement(G.a,null)))))};var Y=function(){var e=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){var e=P.firestore().collection("links").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(_.a)({link_id:e.id},e.data())}));r(t)}));return function(){return e()}}),[]),a}().map((function(e){return r.a.createElement(z.a,{item:!0,key:e.link_id},r.a.createElement(X,{contentId:e.link_id,title:e.link_title,url:e.link_url,img:e.link_img}))})),t=function(){var e=Object(n.useState)({width:void 0,height:void 0}),t=Object(o.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){function e(){r({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),a}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,{monitorImagesLoaded:!0,columnWidth:t.width<321?"100%":t.width<426?"50%":t.width<769?"33.3333333%":t.width<1025?"25%":"20%"},e))},Z=a(616),$=a(556),M=a(613),Q=a(615),V=a(614),ee=a(627),te=a(103),ae=a.n(te),ne=a(104),re=a.n(ne),le=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){ae.a.get("https://cors-anywhere.herokuapp.com/https://robwu.nl/cors-anywhere.html").then((function(e){console.log(e);var t=re.a.load(e.data);l(t("title")[0].children[0].data)}),(function(e){console.log(e)}))}),[]),r.a.createElement(r.a.Fragment,null,a)},ce=Object(i.a)((function(e){return{root:{flexGrow:1,maxWidth:752},demo:{backgroundColor:e.palette.background.paper},title:{margin:e.spacing(4,0,2)}}}));function oe(){var e=ce(),t=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){var e=P.firestore().collection("collections").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(_.a)({folder_id:e.id},e.data())}));r(t)}));return function(){return e()}}),[]),a}().map((function(e){return n.createElement(z.a,{item:!0,key:e.folder_id},n.createElement($.a,{button:!0},n.createElement(M.a,null,n.createElement(ee.a,null,n.createElement(f.a,null))),n.createElement(V.a,{primary:e.folder_name,secondary:e.folder_desc}),n.createElement(Q.a,null,n.createElement(J.a,{edge:"end","aria-label":"edit"},n.createElement(D.a,null)),n.createElement(J.a,{edge:"end","aria-label":"delete",onClick:function(t){return a=e.folder_id,void P.firestore().collection("collections").doc(a).delete().then((function(){return console.log("Success")})).catch((function(e){return console.error("Error removing document: ",e)}));var a}},n.createElement(G.a,null)))))}));return n.createElement(n.Fragment,null,n.createElement(N.a,{columnWidth:"100%"},n.createElement("div",{className:e.demo},n.createElement(Z.a,{dense:!0},t))),n.createElement(le,null))}var ie=function(){return r.a.createElement("p",null,"Favorites")},ue=a(622),me=a(624),se=a(626),de=a(621),fe=a(619),pe=a(618),ge=a(617),be=a(249),Ee=a.n(be),he=a(620),ve=Object(i.a)((function(e){return{fabAdd:{position:"fixed",bottom:e.spacing(8),right:e.spacing(2),zIndex:1e3},formHolder:{position:"fixed",width:"100%",bottom:0,padding:"".concat(e.spacing(3),"px ").concat(e.spacing(2),"px"),borderRadius:"".concat(e.spacing(1),"px ").concat(e.spacing(1),"px 0 0"),background:"#999",zIndex:5,transition:"transform 0.3s ease-in-out"},formShown:{transform:"translate3d(0,0,0)"},formHidden:{transform:"translate3d(0,100%,0)"},formInput:{width:"100%",margin:"".concat(e.spacing(1),"px 0")},formTitle:{display:"flex",alignItems:"center",textTransform:"uppercase",paddingBottom:e.spacing(1)},buttonHolder:{margin:"".concat(e.spacing(1),"px 0")},formButton:{marginRight:"".concat(e.spacing(1),"px")}}}));function ke(e){var t=ve(),a=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){var e=P.firestore().collection("collections").onSnapshot((function(e){var t=e.docs.map((function(e){return Object(_.a)({folder_id:e.id},e.data())}));r(t)}));return function(){return e()}}),[]),a}(),l=Object(n.useState)(!1),c=Object(o.a)(l,2),i=c[0],u=c[1];console.log(a);var m=function(){u(!1)},s=Object(n.useState)(""),d=Object(o.a)(s,2),f=d[0],p=d[1],g=Object(n.useState)(""),b=Object(o.a)(g,2),E=b[0],h=b[1],v=Object(n.useState)(""),k=Object(o.a)(v,2),w=k[0],j=k[1],O=Object(n.useState)(""),y=Object(o.a)(O,2),x=y[0],S=y[1],C=Object(n.useState)(""),I=Object(o.a)(C,2),z=I[0],B=I[1];return r.a.createElement("div",null,r.a.createElement(ge.a,{color:"primary","aria-label":"add",className:t.fabAdd,onClick:function(){u(!0)}},r.a.createElement(Ee.a,null)),r.a.createElement(se.a,{open:i,onClose:m,"aria-labelledby":"form-dialog-title"},r.a.createElement("form",{onSubmit:function(t){switch(t.preventDefault(),e.mode){case"collection":P.firestore().collection("collections").add({folder_name:x,folder_desc:z});break;default:ae.a.get("https://cors-anywhere.herokuapp.com/"+w).then((function(e){console.log(e.data);var t=re.a.load(e.data),a="";t("img").each((function(e,t){/^https:\/\//.test(t.attribs.src)&&(a=t.attribs.src)})),P.firestore().collection("links").add({link_title:t("title")[0].children[0].data,link_url:w,folder_id:f,link_img:a}).then((function(){return alert("Link successfully added")})).catch((function(e){return console.error("Error adding to database: ",e)}))}))}p("0"),h(""),j(""),S(""),B(""),u(!1)}},r.a.createElement(pe.a,{id:"form-dialog-title"},"Add new ","collection"===e.mode?"collection":"link"),r.a.createElement(fe.a,null,"collection"===e.mode?r.a.createElement(r.a.Fragment,null,r.a.createElement(me.a,{required:!0,className:t.formInput,id:"collection-name",label:"Collection name",variant:"outlined",value:x,onChange:function(e){S(e.target.value)},size:"small"}),r.a.createElement(me.a,{multiline:!0,className:t.formInput,id:"collection-desc",label:"Collection description",variant:"outlined",value:z,onChange:function(e){B(e.target.value)},size:"small"})):r.a.createElement(r.a.Fragment,null,r.a.createElement(me.a,{multiline:!0,className:t.formInput,id:"link-title",label:"Link title",variant:"outlined",value:E,onChange:function(e){h(e.target.value)},size:"small",helperText:"Type your own title"}),r.a.createElement(me.a,{required:!0,type:"url",className:t.formInput,id:"link-url",label:"Link URL",variant:"outlined",size:"small",value:w,onChange:function(e){j(e.target.value)},helperText:"URL must start with http:// or https://"}),r.a.createElement(me.a,{className:t.formInput,id:"link-in-folder-id",select:!0,label:"Collection",value:f,onChange:function(e){p(e.target.value)},variant:"outlined",size:"small"},a.map((function(e){return r.a.createElement(he.a,{key:e.folder_id,value:e.folder_id},e.folder_name)}))))),r.a.createElement(de.a,null,r.a.createElement(ue.a,{type:"submit",color:"primary"},"Save"),r.a.createElement(ue.a,{onClick:m,color:"primary"},"Cancel")))))}var we=Object(i.a)((function(e){return{root:{flexGrow:1,width:"calc(100vw - ".concat(e.spacing(2),"px)"),marginLeft:e.spacing(1),marginRight:e.spacing(1),marginTop:e.spacing(9),marginBottom:e.spacing(9)}}}));var je=function(){var e=we(),t=Object(n.useState)("home"),a=Object(o.a)(t,2),l=a[0],c=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,null),r.a.createElement(I,{title:l}),r.a.createElement(ke,{mode:l}),r.a.createElement("div",{className:e.root},function(){switch(l){case"home":return r.a.createElement(Y,null);case"collection":return r.a.createElement(oe,null);default:return r.a.createElement(ie,null)}}()),r.a.createElement(w,{value:l,onChange:c}))};c.a.render(r.a.createElement(je,null),document.getElementById("root"))}},[[261,1,2]]]);
//# sourceMappingURL=main.388fc2a9.chunk.js.map