{"version":3,"sources":["components/BottomNav.js","components/Header.js","firebase.js","components/LinkCards.js","components/FormDialog.js","components/EditFormDialog.js","components/Snackbar.js","pages/Folder.js","pages/Home.js","pages/Collection.js","components/DiscoverProvider.js","pages/Discover.js","pages/Favorites.js","services/Themes.js","App.js","index.js"],"names":["useStyles","makeStyles","theme","bottomBar","position","bottom","background","palette","primary","main","margin","padding","width","zIndex","BottomNav","props","classes","history","useHistory","useState","value","setValue","listen","location","action","pathname","replace","BottomNavigation","onChange","event","tab","push","className","BottomNavigationAction","label","icon","menuButton","marginRight","spacing","title","flexGrow","display","flexDirection","alignItems","textTransform","Header","AppBar","style","Toolbar","Typography","variant","IconButton","onClick","onToggleTheme","color","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","cardContainer","paper","height","borderColor","light","borderRadius","cardContent","lineHeight","textOverflow","LinkCard","dispatch","hostName","url","matches","match","getHostName","linkDetails","link_title","link_url","folder_id","folder","link_img","img","date_added","Card","CardActionArea","CardMedia","component","alt","image","CardContent","gutterBottom","noWrap","CardActions","size","type","LINK_ACTIONS","EDIT_LINK","payload","data","docId","contentId","DELETE_LINK","id","text","onCopy","COPY_LINK","message","e","preventDefault","window","open","disabled","alert","fabAdd","right","formInput","root","bottomAppBar","top","snackBar","Transition","React","forwardRef","ref","Slide","direction","FormDialog","console","log","folders","folderDetails","setFolderDetails","useEffect","unsubscribe","firestore","collection","onSnapshot","snapshot","newDetails","docs","map","doc","useDetails","setOpen","snackbarOpen","setSnackbarOpen","snackbarMessage","setSnackbarMessage","collectionName","setCollectionName","collectionDesc","setCollectionDesc","defaultFolder","linkInFolder","setLinkInFolder","linkTitle","setLinkTitle","linkUrl","setLinkUrl","linkImg","setLinkImg","handleClose","resetFields","handleSnackbarClose","handleGetDetails","axios","get","then","res","$","cheerio","load","attr","undefined","children","each","i","link","test","attribs","src","catch","err","BottomAppBar","Button","Fab","aria-label","Dialog","fullScreen","TransitionComponent","aria-labelledby","onSubmit","mode","add","folder_name","folder_desc","onAdd","error","Date","DialogTitle","DialogContent","TextField","required","multiline","autoFocus","target","select","option","MenuItem","key","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","fontSize","EditFormDialog","linkId","setLinkId","collection_id","collectionId","setCollectionId","edit","update","onUpdate","helperText","Notifier","openSnackbar","setOpenSnackbar","undoButton","snackbarUndoButton","setSnackbarUndoButton","SNACKBAR_ACTIONS","CLOSE_SNACKBAR","UNDO_DELETE_LINK","folderNameHeader","paddingTop","Folder","name","showForm","setShowForm","clickedLinkData","setClickedLinkData","useReducer","state","setTimeout","delete","linkDispatch","snackbarDispatch","handleFormUpdateClick","links","fetchAll","setLinkDetails","linkRef","orderBy","link_id","where","Grid","item","windowSize","setWindowSize","handleResize","innerWidth","innerHeight","addEventListener","removeEventListener","useWindowSize","showHeader","Container","monitorImagesLoaded","columnWidth","gutterWidth","gutterHeight","Home","avatar","backgroundColor","secondary","folderIcon","swipeRightContainer","justifyContent","swipeRightAction","alignContent","swipeIcon","swipeLeftContainer","swipeLeftAction","listItem","Collection","folderId","setFolderId","folderName","setFolderName","folderDesc","setFolderDesc","folderData","reason","handleLinkClick","handleDeleteCollection","desc","deleteCollection","collections","swipeLeft","content","actionAnimation","ActionAnimations","RETURN","swipeRight","REMOVE","blockSwipe","editable","ListItem","ListItemAvatar","Avatar","ListItemText","Paper","List","edge","set","gridListHolder","flexWrap","overflow","gridList","discoverHeader","containerWrapper","DiscoverProvider","query","articleCards","news","setNews","articles","useNews","article","GridListTile","urlToImage","GridList","cols","cellHeight","Discover","Favorites","lightTheme","createMuiTheme","default","dark","contrastText","typography","subtitle1","fontWeight","h5","letterSpacing","h6","overrides","MuiBottomNavigationAction","darkTheme","overline","caption","MuiIconButton","colorPrimary","MuiListItemText","MuiOutlinedInput","borderWidth","MuiFormLabel","MuiMenuItem","App","setTab","defaultTheme","setDefaultTheme","handleToggleTheme","ThemeProvider","CssBaseline","basename","exact","path","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9e00c560.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport { BottomNavigation } from '@material-ui/core';\r\nimport { BottomNavigationAction } from '@material-ui/core';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport FolderIcon from '@material-ui/icons/Folder';\r\nimport FavoriteIcon from '@material-ui/icons/Favorite';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport PagesIcon from '@material-ui/icons/Pages';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tbottomBar: {\r\n\t\tposition: \"fixed\",\r\n\t\tbottom: 0,\r\n\t\tbackground: theme.palette.primary.main,\r\n\t\tmargin: 0,\r\n\t\tpadding: 0,\r\n\t\twidth: \"100vw\",\r\n\t\tzIndex: 100,\r\n\t}\r\n}))\r\n\r\nfunction BottomNav(props) {\r\n\r\n\tconst classes = useStyles()\r\n\tconst history = useHistory()\r\n\tconst [value, setValue] = useState(props.value)\r\n\tconst handleChange = (event, tab) => { \r\n\t\thistory.push(`/${tab}`)\r\n\t\tsetValue(tab)\r\n\t\tprops.onChange(tab)\r\n\t}\r\n\t\r\n\thistory.listen((location, action) => {\r\n\t\tif (action === \"POP\") setValue(location.pathname.replace(\"/\", \"\"))\r\n\t})\r\n\r\n\treturn (\r\n\t\t<BottomNavigation \r\n\t\t\tvalue={value} \r\n\t\t\tonChange={handleChange} \r\n\t\t\tclassName={classes.bottomBar}\r\n\t\t>\r\n\t\t\t<BottomNavigationAction label=\"Home\" value=\"\" icon={<HomeIcon />} />\r\n\t\t\t<BottomNavigationAction label=\"Collection\" value=\"collection\" icon={<FolderIcon />} />\r\n\t\t\t<BottomNavigationAction label=\"Discover\" value=\"discover\" icon={<PagesIcon />} />\r\n\t\t\t{/* <BottomNavigationAction label=\"Settings\" value=\"settings\" icon={<SettingsIcon />} /> */}\r\n\t\t</BottomNavigation>\r\n\t);\r\n}\r\n\r\nexport default BottomNav","import React from 'react'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport BookmarksIcon from '@material-ui/icons/Bookmarks'\r\nimport PaletteIcon from '@material-ui/icons/Palette'\r\nimport { IconButton } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    display: 'flex',\r\n    flexDirection: \"column\",\r\n    alignItems: \"flex-start\",\r\n    textTransform: \"uppercase\"\r\n  }\r\n}));\r\n\r\nconst Header = props => {\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <AppBar position=\"fixed\" style={{zIndex: 10000}}>\r\n      <Toolbar>\r\n        <BookmarksIcon style={{marginRight: 8}}/>\r\n        <div className={classes.title}>\r\n          <Typography variant=\"h5\">\r\n            {props.title}\r\n          </Typography>\r\n        </div>\r\n        <IconButton style={{padding:0}} onClick={props.onToggleTheme}>\r\n          <PaletteIcon style={{color: \"#fff\"}}/>\r\n        </IconButton>\r\n        \r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n}\r\n\r\nexport default Header;","import firebase from \"firebase/app\"\r\nimport \"firebase/firestore\"\r\n\r\n// Your web app's Firebase configuration\r\nvar firebaseConfig = {\r\n  apiKey: \"AIzaSyBaF7HPX0cehZsg5R1uaPwn-g-c8lO35Tk\",\r\n  authDomain: \"link-library-5cfc6.firebaseapp.com\",\r\n  databaseURL: \"https://link-library-5cfc6.firebaseio.com\",\r\n  projectId: \"link-library-5cfc6\",\r\n  storageBucket: \"link-library-5cfc6.appspot.com\",\r\n  messagingSenderId: \"405205691939\",\r\n  appId: \"1:405205691939:web:a040686ea827173f210b96\",\r\n  measurementId: \"G-3J7Y752GEE\"\r\n};\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport default firebase","import React from \"react\"\r\nimport { makeStyles } from \"@material-ui/core/styles\"\r\nimport { Card,\r\n\tCardActionArea,\r\n\tCardActions,\r\n\tCardContent,\r\n\tCardMedia,\r\n\tTypography\r\n} from \"@material-ui/core\"\r\nimport DeleteIcon from \"@material-ui/icons/Delete\"\r\nimport EditIcon from \"@material-ui/icons/Edit\"\r\nimport LinkIcon from '@material-ui/icons/Link'\r\nimport LaunchIcon from '@material-ui/icons/Launch'\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport IconButton from \"@material-ui/core/IconButton\"\r\nimport firebase from \"../firebase\"\r\n\r\nimport { CopyToClipboard } from 'react-copy-to-clipboard'\r\n\r\nimport { LINK_ACTIONS } from \"../pages/Folder.js\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tcardContainer: {\r\n\t\tbackground: theme.palette.background.paper,\r\n\t\twidth: \"100%\",\r\n\t\theight: \"100%\",\r\n\t\tborderColor: theme.palette.primary.light,\r\n\t\tborderRadius: theme.spacing(1),\r\n\t},\r\n\tcardContent: {\r\n\t\tlineHeight: 1.25,\r\n\t\ttextOverflow: \"ellipsis\"\r\n\t}\r\n}))\r\n\r\nconst LinkCard = ({ dispatch, ...props }) => {\r\n\r\n\tconst classes = useStyles()\r\n\tlet hostName = getHostName(props.url)\r\n\tconst linkDetails = {\r\n\t\tlink_title: props.title,\r\n\t\tlink_url: props.url,\r\n\t\tfolder_id: props.folder,\r\n\t\tlink_img: props.img,\r\n\t\tdate_added: props.date_added\r\n\t}\r\n\r\n\tconst handleDeleteLinkCard = (id, updateDelete) => {\r\n\t\tfirebase.firestore()\r\n\t\t.collection(\"links\")\r\n\t\t.doc(id)\r\n\t\t.delete()\r\n\t\t.then(() => {\r\n\t\t\tupdateDelete(\"Link successfully deleted\", linkDetails)\r\n\t\t\tconsole.log(\"Success\")\r\n\t\t}).catch((err) => {\r\n\t\t\tupdateDelete(\"Error deleting link\", linkDetails)\r\n\t\t\tconsole.error(\"Error removing document: \", err)\r\n\t\t}) \r\n\t}\r\n\r\n\treturn (\r\n\r\n\t\t\t<Card variant=\"outlined\" className={classes.cardContainer} >\r\n\t\t\t\t<CardActionArea>\r\n\t\t\t\t\t{props.img !== \"\" \r\n\t\t\t\t\t\t? (\r\n\t\t\t\t\t\t\t<CardMedia\r\n\t\t\t\t\t\t\t\tcomponent=\"img\"\r\n\t\t\t\t\t\t\t\talt={props.img}\r\n\t\t\t\t\t\t\t\timage={props.img}\r\n\t\t\t\t\t\t\t\ttitle={props.title}\r\n\t\t\t\t\t\t\t\theight={120}\r\n\t\t\t\t\t\t\t/> \r\n\t\t\t\t\t\t) : ( \"\" )\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<CardContent>\r\n\t\t\t\t\t\t<Typography variant=\"overline\">{hostName}</Typography>\r\n\t\t\t\t\t\t<Typography className={classes.cardContent} variant=\"subtitle1\" gutterBottom>{props.title}</Typography>\r\n\t\t\t\t\t\t<Typography noWrap className={classes.cardContent} variant=\"caption\" gutterBottom>{props.url}</Typography>\r\n\t\t\t\t\t</CardContent>\r\n\t\t\t\t</CardActionArea>\r\n\t\t\t\t<CardActions>\r\n\t\t\t\t\t<IconButton size=\"small\" color=\"primary\"\r\n\t\t\t\t\t\tonClick={() => dispatch({ \r\n\t\t\t\t\t\t\ttype: LINK_ACTIONS.EDIT_LINK,\r\n\t\t\t\t\t\t\tpayload: { data: { docId: props.contentId, ...linkDetails } }\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<EditIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<IconButton size=\"small\" color=\"primary\"\r\n\t\t\t\t\t\tonClick={() => dispatch({\r\n\t\t\t\t\t\t\ttype: LINK_ACTIONS.DELETE_LINK,\r\n\t\t\t\t\t\t\tpayload: { id: props.contentId, data: linkDetails }\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<DeleteIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<CopyToClipboard text={props.url} \r\n\t\t\t\t\t\tonCopy={() => dispatch({ \r\n\t\t\t\t\t\t\ttype: LINK_ACTIONS.COPY_LINK, \r\n\t\t\t\t\t\t\tpayload: { message: \"Link URL copied to clipboard\" } \r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<IconButton size=\"small\" color=\"primary\">\r\n\t\t\t\t\t\t\t<LinkIcon />\r\n\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t</CopyToClipboard>\r\n\t\t\t\t\t<IconButton size=\"small\" color=\"primary\"\r\n\t\t\t\t\t\tonClick={e => {\r\n\t\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\t\twindow.open(props.url, \"_blank\")\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<LaunchIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<IconButton size=\"small\" color=\"primary\" disabled\r\n\t\t\t\t\t\tonClick={() => alert(\"HEY\")}>\r\n\t\t\t\t\t\t<MoreVertIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</CardActions>\r\n\t\t\t</Card>\r\n\r\n\t\t\r\n\t)\r\n}\r\n\r\nfunction getHostName(url) {\r\n\tconst matches = url.match(/^https?:\\/\\/(www.)?([^/?#]+)(?:[/?#]|$)/i)\r\n\treturn matches && matches[2]\r\n}\r\n\r\nexport default LinkCard","import React from 'react'\r\nimport Button from '@material-ui/core/Button'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Dialog from '@material-ui/core/Dialog'\r\nimport DialogContent from '@material-ui/core/DialogContent'\r\nimport DialogTitle from '@material-ui/core/DialogTitle'\r\nimport { makeStyles, AppBar, Toolbar, Snackbar } from '@material-ui/core'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport AddIcon from '@material-ui/icons/Add'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport SaveIcon from '@material-ui/icons/Save'\r\nimport { useState, useEffect } from \"react\"\r\nimport { Slide } from \"@material-ui/core\"\r\n\r\nimport firebase from \"../firebase\"\r\nimport axios from \"axios\"\r\nimport cheerio from \"cheerio\"\r\n\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  fabAdd: {\r\n\t\tposition: \"fixed\",\r\n\t\tbottom: theme.spacing(9),\r\n\t\tright: theme.spacing(2),\r\n\t\tzIndex: 1000\r\n  },\r\n  formInput: {\r\n    width: \"100%\",\r\n    margin: theme.spacing(1,0)\r\n  },\r\n  root: {\r\n    padding: theme.spacing(8, 0, 18, 0),\r\n    background: theme.palette.background.paper\r\n  },\r\n  icon: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  bottomAppBar: {\r\n    top: \"auto\",\r\n    bottom: 0\r\n  },\r\n  snackBar: {\r\n\t\tposition: \"fixed\",\r\n\t\tbottom: theme.spacing(18)\r\n\t}\r\n}))\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"left\" ref={ref} {...props} />\r\n})\r\n\r\nexport default function FormDialog(props) {\r\n\r\n  console.log(\"FORM DIALOG PROPS: \", props)\r\n  const classes = useStyles();\r\n  const folders = useDetails()\r\n\r\n  const [open, setOpen] = useState(false)\r\n  const [snackbarOpen, setSnackbarOpen] = useState(false)\r\n  const [snackbarMessage, setSnackbarMessage] = useState(\"\")\r\n  const [collectionName, setCollectionName] = useState(\"\")\r\n  const [collectionDesc, setCollectionDesc] = useState(\"\")\r\n  const [linkInFolder, setLinkInFolder] = useState(props.defaultFolder)\r\n  const [linkTitle, setLinkTitle] = useState(\"\")\r\n  const [linkUrl, setLinkUrl] = useState(\"\")\r\n  const [linkImg, setLinkImg] = useState(\"\")\r\n\r\n  const handleClickOpen = () => setOpen(true)\r\n\r\n  const handleClose = () => {\r\n    resetFields()\r\n    setSnackbarOpen(false)\r\n    setOpen(false)\r\n  }\r\n\r\n  const handleSnackbarClose = () => {\r\n    setSnackbarOpen(false)\r\n  }\r\n\r\n  const handleFolderSelect = e => setLinkInFolder(e.target.value)\r\n  const handleTitleInput = e => setLinkTitle(e.target.value)\r\n\r\n  const handleUrlInput = e => {\r\n    setLinkUrl(e.target.value)\r\n    setSnackbarOpen(true)\r\n    setSnackbarMessage(\"Getting link details...\")\r\n    handleGetDetails(e.target.value !== undefined ? e.target.value : \"\")\r\n  }\r\n\r\n  const handleCollectionNameInput = e => setCollectionName(e.target.value)\r\n  const handleCollectionDescInput = e => setCollectionDesc(e.target.value)\r\n\r\n  const handleFormSubmit = e => {\r\n\r\n    e.preventDefault()\r\n    switch(props.mode) {\r\n      case \"collection\": {\r\n        firebase.firestore()\r\n        .collection(\"collections\")\r\n        .add({\r\n          folder_name: collectionName,\r\n          folder_desc: collectionDesc\r\n        }).then(() => {\r\n          props.onAdd(\"Collection successfully created\")\r\n          console.log(\"Collection successfully added\")\r\n        }).catch(err => {\r\n          props.onAdd(\"Error creating collection\")\r\n          console.error(\"Error adding collection: \", err)\r\n        })\r\n        break\r\n      }\r\n      default: \r\n        firebase.firestore()\r\n          .collection(\"links\")\r\n          .add({\r\n            link_title: linkTitle,\r\n            link_url: linkUrl,\r\n            folder_id: linkInFolder,\r\n            link_img: linkImg,\r\n            date_added: new Date()\r\n          }).then(() => {\r\n            props.onAdd(\"Link successfully added\")\r\n            console.log(\"Link successfully added\")\r\n          }).catch(err => {\r\n            props.onAdd(\"Error adding link: \", err)\r\n            console.error(\"Error adding to database: \", err)\r\n          })\r\n    }\r\n    resetFields()\r\n    setOpen(false)\r\n    \r\n  }\r\n\r\n  function resetFields() {\r\n    setLinkInFolder(props.defaultFolder)\r\n    setLinkTitle(\"\")\r\n    setLinkUrl(\"\")\r\n    setCollectionName(\"\")\r\n    setCollectionDesc(\"\")\r\n  }\r\n\r\n  const handleGetDetails = url => {\r\n    axios.get(\"https://cors-anywhere.herokuapp.com/\" + url)\r\n      .then(\r\n        res => {\r\n          console.log(res.data)\r\n          const $ = cheerio.load(res.data)\r\n          let title = $(\"meta[property='og:title']\").attr(\"content\")\r\n          if(title === undefined) title = $('title')[0].children[0].data\r\n          if(title === undefined) title = \"\"\r\n          let img = $(\"meta[property='og:image']\").attr(\"content\")\r\n          if(img === undefined) img = $(\"meta[property='twitter:image']\").attr(\"content\")\r\n          if(img === undefined) {\r\n            $(\"img\").each((i, link) => {\r\n              if(/^https:\\/\\//.test(link.attribs.src)) {\r\n                img = link.attribs.src\r\n              }\r\n            })\r\n          }\r\n          if(img === undefined) img = \"\"\r\n          \r\n          setLinkImg(img)\r\n          setLinkTitle(title)\r\n          setSnackbarOpen(false)\r\n      }).catch(err => {\r\n        console.log(\"THIS IS ERROR: \", err)\r\n        setSnackbarMessage(\"Link invalid or not found\")\r\n      })\r\n  }\r\n\r\n  const BottomAppBar = () => {\r\n    return (\r\n      <AppBar position=\"fixed\" color=\"secondary\" className={classes.bottomAppBar}>\r\n        <Toolbar>\r\n          {/* {props.mode === \"link\" ? (\r\n            <Button className={classes.icon} onClick={() => handleGetDetails(linkUrl)} >\r\n              <DescriptionIcon className={classes.icon} /> Get details\r\n            </Button>\r\n          ) : ( \"\" )} */}\r\n          <Button onClick={handleClose} >\r\n            <CancelIcon className={classes.icon} /> Cancel\r\n          </Button>\r\n        </Toolbar>\r\n      </AppBar>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Fab color=\"secondary\" aria-label=\"add\"\r\n        className={classes.fabAdd}\r\n        onClick={handleClickOpen}\r\n      >\r\n        <AddIcon />\r\n      </Fab>\r\n      <Dialog fullScreen open={open}\r\n        TransitionComponent={Transition} \r\n        aria-labelledby=\"form-dialog-title\"\r\n      >\r\n        <form onSubmit={handleFormSubmit} >\r\n        <div className={classes.root}>\r\n          <DialogTitle id=\"form-dialog-title\">\r\n            Add new {props.mode === \"collection\" ? props.mode : \"link\"}\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            {props.mode === \"collection\"\r\n              ? <>\r\n                  <TextField\r\n                    required\r\n                    multiline\r\n                    autoFocus\r\n                    className={classes.formInput}\r\n                    id=\"collection-name\"\r\n                    label=\"Collection name\"\r\n                    variant=\"outlined\"\r\n                    value={collectionName}\r\n                    onChange={handleCollectionNameInput}\r\n                    size=\"small\"\r\n                  />\r\n                  <TextField\r\n                    multiline\r\n                    className={classes.formInput}\r\n                    id=\"collection-desc\"\r\n                    label=\"Collection description\"\r\n                    variant=\"outlined\"\r\n                    value={collectionDesc}\r\n                    onChange={handleCollectionDescInput}\r\n                    size=\"small\"\r\n                  />\r\n              </> : <>\r\n                  <TextField\r\n                    multiline\r\n                    className={classes.formInput}\r\n                    id={\"link-title\"}\r\n                    label=\"Link title\"\r\n                    variant=\"outlined\"\r\n                    value={linkTitle}\r\n                    onChange={handleTitleInput}\r\n                    size=\"small\"\r\n                  />\r\n                  <TextField\r\n                    required\r\n                    multiline\r\n                    autoFocus\r\n                    type=\"url\"\r\n                    className={classes.formInput}\r\n                    id=\"link-url\"\r\n                    label=\"Link URL\"\r\n                    variant=\"outlined\"\r\n                    size=\"small\"\r\n                    value={linkUrl}\r\n                    onChange={handleUrlInput}\r\n                  />\r\n                  <TextField\r\n                    className={classes.formInput}\r\n                    id=\"link-in-folder-id\"\r\n                    select\r\n                    label=\"Collection\"\r\n                    value={linkInFolder}\r\n                    onChange={handleFolderSelect}\r\n                    variant=\"outlined\"\r\n                    size=\"small\"\r\n                  >\r\n                    {folders.map((option) => (\r\n                        <MenuItem \r\n                          key={option.folder_id} \r\n                          value={option.folder_id}\r\n                        >\r\n                          {option.folder_name}\r\n                        </MenuItem>\r\n                    ))}\r\n                  </TextField>\r\n                  {/* <Container style={{\r\n                    marginTop: 8,\r\n                    width: \"100%\",\r\n                    height: 200,\r\n                    objectFit: \"contain\",\r\n                  }}>\r\n                    Link image preview: \r\n                    <img width={\"100%\"} height={200} src={linkImg}></img>\r\n                  </Container> */}\r\n                </>\r\n            }\r\n          </DialogContent>\r\n          </div>\r\n          <Fab color=\"secondary\" aria-label=\"add\"\r\n            className={classes.fabAdd}\r\n            type=\"submit\"\r\n            variant=\"extended\"\r\n          >\r\n            <SaveIcon className={classes.icon} /> Save\r\n          </Fab>\r\n        </form>\r\n        <Snackbar\r\n          className={classes.snackBar}\r\n          anchorOrigin={{\r\n            vertical: 'bottom',\r\n            horizontal: 'left',\r\n          }}\r\n          open={snackbarOpen}\r\n          autoHideDuration={5000}\r\n          onClose={handleSnackbarClose}\r\n          message={snackbarMessage}\r\n          action={\r\n            <>\r\n              <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleSnackbarClose}>\r\n                <CloseIcon fontSize=\"small\" />\r\n              </IconButton>\r\n            </>\r\n          }\r\n        />\r\n        <BottomAppBar />\r\n      </Dialog>\r\n      \r\n    </div>\r\n  );\r\n}\r\n\r\nfunction useDetails() {\r\n\tconst [folderDetails, setFolderDetails] = useState([])\r\n\r\n\tuseEffect(() => {\r\n    const unsubscribe = firebase\r\n\t\t\t.firestore()\r\n\t\t\t.collection(\"collections\")\r\n\t\t\t.onSnapshot((snapshot) => {\r\n\t\t\t\tconst newDetails = snapshot.docs.map((doc) => ({\r\n\t\t\t\t\tfolder_id: doc.id,\r\n\t\t\t\t\t...doc.data()\r\n\t\t\t\t}))\r\n\t\t\t\tsetFolderDetails(newDetails)\r\n\t\t\t})\r\n        \r\n      return () => unsubscribe()\r\n    }, [])\r\n    \r\n    return folderDetails\r\n}","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport { makeStyles, AppBar, Toolbar, Snackbar } from '@material-ui/core';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport { useState, useEffect } from \"react\"\r\nimport { Slide } from \"@material-ui/core\"\r\n\r\nimport firebase from \"../firebase\"\r\nimport axios from \"axios\"\r\nimport cheerio from \"cheerio\"\r\n\r\nimport CancelIcon from '@material-ui/icons/Cancel'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  fabAdd: {\r\n\t\tposition: \"fixed\",\r\n\t\tbottom: theme.spacing(9),\r\n\t\tright: theme.spacing(2),\r\n\t\tzIndex: 1000\r\n  },\r\n  formInput: {\r\n    width: \"100%\",\r\n    margin: theme.spacing(1,0)\r\n  },\r\n  root: {\r\n    padding: theme.spacing(8, 0, 18, 0)\r\n  },\r\n  icon: {\r\n    marginRight: theme.spacing(1)\r\n  },\r\n  bottomAppBar: {\r\n    top: \"auto\",\r\n    bottom: 0\r\n  },\r\n  snackBar: {\r\n\t\tposition: \"fixed\",\r\n\t\tbottom: theme.spacing(18)\r\n\t}\r\n}))\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"left\" ref={ref} {...props} />\r\n})\r\n\r\nconst EditFormDialog = props => {\r\n\r\n  const classes = useStyles()\r\n  const folders = useDetails()\r\n  \r\n  const handleClose = () => {\r\n    resetFields()\r\n    setOpen(false)\r\n    setSnackbarOpen(false)\r\n    props.onClose(false)\r\n  }\r\n\r\n  const [linkInFolder, setLinkInFolder] = useState(props.folder_id)\r\n  const [linkTitle, setLinkTitle] = useState(props.link_title)\r\n  const [linkUrl, setLinkUrl] = useState(props.link_url)\r\n  const [linkImg, setLinkImg] = useState(props.link_img)\r\n  const [linkId, setLinkId] = useState(props.docId)\r\n  const [collectionId, setCollectionId] = useState(props.collection_id)\r\n  const [collectionName, setCollectionName] = useState(props.folder_name)\r\n  const [collectionDesc, setCollectionDesc] = useState(props.folder_desc)\r\n  const [open, setOpen] = useState(false)\r\n  const [snackbarOpen, setSnackbarOpen] = useState(false)\r\n  const [snackbarMessage, setSnackbarMessage] = useState(\"\")\r\n\r\n  useEffect(() => {\r\n    setLinkInFolder(props.folder_id)\r\n    setLinkTitle(props.link_title)\r\n    setLinkUrl(props.link_url)\r\n    setLinkImg(props.link_img)\r\n    setLinkId(props.docId)\r\n    setOpen(props.edit)\r\n    setCollectionId(props.collection_id)\r\n    setCollectionName(props.folder_name)\r\n    setCollectionDesc(props.folder_desc)\r\n  }, [\r\n    props.folder_id,\r\n    props.link_title,\r\n    props.link_url,\r\n    props.link_img,\r\n    props.edit,\r\n    props.docId,\r\n    props.collection_id,\r\n    props.folder_name,\r\n    props.folder_desc\r\n  ])\r\n\r\n  const handleFolderSelect = e => {\r\n    setLinkInFolder(e.target.value)\r\n  }\r\n\r\n  const handleTitleInput = e => {\r\n    setLinkTitle(e.target.value)\r\n  }\r\n\r\n  const handleSnackbarClose = () => {\r\n    setSnackbarOpen(false)\r\n  }\r\n\r\n  const handleUrlInput = e => {\r\n    setLinkUrl(e.target.value)\r\n    setSnackbarOpen(true)\r\n    setSnackbarMessage(\"Getting link details...\")\r\n    handleGetDetails(e.target.value !== undefined ? e.target.value : \"\")\r\n  }\r\n\r\n  const handleCollectionNameInput = e => {\r\n    setCollectionName(e.target.value)\r\n  }\r\n\r\n  const handleCollectionDescInput = e => {\r\n    setCollectionDesc(e.target.value)\r\n  }\r\n\r\n  const handleFormSubmit = e => {\r\n\r\n    e.preventDefault()\r\n    switch(props.mode) {\r\n      case \"collection\": {\r\n        firebase.firestore()\r\n        .collection(\"collections\")\r\n        .doc(collectionId)\r\n        .update({\r\n          folder_name: collectionName,\r\n          folder_desc: collectionDesc\r\n        }).then(() => {\r\n          props.onUpdate(\"Collection successfully updated\")\r\n          console.log(\"Collection successfully updated\")\r\n        }).catch(err => {\r\n          props.onUpdate(\"Error updating collection\")\r\n          console.error(\"Error adding collection: \", err)\r\n        })\r\n        break\r\n      }\r\n      default: \r\n        firebase.firestore()\r\n          .collection(\"links\")\r\n          .doc(linkId)\r\n          .update({\r\n            link_title: linkTitle,\r\n            link_url: linkUrl,\r\n            folder_id: linkInFolder,\r\n            link_img: linkImg,\r\n            date_added: new Date()\r\n          }).then(() => {\r\n            props.onAdd(\"Link successfully updated\")\r\n            console.log(\"Link successfully updated\")\r\n          }).catch(err => {\r\n            props.onAdd(\"Error updating link: \", err)\r\n            console.error(\"Error updating link on database: \", err)\r\n          })\r\n    }\r\n    resetFields()\r\n    setOpen(false)\r\n    \r\n  }\r\n\r\n  function resetFields() {\r\n    setLinkInFolder(linkInFolder)\r\n    setLinkTitle(\"\")\r\n    setLinkUrl(\"\")\r\n    setCollectionName(\"\")\r\n    setCollectionDesc(\"\")\r\n  }\r\n\r\n  const handleGetDetails = (url) => {\r\n    axios.get(\"https://cors-anywhere.herokuapp.com/\" + url)\r\n      .then(\r\n        res => {\r\n          console.log(res.data)\r\n          const $ = cheerio.load(res.data)\r\n          let title = $(\"meta[property='og:title']\").attr(\"content\")\r\n          if(title === undefined) title = $('title')[0].children[0].data\r\n          if(title === undefined) title = \"\"\r\n          let img = $(\"meta[property='og:image']\").attr(\"content\")\r\n          if(img === undefined) img = $(\"meta[property='twitter:image']\").attr(\"content\")\r\n          if(img === undefined) {\r\n            $(\"img\").each((i, link) => {\r\n              if(/^https:\\/\\//.test(link.attribs.src)) {\r\n                img = link.attribs.src\r\n              }\r\n            })\r\n          }\r\n          if(img === undefined) img = \"\"\r\n          \r\n          setLinkImg(img)\r\n          setLinkTitle(title)\r\n          setSnackbarOpen(false)\r\n      }).catch(err => {\r\n        console.log(\"THIS IS ERROR: \", err)\r\n        setSnackbarMessage(\"Link invalid or not found\")\r\n      })\r\n  }\r\n\r\n  const BottomAppBar = () => {\r\n    return (\r\n      <AppBar position=\"fixed\" color=\"secondary\" className={classes.bottomAppBar}>\r\n        <Toolbar>\r\n          {/* {props.mode === \"link\" ? (\r\n            <Button className={classes.icon} onClick={() => handleGetDetails(linkUrl)} >\r\n              <DescriptionIcon className={classes.icon} /> Get details\r\n            </Button>\r\n          ) : ( \"\" )} */}\r\n          <Button onClick={handleClose} >\r\n            <CancelIcon className={classes.icon} /> Cancel\r\n          </Button>\r\n        </Toolbar>\r\n      </AppBar>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Dialog fullScreen open={open}\r\n        TransitionComponent={Transition} \r\n        aria-labelledby=\"form-dialog-title\"\r\n      >\r\n        <form onSubmit={handleFormSubmit} >\r\n        <div className={classes.root}>\r\n          <DialogTitle id=\"form-dialog-title\">\r\n            Edit {props.mode === \"collection\" ? props.mode : \"link\"}\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            {props.mode === \"collection\"\r\n              ? <>\r\n                  <TextField\r\n                    required\r\n                    multiline\r\n                    autoFocus\r\n                    className={classes.formInput}\r\n                    id=\"collection-name\"\r\n                    label=\"Collection name\"\r\n                    variant=\"outlined\"\r\n                    value={collectionName}\r\n                    onChange={handleCollectionNameInput}\r\n                    size=\"small\"\r\n                  />\r\n                  <TextField\r\n                    multiline\r\n                    className={classes.formInput}\r\n                    id=\"collection-desc\"\r\n                    label=\"Collection description\"\r\n                    variant=\"outlined\"\r\n                    value={collectionDesc}\r\n                    onChange={handleCollectionDescInput}\r\n                    size=\"small\"\r\n                  />\r\n              </> : <>\r\n                  <TextField\r\n                    multiline\r\n                    className={classes.formInput}\r\n                    id={\"link-title\"}\r\n                    label=\"Link title\"\r\n                    variant=\"outlined\"\r\n                    value={linkTitle}\r\n                    onChange={handleTitleInput}\r\n                    size=\"small\"\r\n                  />\r\n                  <TextField\r\n                    required\r\n                    multiline\r\n                    autoFocus\r\n                    type=\"url\"\r\n                    className={classes.formInput}\r\n                    id=\"link-url\"\r\n                    label=\"Link URL\"\r\n                    variant=\"outlined\"\r\n                    size=\"small\"\r\n                    value={linkUrl}\r\n                    onChange={handleUrlInput}\r\n                    helperText=\"URL must start with http:// or https://\"\r\n                  />\r\n                  <TextField\r\n                    className={classes.formInput}\r\n                    id=\"link-in-folder-id\"\r\n                    select\r\n                    label=\"Collection\"\r\n                    value={linkInFolder}\r\n                    onChange={handleFolderSelect}\r\n                    variant=\"outlined\"\r\n                    size=\"small\"\r\n                  >\r\n                    {folders.map((option) => (\r\n                        <MenuItem \r\n                          key={option.folder_id} \r\n                          value={option.folder_id}\r\n                        >\r\n                          {option.folder_name}\r\n                        </MenuItem>\r\n                    ))}\r\n                  </TextField>\r\n                  {/* <Container style={{\r\n                    marginTop: 8,\r\n                    width: \"100%\",\r\n                    height: 200,\r\n                    objectFit: \"contain\",\r\n                  }}>\r\n                    Link image preview: \r\n                    <img width={\"100%\"} height={200} src={linkImg}></img>\r\n                  </Container> */}\r\n                </>\r\n            }\r\n          </DialogContent>\r\n          </div>\r\n          <Fab color=\"secondary\" aria-label=\"add\"\r\n            className={classes.fabAdd}\r\n            type=\"submit\"\r\n            variant=\"extended\"\r\n          >\r\n            <SaveIcon className={classes.icon} /> Save\r\n          </Fab>\r\n        </form>\r\n        <Snackbar\r\n          className={classes.snackBar}\r\n          anchorOrigin={{\r\n            vertical: 'bottom',\r\n            horizontal: 'left',\r\n          }}\r\n          open={snackbarOpen}\r\n          autoHideDuration={5000}\r\n          onClose={handleSnackbarClose}\r\n          message={snackbarMessage}\r\n          action={\r\n            <>\r\n              <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleSnackbarClose}>\r\n                <CloseIcon fontSize=\"small\" />\r\n              </IconButton>\r\n            </>\r\n          }\r\n        />\r\n        <BottomAppBar />\r\n      </Dialog>\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\nfunction useDetails() {\r\n\tconst [folderDetails, setFolderDetails] = useState([])\r\n\r\n\tuseEffect(() => {\r\n    const unsubscribe = firebase\r\n\t\t\t.firestore()\r\n\t\t\t.collection(\"collections\")\r\n\t\t\t.onSnapshot((snapshot) => {\r\n\t\t\t\tconst newDetails = snapshot.docs.map((doc) => ({\r\n\t\t\t\t\tfolder_id: doc.id,\r\n\t\t\t\t\t...doc.data()\r\n\t\t\t\t}))\r\n\t\t\t\tsetFolderDetails(newDetails)\r\n\t\t\t})\r\n        \r\n      return () => unsubscribe()\r\n    }, [])\r\n    \r\n    return folderDetails\r\n}\r\n\r\nexport default EditFormDialog","import React, { useEffect, useState } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport { SNACKBAR_ACTIONS } from '../pages/Folder';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  snackBar: {\r\n\t\tposition: \"fixed\",\r\n\t\tbottom: theme.spacing(18)\r\n\t}\r\n}))\r\n\r\nconst Notifier = ({ dispatch, ...props }) => {\r\n\r\n  const classes = useStyles()\r\n\r\n  const [openSnackbar, setOpenSnackbar] = useState(props.open) \r\n  const [snackbarMessage, setSnackbarMessage] = useState(props.message)\r\n  const [snackbarUndoButton, setSnackbarUndoButton] = useState(props.undoButton)\r\n\r\n  useEffect(() => {\r\n    setOpenSnackbar(props.open)\r\n    setSnackbarMessage(props.message)\r\n    setSnackbarUndoButton(props.undoButton)\r\n  }, [props.open, props.message, props.undoButton])\r\n\r\n  return (\r\n    <Snackbar\r\n      className={classes.snackBar}\r\n      anchorOrigin={{\r\n        vertical: 'bottom',\r\n        horizontal: 'left',\r\n      }}\r\n      open={openSnackbar}\r\n      autoHideDuration={5000}\r\n      onClose={() => dispatch({ type: SNACKBAR_ACTIONS.CLOSE_SNACKBAR })}\r\n      message={snackbarMessage}\r\n      action={\r\n        <>\r\n          {snackbarUndoButton ? (\r\n            <Button \r\n              color=\"inherit\" \r\n              aria-label=\"undo-delete-link\" \r\n              onClick={() => dispatch({ type: SNACKBAR_ACTIONS.UNDO_DELETE_LINK })}\r\n            >\r\n              Undo\r\n            </Button>\r\n          ) : ( \"\" )}\r\n          <IconButton size=\"small\" aria-label=\"close-snackbar\" color=\"inherit\" \r\n            onClick={() => dispatch({ type: SNACKBAR_ACTIONS.CLOSE_SNACKBAR })}\r\n          >\r\n            <CloseIcon fontSize=\"small\" />\r\n          </IconButton>\r\n        </>\r\n      }\r\n    />\r\n  )\r\n}\r\n\r\nexport default Notifier","import React, { useReducer } from \"react\"\r\nimport { useState, useEffect } from \"react\"\r\nimport firebase from \"../firebase\"\r\nimport { Grid, makeStyles, Typography, Container, Button } from \"@material-ui/core\"\r\nimport StackGrid from \"react-stack-grid\"\r\nimport LinkCard from \"../components/LinkCards\"\r\n\r\nimport Snackbar from '@material-ui/core/Snackbar'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport FormDialog from \"../components/FormDialog\"\r\nimport EditFormDialog from \"../components/EditFormDialog\"\r\nimport Notifier from \"../components/Snackbar\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n\t\twidth: `calc(100vw - ${theme.spacing(2)}px)`,\r\n    margin: theme.spacing(9,1,18,1)\r\n  },\r\n  folderNameHeader: {\r\n    background: theme.palette.background.paper,\r\n    position: \"sticky\",\r\n    top: theme.spacing(7),\r\n    zIndex: 5,\r\n    paddingTop: theme.spacing(2)\r\n  },\r\n  snackBar: {\r\n\t\tposition: \"fixed\",\r\n\t\tbottom: theme.spacing(18)\r\n\t}\r\n}))\r\n\r\nexport const LINK_ACTIONS = {\r\n  COPY_LINK: \"copy-link\",\r\n  EDIT_LINK: \"edit-link\",\r\n  DELETE_LINK: \"delete-link\"\r\n}\r\n\r\nexport const SNACKBAR_ACTIONS = {\r\n  UNDO_DELETE_LINK: \"undo-delete-link\",\r\n  CLOSE_SNACKBAR: \"close-snackbar\"\r\n}\r\n\r\nconst Folder = ({ id, name, ...props}) => {\r\n\r\n  const classes = useStyles()\r\n  \r\n  const [openSnackbar, setOpenSnackbar] = useState(false)\r\n  const [showForm, setShowForm] = useState(false)\r\n  const [snackbarMessage, setSnackbarMessage] = useState(\"\")\r\n  const [snackbarUndoButton, setSnackbarUndoButton] = useState(true)\r\n  const [clickedLinkData, setClickedLinkData] = useState({})\r\n\r\n  const linkCardsReducer = (state, action) => {\r\n    switch (action.type) {\r\n      case LINK_ACTIONS.COPY_LINK: {\r\n        setOpenSnackbar(false)\r\n        setTimeout(() => {\r\n          setSnackbarUndoButton(false)\r\n          setOpenSnackbar(true)\r\n          setSnackbarMessage(action.payload.message)\r\n        })\r\n        break\r\n      }\r\n      case LINK_ACTIONS.EDIT_LINK: {\r\n        setShowForm(true)\r\n        setClickedLinkData(action.payload.data)\r\n        break\r\n      }\r\n      case LINK_ACTIONS.DELETE_LINK: {\r\n        firebase.firestore()\r\n          .collection(\"links\")\r\n          .doc(action.payload.id)\r\n          .delete()\r\n          .then(() => {\r\n            setSnackbarMessage(\"Link successfully deleted\")\r\n            setOpenSnackbar(true)\r\n            setShowForm(false)\r\n            setClickedLinkData(action.payload.data)\r\n            setSnackbarUndoButton(true)\r\n            console.log(\"Success\")\r\n          }).catch((err) => {\r\n            setSnackbarMessage(\"Error deleting link\")\r\n            console.error(\"Error removing document: \", err)\r\n          }) \r\n        break\r\n      }\r\n      default: return state\r\n    }\r\n  }\r\n\r\n  const snackbarReducer = (state, action) => {\r\n    switch (action.type) {\r\n      case SNACKBAR_ACTIONS.UNDO_DELETE_LINK: {\r\n        firebase.firestore()\r\n          .collection(\"links\")\r\n          .add(clickedLinkData)\r\n          .then(() => console.log(\"Link delete undone\"))\r\n          .catch(err => console.error(\"Error encountered: \", err))\r\n        \r\n        setOpenSnackbar(false)\r\n        setTimeout(() => {\r\n          setOpenSnackbar(true)\r\n          setSnackbarUndoButton(false)\r\n          setSnackbarMessage(\"Link restored\")\r\n        }, 500)\r\n        break\r\n      }\r\n      case SNACKBAR_ACTIONS.CLOSE_SNACKBAR: {\r\n        setOpenSnackbar(false)\r\n        break\r\n      }\r\n      default: return state\r\n    }\r\n  }\r\n\r\n  const [linkState, linkDispatch] = useReducer(linkCardsReducer, {})\r\n  const [snackbarState, snackbarDispatch] = useReducer(snackbarReducer, {})\r\n  \r\n  const handleFormUpdateClick = (message) => {\r\n    setSnackbarUndoButton(false)\r\n    setOpenSnackbar(true)\r\n    setSnackbarMessage(message)\r\n    setShowForm(false)\r\n  }\r\n\r\n  const handleClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return\r\n    }\r\n    setOpenSnackbar(false)\r\n  }\r\n  \r\n  \r\n  const linkData = useDetails(id, props.fetchAll)\r\n  const links = linkData.map(link => (\r\n    \r\n    <Grid item key={link.link_id}>\r\n      <LinkCard \r\n        contentId={link.link_id}\r\n        title={link.link_title}\r\n        url={link.link_url}\r\n        img={link.link_img}\r\n        folder={link.folder_id}\r\n        date_added={link.date_added}\r\n        dispatch={linkDispatch}\r\n      />\r\n    </Grid>\r\n  ))\r\n  \r\n  const size = useWindowSize()\r\n    \r\n  return (\r\n    <>\r\n      {props.showHeader === undefined ? (\r\n          <Container className={classes.folderNameHeader}>\r\n            <Typography variant=\"h6\" gutterBottom>{name}</Typography>\r\n          </Container>\r\n        ) : ( \"\" )\r\n      }\r\n      <div className={classes.root} >\r\n        <StackGrid \r\n          monitorImagesLoaded={true}\r\n          columnWidth={size.width <= 320 ? size.width-16 : 160}\r\n          gutterWidth={8}\r\n          gutterHeight={8}\r\n        >\r\n          {links}\r\n        </StackGrid>\r\n        <Notifier \r\n          dispatch={snackbarDispatch}\r\n          open={openSnackbar}\r\n          message={snackbarMessage}\r\n          undoButton={snackbarUndoButton}\r\n        />\r\n        {/* <Snackbar\r\n          className={classes.snackBar}\r\n          anchorOrigin={{\r\n            vertical: 'bottom',\r\n            horizontal: 'left',\r\n          }}\r\n          open={openSnackbar}\r\n          autoHideDuration={5000}\r\n          onClose={handleClose}\r\n          message={snackbarMessage}\r\n          action={\r\n            <>\r\n              {snackbarUndoButton ? (\r\n                <Button color=\"inherit\" aria-label=\"undro-delete\" onClick={handleUndo}>\r\n                  Undo\r\n                </Button>\r\n              ) : ( \"\" )}\r\n              <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleClose}>\r\n                <CloseIcon fontSize=\"small\" />\r\n              </IconButton>\r\n            </>\r\n          }\r\n        /> */}\r\n      </div>\r\n      <FormDialog mode={\"link\"} onAdd={handleFormUpdateClick} defaultFolder={id}/>\r\n      <EditFormDialog mode={\"link\"} onAdd={handleFormUpdateClick} onClose={setShowForm} edit={showForm} {...clickedLinkData} />\r\n    </>\r\n  )\r\n}\r\n\r\nfunction useWindowSize() {\r\n  // Initialize state with undefined width/height so server and client renders match\r\n  // Learn more here: https://joshwcomeau.com/react/the-perils-of-rehydration/\r\n  const [windowSize, setWindowSize] = useState({\r\n      width: undefined,\r\n      height: undefined,\r\n  })\r\n\r\n  useEffect(() => {\r\n      // Handler to call on window resize\r\n      function handleResize() {\r\n      // Set window width/height to state\r\n          setWindowSize({\r\n              width: window.innerWidth,\r\n              height: window.innerHeight,\r\n          })\r\n      }\r\n      // Add event listener\r\n      window.addEventListener(\"resize\", handleResize)\r\n      // Call handler right away so state gets updated with initial window size\r\n      handleResize()\r\n      // Remove event listener on cleanup\r\n      return () => window.removeEventListener(\"resize\", handleResize)\r\n  }, []) // Empty array ensures that effect is only run on mount\r\n\r\n  return windowSize\r\n}\r\n\r\nfunction useDetails(id, fetchAll) {\r\n\r\n\tconst [linkDetails, setLinkDetails] = useState([])\r\n\r\n\tuseEffect(() => {\r\n    const linkRef = firebase.firestore().collection(\"links\")\r\n    if(fetchAll === true) {\r\n      linkRef.orderBy(\"date_added\", \"desc\").onSnapshot((snapshot) => {\r\n\t\t\t\tconst newDetails = snapshot.docs.map((doc) => ({\r\n\t\t\t\t\tlink_id: doc.id,\r\n\t\t\t\t\t...doc.data()\r\n\t\t\t\t}))\r\n\t\t\t\tsetLinkDetails(newDetails)\r\n\t\t\t})\r\n    } else {\r\n      linkRef.where(\"folder_id\", \"==\", id)\r\n      .onSnapshot(snapshot => {\r\n        const newDetails = snapshot.docs.map((doc) => ({\r\n          link_id: doc.id,\r\n          ...doc.data()\r\n        }))\r\n        setLinkDetails(newDetails)\r\n      })\r\n    }\r\n    return () => linkRef\r\n  }, [id, fetchAll])\r\n\r\n  // TO-DO: CLEANUP FUNCTION\r\n  \r\n  console.log(\"Function useDetails() in Folder.js called\")\r\n\t\r\n\treturn linkDetails\r\n}\r\n\r\nexport default Folder","import React from \"react\"\r\nimport Header from \"../components/Header\"\r\nimport Folder from \"./Folder\"\r\n\r\nconst Home = props => {\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Header title={\"Link library\"} onToggleTheme={props.onToggleTheme}/>\r\n\t\t\t<Folder id={\"3ppmoaOw6ANJk10oWmhh\"} fetchAll={true} showHeader={false} />\r\n\t\t</>\r\n\t)\r\n\t// TO-DO: REMOVE HARDCODED DEFAULT ID\r\n}\r\n\r\nexport default Home","import React, { useState, useEffect } from 'react'\r\nimport { \r\n  makeStyles,\r\n  List, \r\n  ListItem,\r\n  ListItemAvatar,\r\n  ListItemText,\r\n  Avatar,\r\n  IconButton,\r\n  Grid,\r\n  Dialog,\r\n  AppBar,\r\n  Toolbar,\r\n  Slide,\r\n  Paper,\r\n  Typography,\r\n  Snackbar,\r\n  Button\r\n} from \"@material-ui/core\"\r\n\r\nimport FolderIcon from '@material-ui/icons/Folder'\r\nimport DeleteIcon from '@material-ui/icons/Delete'\r\nimport SearchIcon from '@material-ui/icons/Search'\r\nimport MoreIcon from '@material-ui/icons/MoreVert'\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack'\r\n\r\nimport StackGrid from \"react-stack-grid\"\r\nimport firebase from \"../firebase\"\r\nimport Folder from './Folder'\r\nimport Header from '../components/Header'\r\nimport FormDialog from '../components/FormDialog'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\n\r\nimport { SwipeableListItem, ActionAnimations } from '@sandstreamdev/react-swipeable-list'\r\nimport '@sandstreamdev/react-swipeable-list/dist/styles.css'\r\nimport EditFormDialog from '../components/EditFormDialog'\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n\t\twidth: `calc(100vw - ${theme.spacing(4)}px)`,\r\n    margin: theme.spacing(9, 2, 18, 2),\r\n    zIndex: 0\r\n  },\r\n  title: {\r\n    margin: theme.spacing(4, 0, 2),\r\n  },\r\n  bottomAppBar: {\r\n    top: \"auto\",\r\n    bottom: 0\r\n  },\r\n  avatar: {\r\n    backgroundColor: theme.palette.secondary.main\r\n  },\r\n  folderIcon: {\r\n    color: theme.palette.primary.main\r\n  },\r\n  swipeRightContainer: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n    background: \"#ef5350\",\r\n    justifyContent: \"flex-start\",\r\n  },\r\n  swipeRightAction: {\r\n    display:\"flex\",\r\n    alignItems: \"center\",\r\n    color: \"#fff\",\r\n    alignContent: \"flex-start\"\r\n  },\r\n  swipeIcon: {\r\n    margin: theme.spacing(0, 1)\r\n  },\r\n  swipeLeftContainer: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    height: \"100%\",\r\n    width: \"100%\",\r\n    background: \"#1976d2\",\r\n    justifyContent: \"flex-end\",\r\n  },\r\n  swipeLeftAction: {\r\n    display:\"flex\",\r\n    alignItems: \"center\",\r\n    color: \"#fff\",\r\n    alignContent: \"flex-end\",\r\n  },\r\n  snackBar: {\r\n\t\tposition: \"fixed\",\r\n\t\tbottom: theme.spacing(18)\r\n  },\r\n  listItem: {\r\n    background: theme.palette.background.paper\r\n  }\r\n}))\r\n\r\nconst Transition = React.forwardRef(function Transition(props, ref) {\r\n  return <Slide direction=\"left\" ref={ref} {...props} />\r\n});\r\n\r\nconst Collection = props => {\r\n\r\n  const [open, setOpen] = useState(false)\r\n  const [openSnackbar, setOpenSnackbar] = useState(false)\r\n  const [snackbarMessage, setSnackbarMessage] = useState(\"\")\r\n  const [snackbarUndoButton, setSnackbarUndoButton] = useState(false)\r\n  const [folderId, setFolderId] = useState(\"\")\r\n  const [folderName, setFolderName] = useState(\"\")\r\n  const [folderDesc, setFolderDesc] = useState(\"\")\r\n  const [showForm, setShowForm] = useState(false)\r\n  const classes = useStyles()\r\n  const folderData = useDetails()\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true)\r\n  }\r\n\r\n  const handleClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return\r\n    }\r\n    setOpen(false)\r\n    setOpenSnackbar(false)\r\n  }\r\n\r\n  const handleCloseSnackbar = () => {\r\n    setOpenSnackbar(false)\r\n  }\r\n\r\n  const handleUndoDelete = () => {\r\n\r\n    setOpenSnackbar(false)\r\n    setSnackbarUndoButton(false)\r\n\r\n    firebase.firestore()\r\n      .collection(\"collections\")\r\n      .doc(folderId)\r\n      .set({\r\n        folder_name: folderName,\r\n        folder_desc: folderDesc\r\n      }).then(() => {\r\n        console.log(\"Collection restored\")\r\n        setTimeout(() => {\r\n          setOpenSnackbar(true)\r\n          setSnackbarMessage(\"Collection restored\")\r\n        }, 300)\r\n      }).catch(err => {\r\n        console.error(\"Error restoring collection: \", err)\r\n      })\r\n  }\r\n\r\n  const handleLinkClick = (id, name) => {\r\n    setFolderId(id)\r\n    setFolderName(name)\r\n    handleClickOpen()\r\n  }\r\n\r\n  const handleDeleteCollection = (id, name, desc) => {\r\n    setFolderId(id)\r\n    setFolderName(name)\r\n    setFolderDesc(desc)\r\n    deleteCollection(id)\r\n\r\n    setSnackbarUndoButton(true)\r\n    setShowForm(false)\r\n    setSnackbarMessage(\"Collection successfully deleted\")\r\n    setOpenSnackbar(true)\r\n  }\r\n\r\n  const handleAddCollection = message => {\r\n    setSnackbarUndoButton(false)\r\n    setSnackbarMessage(message)\r\n    console.log({message})\r\n    setOpenSnackbar(true)\r\n  }\r\n\r\n  const handleEditCollection = (id, name, desc) => {\r\n    setFolderId(id)\r\n    setFolderName(name)\r\n    setFolderDesc(desc)\r\n    setShowForm(true)\r\n  }\r\n\r\n  const handleUpdateCollection = message => {\r\n    setSnackbarMessage(message)\r\n    console.log({message})\r\n    setOpenSnackbar(true)\r\n    setShowForm(false)\r\n  }\r\n\r\n  const collections = folderData.map(folder =>\r\n    <Grid item key={folder.folder_id}>\r\n      <SwipeableListItem\r\n        swipeLeft={{\r\n          content:\r\n            <div className={classes.swipeLeftContainer}>\r\n              <div className={classes.swipeLeftAction}>\r\n                <Typography variant=\"subtitle2\">Edit</Typography>\r\n                <EditIcon fontSize=\"large\" className={classes.swipeIcon}/>                \r\n              </div>\r\n            </div>,\r\n          action: () => handleEditCollection(folder.folder_id, folder.folder_name, folder.folder_desc),\r\n          actionAnimation: ActionAnimations.RETURN\r\n        }}\r\n        swipeRight={{\r\n          content: \r\n            <div className={classes.swipeRightContainer}>\r\n              <div className={classes.swipeRightAction}>\r\n                <DeleteIcon fontSize=\"large\" className={classes.swipeIcon}/>\r\n                <Typography variant=\"subtitle2\">Delete</Typography>\r\n                \r\n              </div>\r\n            </div>,\r\n          action: () => handleDeleteCollection(folder.folder_id, folder.folder_name, folder.folder_desc),\r\n          actionAnimation: ActionAnimations.REMOVE\r\n        }}\r\n        blockSwipe={folder.editable !== undefined ? true : false}\r\n      >\r\n        <ListItem className={classes.listItem} onClick={() => handleLinkClick(folder.folder_id, folder.folder_name)}>\r\n          <ListItemAvatar>\r\n            <Avatar className={classes.avatar}>\r\n              <FolderIcon className={classes.folderIcon} />\r\n            </Avatar>\r\n          </ListItemAvatar>\r\n          <ListItemText\r\n            primary={<Typography variant=\"subtitle1\">{folder.folder_name}</Typography>}\r\n            secondary={folder.folder_desc}\r\n          />\r\n        </ListItem>\r\n      </SwipeableListItem>\r\n    </Grid>\r\n  )\r\n\r\n  return (\r\n    <>\r\n      <Header title={\"Collection\"} onToggleTheme={props.onToggleTheme} />\r\n      <div className={classes.root}>\r\n        <Paper variant=\"outlined\" style={{borderRadius: 8}}>\r\n        <List>\r\n          <StackGrid \r\n            columnWidth=\"100%\"\r\n            gutterWidth={8}\r\n            gutterHeight={0}\r\n          >\r\n            {collections}\r\n          </StackGrid>\r\n        </List>\r\n        </Paper>\r\n        <Dialog fullScreen open={open} TransitionComponent={Transition}>\r\n          <Folder id={folderId} name={folderName} />\r\n          <AppBar position=\"fixed\" color=\"secondary\" className={classes.bottomAppBar}>\r\n            <Toolbar>\r\n              <IconButton edge=\"start\" color=\"inherit\" aria-label=\"open drawer\"\r\n                onClick={handleClose}\r\n              >\r\n                <ArrowBackIcon />\r\n              </IconButton>\r\n              <IconButton color=\"inherit\">\r\n                <SearchIcon />\r\n              </IconButton>\r\n              <IconButton edge=\"end\" color=\"inherit\">\r\n                <MoreIcon />\r\n              </IconButton>\r\n            </Toolbar>\r\n          </AppBar>\r\n        </Dialog>\r\n      </div>\r\n      <Snackbar\r\n        className={classes.snackBar}\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'left',\r\n        }}\r\n        open={openSnackbar}\r\n        onClose={handleClose}\r\n        autoHideDuration={5000}\r\n        message={snackbarMessage}\r\n        action={\r\n          <>\r\n            {snackbarUndoButton ? (\r\n              <Button color=\"secondary\" aria-label=\"undo-delete\" onClick={handleUndoDelete}>\r\n                Undo\r\n              </Button>\r\n            ) : ( \"\" )}\r\n            <IconButton size=\"small\" aria-label=\"close\" color=\"inherit\" onClick={handleCloseSnackbar}>\r\n              <CloseIcon fontSize=\"small\" />\r\n            </IconButton>\r\n          </>\r\n        }\r\n      />\r\n      <FormDialog mode={\"collection\"} onAdd={handleAddCollection} />\r\n      <EditFormDialog mode={\"collection\"} edit={showForm} onClose={setShowForm} onUpdate={handleUpdateCollection}\r\n        collection_id={folderId} folder_name={folderName} folder_desc={folderDesc}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nfunction deleteCollection(id) {\r\n\r\n\tfirebase.firestore()\r\n\t\t.collection(\"collections\")\r\n\t\t.doc(id)\r\n\t\t.delete()\r\n\t\t.then(() =>\r\n\t\t\tconsole.log(\"Collection successfully deleted\")\r\n\t\t).catch((err) =>\r\n\t\t\tconsole.error(\"Error removing document: \", err)\r\n\t\t)\r\n}\r\n\r\nfunction useDetails() {\r\n\tconst [folderDetails, setFolderDetails] = useState([])\r\n\r\n\tuseEffect(() => {\r\n\t\tconst unsubscribe = firebase\r\n\t\t\t.firestore()\r\n\t\t\t.collection(\"collections\")\r\n\t\t\t.onSnapshot((snapshot) => {\r\n\t\t\t\tconst newDetails = snapshot.docs.map((doc) => ({\r\n\t\t\t\t\tfolder_id: doc.id,\r\n\t\t\t\t\t...doc.data()\r\n\t\t\t\t}))\r\n\t\t\t\tsetFolderDetails(newDetails)\r\n\t\t\t})\r\n        \r\n      return () => unsubscribe()\r\n    }, [])\r\n    \r\n    return folderDetails\r\n}\r\n\r\nexport default Collection","import React, { useState, useEffect } from \"react\"\r\nimport axios from \"axios\"\r\nimport LinkCard from \"../components/LinkCards\"\r\nimport { GridList, GridListTile, makeStyles, Typography } from \"@material-ui/core\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  gridListHolder: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'space-around',\r\n    overflow: 'hidden',\r\n\r\n  },\r\n  gridList: {\r\n    flexWrap: \"nowrap\",\r\n    padding: theme.spacing(0,2,1,2),\r\n  },\r\n  discoverHeader: {\r\n    padding: theme.spacing(0,2)\r\n  },\r\n  containerWrapper: {\r\n    margin: theme.spacing(2,0)\r\n  }\r\n}))\r\n\r\nconst DiscoverProvider = ({ title, query }) => {\r\n\r\n  const classes = useStyles()\r\n  const newsProviderApi = \"http://newsapi.org/v2/\"\r\n  const apiKey = \"&apiKey=28bc2e36c58a4e4cbe1cc35c93fd54fa\"\r\n\r\n  const useNews = () => {\r\n    const [news, setNews] = useState([])\r\n    useEffect(() => {\r\n      const unsubscribe = axios.get(newsProviderApi + query + apiKey)\r\n        .then(res => {\r\n          setNews(res.data.articles)\r\n        }).catch(err => {\r\n          console.log({err})\r\n        })\r\n      return () => unsubscribe\r\n      // TO-DO: PROPER CLEANUP\r\n    }, [])\r\n\r\n    return news\r\n  }\r\n\r\n  const articles = useNews()\r\n  const articleCards = articles.map(article => (\r\n    <GridListTile key={article.url}>\r\n      <LinkCard\r\n          title={article.title}\r\n          url={article.url}\r\n          img={article.urlToImage}\r\n        />\r\n    </GridListTile>\r\n  ))\r\n\r\n  return (\r\n    <div className={classes.containerWrapper} >\r\n      <div className={classes.discoverHeader}>\r\n        <Typography variant=\"h6\" gutterBottom>\r\n          {title}\r\n        </Typography>\r\n      </div>\r\n      <div className={classes.gridListHolder} >\r\n        <GridList className={classes.gridList} cols={1.5} cellHeight={\"auto\"} spacing={8}>\r\n          {articleCards}\r\n        </GridList>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DiscoverProvider","import React, {  } from \"react\"\r\nimport { makeStyles } from \"@material-ui/core\"\r\nimport Header from \"../components/Header\"\r\nimport DiscoverProvider from \"../components/DiscoverProvider\"\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: \"100%\",\r\n    margin: theme.spacing(9,0)\r\n  },\r\n  gridListHolder: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'space-around',\r\n    overflow: 'hidden',\r\n\r\n  },\r\n  gridList: {\r\n    flexWrap: \"nowrap\",\r\n    padding: theme.spacing(0,1)\r\n  }\r\n}))\r\n\r\nconst Discover = props => {\r\n\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <>\r\n      <Header title={\"Discover\"} onToggleTheme={props.onToggleTheme}/>\r\n      <div className={classes.root} >\r\n        <DiscoverProvider \r\n          title={\"Philippines Headlines\"}\r\n          query={\"everything?domains=rappler.com,philstar.com,abs-cbn.com,bworldonline.com,interaksyon.com&pageSize=30\"}\r\n        />\r\n        <DiscoverProvider \r\n          title={\"World Headlines\"}\r\n          query={\"top-headlines?sources=al-jazeera-english,bbc-news,cnn,associated-press,reuters,time&pageSize=30\"} \r\n        />\r\n        <DiscoverProvider \r\n          title={\"Coronavirus update\"}\r\n          query={\"everything?q=covid-19+coronavirus\"} \r\n        />\r\n        <DiscoverProvider \r\n          title={\"News analysis and opinion\"}\r\n          query={\"top-headlines?sources=politico,axios,vice-news\"} \r\n        />\r\n        <DiscoverProvider\r\n          title={\"Science and Technology\"}\r\n          query={\"top-headlines?sources=engadget,hacker-news,the-verge,techradar,techcrunch,recode,national-geographic,ign,new-scientist&pageSize=30\"} \r\n        />\r\n        <DiscoverProvider\r\n          title={\"Culture and entertainment\"}\r\n          query={\"top-headlines?sources=buzzfeed,mashable,mtv-news\"} \r\n        />\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Discover","import React from \"react\"\r\nimport Header from \"../components/Header\"\r\nimport Discover from \"./Discover\"\r\n\r\nconst Favorites = props => {\r\n    return (\r\n        <>\r\n            {/* <Header title={\"Favorites\"} onToggleTheme={props.onToggleTheme} /> */}\r\n            <Discover />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Favorites","import { createMuiTheme } from '@material-ui/core/styles'\r\n\r\nexport const lightTheme = createMuiTheme({\r\n  palette: {\r\n\t\tbackground: {\r\n\t\t\tdefault: \"#dadada\"\r\n\t\t},\r\n    primary: {\r\n      light: '#e0e0e0',\r\n      main: '#37474f',\r\n      dark: '#102027',\r\n      contrastText: '#fff',\r\n    },\r\n    secondary: {\r\n      light: '#ffffa6',\r\n      main: '#dce775',\r\n      dark: '#a8b545',\r\n      contrastText: '#000',\r\n    },\r\n\t},\r\n\ttypography: {\r\n\t\tfontSize: 12,\r\n\t\tsubtitle1: {\r\n\t\t\tfontWeight: 700,\r\n\t\t\tcolor: \"#37474f\"\r\n\t\t},\r\n\t\th5: {\r\n\t\t\tfontWeight: 900,\r\n\t\t\tletterSpacing: \"0.04rem\"\r\n\t\t},\r\n\t\th6: {\r\n\t\t\tfontWeight: 900,\r\n\t\t\tcolor: '#37474f',\r\n\t\t\tletterSpacing: \"0.03rem\",\r\n\t\t\ttextTransform: \"uppercase\"\r\n\t\t}\r\n\t},\r\n\toverrides: {\r\n\t\tMuiBottomNavigationAction: {\r\n\t\t\troot: {\r\n\t\t\t\tcolor: \"#62727b\",\r\n\t\t\t\t\"&$selected\": {\r\n\t\t\t\t\tcolor: \"#dce775\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n})\r\n\r\nexport const darkTheme = createMuiTheme({\r\n  palette: {\r\n\t\tbackground: {\r\n      default: \"#424242\",\r\n      paper: \"#333\"\r\n\t\t},\r\n    primary: {\r\n      light: '#484848',\r\n      main: '#212121',\r\n      dark: '#000000',\r\n      contrastText: '#fff',\r\n    },\r\n    secondary: {\r\n      light: '#ffffa6',\r\n      main: '#dce775',\r\n      dark: '#a8b545',\r\n      contrastText: '#000',\r\n    },\r\n\t},\r\n\ttypography: {\r\n\t\tfontSize: 12,\r\n\t\tsubtitle1: {\r\n\t\t\tfontWeight: 700,\r\n\t\t\tcolor: \"#fff\"\r\n    },\r\n    overline: {\r\n      color: \"#fff8\"\r\n    },\r\n    caption: {\r\n      color: \"#fff8\"\r\n    },\r\n\t\th5: {\r\n\t\t\tfontWeight: 900,\r\n\t\t\tletterSpacing: \"0.04rem\"\r\n\t\t},\r\n\t\th6: {\r\n\t\t\tfontWeight: 900,\r\n\t\t\tcolor: '#fff',\r\n\t\t\tletterSpacing: \"0.03rem\",\r\n\t\t\ttextTransform: \"uppercase\"\r\n\t\t}\r\n\t},\r\n\toverrides: {\r\n\t\tMuiBottomNavigationAction: {\r\n\t\t\troot: {\r\n\t\t\t\tcolor: \"#616161\",\r\n\t\t\t\t\"&$selected\": {\r\n\t\t\t\t\tcolor: \"#dce775\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n    },\r\n    MuiIconButton: {\r\n      colorPrimary: {\r\n        color: \"#fff\"\r\n      }\r\n    },\r\n    MuiListItemText: {\r\n      secondary: {\r\n        color: \"#ff8\"\r\n      }\r\n    },\r\n    MuiOutlinedInput: {\r\n      root: {\r\n        color: \"#fff\",\r\n        '& $notchedOutline': {\r\n            borderColor: '#ff8',\r\n        },\r\n        '&$focused $notchedOutline': {\r\n            borderColor: '#dce775',\r\n            borderWidth: 2,\r\n        },\r\n      },\r\n    },\r\n    MuiFormLabel: {\r\n      root: {\r\n        color: \"#fff8\",\r\n        '&$focused': {\r\n            color: '#dce775'\r\n        }\r\n      }\r\n    },\r\n    MuiMenuItem: {\r\n      root: {\r\n        color:\"#fff\"\r\n      }\r\n    }\r\n\t}\r\n})","import React, { useState } from \"react\"\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\"\r\nimport BottomNav from \"./components/BottomNav\"\r\nimport Home from \"./pages/Home\"\r\nimport Collection from \"./pages/Collection\"\r\nimport Favorites from \"./pages/Favorites\"\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\r\nimport { ThemeProvider } from '@material-ui/styles'\r\nimport { lightTheme, darkTheme } from \"./services/Themes.js\"\r\nimport Discover from \"./pages/Discover\"\r\n\r\nfunction App() {\r\n\r\n\tconst [tab, setTab] = useState(\"\")\r\n\tconst [defaultTheme, setDefaultTheme] = useState(false)\r\n\r\n\tconst handleToggleTheme = () => {\r\n\t\tsetDefaultTheme(!defaultTheme)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<ThemeProvider theme={defaultTheme ? darkTheme : lightTheme} >\r\n\t\t\t<CssBaseline />\r\n\t\t\t<Router basename=\"/link-library\">\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<Route exact path=\"/\">\r\n\t\t\t\t\t\t<Home onToggleTheme={handleToggleTheme} />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route path=\"/discover\">\r\n\t\t\t\t\t\t<Discover onToggleTheme={handleToggleTheme} />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route path=\"/collection\">\r\n\t\t\t\t\t\t<Collection onToggleTheme={handleToggleTheme} />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route path=\"/settings\">\r\n\t\t\t\t\t\t<Favorites onToggleTheme={handleToggleTheme} />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t</Switch>\r\n\t\t\t\t<BottomNav\r\n\t\t\t\t\tvalue={tab}\r\n\t\t\t\t\tonChange={setTab}\r\n\t\t\t\t/>\r\n\t\t\t</Router>\r\n\t\t</ThemeProvider>\r\n\t)\r\n}\r\n\r\nexport default App;","import React from \"react\";\r\nimport ReactDOM from \"react-dom\"\r\nimport App from \"./App\"\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"))"],"sourceRoot":""}